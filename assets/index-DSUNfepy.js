var ZJ=Object.defineProperty;var WD=e=>{throw TypeError(e)};var eQ=(e,t,n)=>t in e?ZJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>eQ(e,typeof t!="symbol"?t+"":t,n),HD=(e,t,n)=>t.has(e)||WD("Cannot "+n);var jD=(e,t,n)=>(HD(e,t,"read from private field"),n?n.call(e):t.get(e)),GD=(e,t,n)=>t.has(e)?WD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Wk=(e,t,n,r)=>(HD(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function tQ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hk={exports:{}},Ep={},jk={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD;function nQ(){if(YD)return St;YD=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=d&&W[d]||W["@@iterator"],typeof W=="function"?W:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,x={};function v(W,M,Y){this.props=W,this.context=M,this.refs=x,this.updater=Y||g}v.prototype.isReactComponent={},v.prototype.setState=function(W,M){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,M,"setState")},v.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function _(){}_.prototype=v.prototype;function E(W,M,Y){this.props=W,this.context=M,this.refs=x,this.updater=Y||g}var k=E.prototype=new _;k.constructor=E,m(k,v.prototype),k.isPureReactComponent=!0;var A=Array.isArray,T=Object.prototype.hasOwnProperty,D={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function F(W,M,Y){var Q,V={},le=null,we=null;if(M!=null)for(Q in M.ref!==void 0&&(we=M.ref),M.key!==void 0&&(le=""+M.key),M)T.call(M,Q)&&!b.hasOwnProperty(Q)&&(V[Q]=M[Q]);var xe=arguments.length-2;if(xe===1)V.children=Y;else if(1<xe){for(var ie=Array(xe),ue=0;ue<xe;ue++)ie[ue]=arguments[ue+2];V.children=ie}if(W&&W.defaultProps)for(Q in xe=W.defaultProps,xe)V[Q]===void 0&&(V[Q]=xe[Q]);return{$$typeof:e,type:W,key:le,ref:we,props:V,_owner:D.current}}function C(W,M){return{$$typeof:e,type:W.type,key:M,ref:W.ref,props:W.props,_owner:W._owner}}function N(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function R(W){var M={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return M[Y]})}var L=/\/+/g;function j(W,M){return typeof W=="object"&&W!==null&&W.key!=null?R(""+W.key):M.toString(36)}function q(W,M,Y,Q,V){var le=typeof W;(le==="undefined"||le==="boolean")&&(W=null);var we=!1;if(W===null)we=!0;else switch(le){case"string":case"number":we=!0;break;case"object":switch(W.$$typeof){case e:case t:we=!0}}if(we)return we=W,V=V(we),W=Q===""?"."+j(we,0):Q,A(V)?(Y="",W!=null&&(Y=W.replace(L,"$&/")+"/"),q(V,M,Y,"",function(ue){return ue})):V!=null&&(N(V)&&(V=C(V,Y+(!V.key||we&&we.key===V.key?"":(""+V.key).replace(L,"$&/")+"/")+W)),M.push(V)),1;if(we=0,Q=Q===""?".":Q+":",A(W))for(var xe=0;xe<W.length;xe++){le=W[xe];var ie=Q+j(le,xe);we+=q(le,M,Y,ie,V)}else if(ie=p(W),typeof ie=="function")for(W=ie.call(W),xe=0;!(le=W.next()).done;)le=le.value,ie=Q+j(le,xe++),we+=q(le,M,Y,ie,V);else if(le==="object")throw M=String(W),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return we}function U(W,M,Y){if(W==null)return W;var Q=[],V=0;return q(W,Q,"","",function(le){return M.call(Y,le,V++)}),Q}function K(W){if(W._status===-1){var M=W._result;M=M(),M.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=M)}if(W._status===1)return W._result.default;throw W._result}var ee={current:null},ne={transition:null},z={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:ne,ReactCurrentOwner:D};function ae(){throw Error("act(...) is not supported in production builds of React.")}return St.Children={map:U,forEach:function(W,M,Y){U(W,function(){M.apply(this,arguments)},Y)},count:function(W){var M=0;return U(W,function(){M++}),M},toArray:function(W){return U(W,function(M){return M})||[]},only:function(W){if(!N(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},St.Component=v,St.Fragment=n,St.Profiler=i,St.PureComponent=E,St.StrictMode=r,St.Suspense=l,St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,St.act=ae,St.cloneElement=function(W,M,Y){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Q=m({},W.props),V=W.key,le=W.ref,we=W._owner;if(M!=null){if(M.ref!==void 0&&(le=M.ref,we=D.current),M.key!==void 0&&(V=""+M.key),W.type&&W.type.defaultProps)var xe=W.type.defaultProps;for(ie in M)T.call(M,ie)&&!b.hasOwnProperty(ie)&&(Q[ie]=M[ie]===void 0&&xe!==void 0?xe[ie]:M[ie])}var ie=arguments.length-2;if(ie===1)Q.children=Y;else if(1<ie){xe=Array(ie);for(var ue=0;ue<ie;ue++)xe[ue]=arguments[ue+2];Q.children=xe}return{$$typeof:e,type:W.type,key:V,ref:le,props:Q,_owner:we}},St.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},St.createElement=F,St.createFactory=function(W){var M=F.bind(null,W);return M.type=W,M},St.createRef=function(){return{current:null}},St.forwardRef=function(W){return{$$typeof:o,render:W}},St.isValidElement=N,St.lazy=function(W){return{$$typeof:c,_payload:{_status:-1,_result:W},_init:K}},St.memo=function(W,M){return{$$typeof:u,type:W,compare:M===void 0?null:M}},St.startTransition=function(W){var M=ne.transition;ne.transition={};try{W()}finally{ne.transition=M}},St.unstable_act=ae,St.useCallback=function(W,M){return ee.current.useCallback(W,M)},St.useContext=function(W){return ee.current.useContext(W)},St.useDebugValue=function(){},St.useDeferredValue=function(W){return ee.current.useDeferredValue(W)},St.useEffect=function(W,M){return ee.current.useEffect(W,M)},St.useId=function(){return ee.current.useId()},St.useImperativeHandle=function(W,M,Y){return ee.current.useImperativeHandle(W,M,Y)},St.useInsertionEffect=function(W,M){return ee.current.useInsertionEffect(W,M)},St.useLayoutEffect=function(W,M){return ee.current.useLayoutEffect(W,M)},St.useMemo=function(W,M){return ee.current.useMemo(W,M)},St.useReducer=function(W,M,Y){return ee.current.useReducer(W,M,Y)},St.useRef=function(W){return ee.current.useRef(W)},St.useState=function(W){return ee.current.useState(W)},St.useSyncExternalStore=function(W,M,Y){return ee.current.useSyncExternalStore(W,M,Y)},St.useTransition=function(){return ee.current.useTransition()},St.version="18.3.1",St}var VD;function _3(){return VD||(VD=1,jk.exports=nQ()),jk.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD;function rQ(){if(qD)return Ep;qD=1;var e=_3(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(o,l,u){var c,d={},p=null,g=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(c in l)r.call(l,c)&&!a.hasOwnProperty(c)&&(d[c]=l[c]);if(o&&o.defaultProps)for(c in l=o.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:o,key:p,ref:g,props:d,_owner:i.current}}return Ep.Fragment=n,Ep.jsx=s,Ep.jsxs=s,Ep}var XD;function iQ(){return XD||(XD=1,Hk.exports=rQ()),Hk.exports}var oe=iQ(),qn=_3(),Lx={},Gk={exports:{}},Ui={},Yk={exports:{}},Vk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KD;function aQ(){return KD||(KD=1,(function(e){function t(ne,z){var ae=ne.length;ne.push(z);e:for(;0<ae;){var W=ae-1>>>1,M=ne[W];if(0<i(M,z))ne[W]=z,ne[ae]=M,ae=W;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var z=ne[0],ae=ne.pop();if(ae!==z){ne[0]=ae;e:for(var W=0,M=ne.length,Y=M>>>1;W<Y;){var Q=2*(W+1)-1,V=ne[Q],le=Q+1,we=ne[le];if(0>i(V,ae))le<M&&0>i(we,V)?(ne[W]=we,ne[le]=ae,W=le):(ne[W]=V,ne[Q]=ae,W=Q);else if(le<M&&0>i(we,ae))ne[W]=we,ne[le]=ae,W=le;else break e}}return z}function i(ne,z){var ae=ne.sortIndex-z.sortIndex;return ae!==0?ae:ne.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,p=3,g=!1,m=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ne){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=ne)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function A(ne){if(x=!1,k(ne),!m)if(n(l)!==null)m=!0,K(T);else{var z=n(u);z!==null&&ee(A,z.startTime-ne)}}function T(ne,z){m=!1,x&&(x=!1,_(F),F=-1),g=!0;var ae=p;try{for(k(z),d=n(l);d!==null&&(!(d.expirationTime>z)||ne&&!R());){var W=d.callback;if(typeof W=="function"){d.callback=null,p=d.priorityLevel;var M=W(d.expirationTime<=z);z=e.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),k(z)}else r(l);d=n(l)}if(d!==null)var Y=!0;else{var Q=n(u);Q!==null&&ee(A,Q.startTime-z),Y=!1}return Y}finally{d=null,p=ae,g=!1}}var D=!1,b=null,F=-1,C=5,N=-1;function R(){return!(e.unstable_now()-N<C)}function L(){if(b!==null){var ne=e.unstable_now();N=ne;var z=!0;try{z=b(!0,ne)}finally{z?j():(D=!1,b=null)}}else D=!1}var j;if(typeof E=="function")j=function(){E(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=L,j=function(){U.postMessage(null)}}else j=function(){v(L,0)};function K(ne){b=ne,D||(D=!0,j())}function ee(ne,z){F=v(function(){ne(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,K(T))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(ne){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var ae=p;p=z;try{return ne()}finally{p=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,z){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=p;p=ne;try{return z()}finally{p=ae}},e.unstable_scheduleCallback=function(ne,z,ae){var W=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?W+ae:W):ae=W,ne){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ae+M,ne={id:c++,callback:z,priorityLevel:ne,startTime:ae,expirationTime:M,sortIndex:-1},ae>W?(ne.sortIndex=ae,t(u,ne),n(l)===null&&ne===n(u)&&(x?(_(F),F=-1):x=!0,ee(A,ae-W))):(ne.sortIndex=M,t(l,ne),m||g||(m=!0,K(T))),ne},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(ne){var z=p;return function(){var ae=p;p=z;try{return ne.apply(this,arguments)}finally{p=ae}}}})(Vk)),Vk}var JD;function sQ(){return JD||(JD=1,Yk.exports=aQ()),Yk.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD;function oQ(){if(QD)return Ui;QD=1;var e=_3(),t=sQ();function n(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(f,h){s(f,h),s(f+"Capture",h)}function s(f,h){for(i[f]=h,f=0;f<h.length;f++)r.add(h[f])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function p(f){return l.call(d,f)?!0:l.call(c,f)?!1:u.test(f)?d[f]=!0:(c[f]=!0,!1)}function g(f,h,y,w){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return w?!1:y!==null?!y.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function m(f,h,y,w){if(h===null||typeof h>"u"||g(f,h,y,w))return!0;if(w)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(f,h,y,w,S,O,I){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=w,this.attributeNamespace=S,this.mustUseProperty=y,this.propertyName=f,this.type=h,this.sanitizeURL=O,this.removeEmptyString=I}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){v[f]=new x(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var h=f[0];v[h]=new x(h,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){v[f]=new x(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){v[f]=new x(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){v[f]=new x(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){v[f]=new x(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){v[f]=new x(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){v[f]=new x(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){v[f]=new x(f,5,!1,f.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var h=f.replace(_,E);v[h]=new x(h,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var h=f.replace(_,E);v[h]=new x(h,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var h=f.replace(_,E);v[h]=new x(h,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){v[f]=new x(f,1,!1,f.toLowerCase(),null,!1,!1)}),v.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){v[f]=new x(f,1,!1,f.toLowerCase(),null,!0,!0)});function k(f,h,y,w){var S=v.hasOwnProperty(h)?v[h]:null;(S!==null?S.type!==0:w||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(m(h,y,S,w)&&(y=null),w||S===null?p(h)&&(y===null?f.removeAttribute(h):f.setAttribute(h,""+y)):S.mustUseProperty?f[S.propertyName]=y===null?S.type===3?!1:"":y:(h=S.attributeName,w=S.attributeNamespace,y===null?f.removeAttribute(h):(S=S.type,y=S===3||S===4&&y===!0?"":""+y,w?f.setAttributeNS(w,h,y):f.setAttribute(h,y))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),D=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),R=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),ne=Symbol.iterator;function z(f){return f===null||typeof f!="object"?null:(f=ne&&f[ne]||f["@@iterator"],typeof f=="function"?f:null)}var ae=Object.assign,W;function M(f){if(W===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);W=h&&h[1]||""}return`
`+W+f}var Y=!1;function Q(f,h){if(!f||Y)return"";Y=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(me){var w=me}Reflect.construct(f,[],h)}else{try{h.call()}catch(me){w=me}f.call(h.prototype)}else{try{throw Error()}catch(me){w=me}f()}}catch(me){if(me&&w&&typeof me.stack=="string"){for(var S=me.stack.split(`
`),O=w.stack.split(`
`),I=S.length-1,te=O.length-1;1<=I&&0<=te&&S[I]!==O[te];)te--;for(;1<=I&&0<=te;I--,te--)if(S[I]!==O[te]){if(I!==1||te!==1)do if(I--,te--,0>te||S[I]!==O[te]){var re=`
`+S[I].replace(" at new "," at ");return f.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",f.displayName)),re}while(1<=I&&0<=te);break}}}finally{Y=!1,Error.prepareStackTrace=y}return(f=f?f.displayName||f.name:"")?M(f):""}function V(f){switch(f.tag){case 5:return M(f.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return f=Q(f.type,!1),f;case 11:return f=Q(f.type.render,!1),f;case 1:return f=Q(f.type,!0),f;default:return""}}function le(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case b:return"Fragment";case D:return"Portal";case C:return"Profiler";case F:return"StrictMode";case j:return"Suspense";case q:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case R:return(f.displayName||"Context")+".Consumer";case N:return(f._context.displayName||"Context")+".Provider";case L:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case U:return h=f.displayName||null,h!==null?h:le(f.type)||"Memo";case K:h=f._payload,f=f._init;try{return le(f(h))}catch{}}return null}function we(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(h);case 8:return h===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function xe(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ie(f){var h=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ue(f){var h=ie(f)?"checked":"value",y=Object.getOwnPropertyDescriptor(f.constructor.prototype,h),w=""+f[h];if(!f.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,O=y.set;return Object.defineProperty(f,h,{configurable:!0,get:function(){return S.call(this)},set:function(I){w=""+I,O.call(this,I)}}),Object.defineProperty(f,h,{enumerable:y.enumerable}),{getValue:function(){return w},setValue:function(I){w=""+I},stopTracking:function(){f._valueTracker=null,delete f[h]}}}}function Se(f){f._valueTracker||(f._valueTracker=ue(f))}function B(f){if(!f)return!1;var h=f._valueTracker;if(!h)return!0;var y=h.getValue(),w="";return f&&(w=ie(f)?f.checked?"true":"false":f.value),f=w,f!==y?(h.setValue(f),!0):!1}function Ze(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Pe(f,h){var y=h.checked;return ae({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??f._wrapperState.initialChecked})}function je(f,h){var y=h.defaultValue==null?"":h.defaultValue,w=h.checked!=null?h.checked:h.defaultChecked;y=xe(h.value!=null?h.value:y),f._wrapperState={initialChecked:w,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Ie(f,h){h=h.checked,h!=null&&k(f,"checked",h,!1)}function Ae(f,h){Ie(f,h);var y=xe(h.value),w=h.type;if(y!=null)w==="number"?(y===0&&f.value===""||f.value!=y)&&(f.value=""+y):f.value!==""+y&&(f.value=""+y);else if(w==="submit"||w==="reset"){f.removeAttribute("value");return}h.hasOwnProperty("value")?Et(f,h.type,y):h.hasOwnProperty("defaultValue")&&Et(f,h.type,xe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(f.defaultChecked=!!h.defaultChecked)}function it(f,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var w=h.type;if(!(w!=="submit"&&w!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+f._wrapperState.initialValue,y||h===f.value||(f.value=h),f.defaultValue=h}y=f.name,y!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,y!==""&&(f.name=y)}function Et(f,h,y){(h!=="number"||Ze(f.ownerDocument)!==f)&&(y==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+y&&(f.defaultValue=""+y))}var Ct=Array.isArray;function wn(f,h,y,w){if(f=f.options,h){h={};for(var S=0;S<y.length;S++)h["$"+y[S]]=!0;for(y=0;y<f.length;y++)S=h.hasOwnProperty("$"+f[y].value),f[y].selected!==S&&(f[y].selected=S),S&&w&&(f[y].defaultSelected=!0)}else{for(y=""+xe(y),h=null,S=0;S<f.length;S++){if(f[S].value===y){f[S].selected=!0,w&&(f[S].defaultSelected=!0);return}h!==null||f[S].disabled||(h=f[S])}h!==null&&(h.selected=!0)}}function Hn(f,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},h,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function br(f,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(n(92));if(Ct(y)){if(1<y.length)throw Error(n(93));y=y[0]}h=y}h==null&&(h=""),y=h}f._wrapperState={initialValue:xe(y)}}function $t(f,h){var y=xe(h.value),w=xe(h.defaultValue);y!=null&&(y=""+y,y!==f.value&&(f.value=y),h.defaultValue==null&&f.defaultValue!==y&&(f.defaultValue=y)),w!=null&&(f.defaultValue=""+w)}function En(f){var h=f.textContent;h===f._wrapperState.initialValue&&h!==""&&h!==null&&(f.value=h)}function Gt(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gn(f,h){return f==null||f==="http://www.w3.org/1999/xhtml"?Gt(h):f==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Yt,Ar=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,w,S){MSApp.execUnsafeLocalFunction(function(){return f(h,y,w,S)})}:f})(function(f,h){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=h;else{for(Yt=Yt||document.createElement("div"),Yt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Yt.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;h.firstChild;)f.appendChild(h.firstChild)}});function ht(f,h){if(h){var y=f.firstChild;if(y&&y===f.lastChild&&y.nodeType===3){y.nodeValue=h;return}}f.textContent=h}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cn=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(f){cn.forEach(function(h){h=h+f.charAt(0).toUpperCase()+f.substring(1),Nt[h]=Nt[f]})});function en(f,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||Nt.hasOwnProperty(f)&&Nt[f]?(""+h).trim():h+"px"}function ra(f,h){f=f.style;for(var y in h)if(h.hasOwnProperty(y)){var w=y.indexOf("--")===0,S=en(y,h[y],w);y==="float"&&(y="cssFloat"),w?f.setProperty(y,S):f[y]=S}}var Tm=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ph(f,h){if(h){if(Tm[f]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Bh(f,h){if(f.indexOf("-")===-1)return typeof h.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p0=null;function g0(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var m0=null,zl=null,Ul=null;function xc(f){if(f=op(f)){if(typeof m0!="function")throw Error(n(280));var h=f.stateNode;h&&(h=Qm(h),m0(f.stateNode,f.type,h))}}function Fm(f){zl?Ul?Ul.push(f):Ul=[f]:zl=f}function Om(){if(zl){var f=zl,h=Ul;if(Ul=zl=null,xc(f),h)for(f=0;f<h.length;f++)xc(h[f])}}function Dm(f,h){return f(h)}function Nm(){}var zh=!1;function Mm(f,h,y){if(zh)return f(h,y);zh=!0;try{return Dm(f,h,y)}finally{zh=!1,(zl!==null||Ul!==null)&&(Nm(),Om())}}function yc(f,h){var y=f.stateNode;if(y===null)return null;var w=Qm(y);if(w===null)return null;y=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(f=f.type,w=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!w;break e;default:f=!1}if(f)return null;if(y&&typeof y!="function")throw Error(n(231,h,typeof y));return y}var Uh=!1;if(o)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Uh=!1}function lE(f,h,y,w,S,O,I,te,re){var me=Array.prototype.slice.call(arguments,3);try{h.apply(y,me)}catch(Te){this.onError(Te)}}var vc=!1,x0=null,P=!1,X=null,H={onError:function(f){vc=!0,x0=f}};function G(f,h,y,w,S,O,I,te,re){vc=!1,x0=null,lE.apply(H,arguments)}function J(f,h,y,w,S,O,I,te,re){if(G.apply(this,arguments),vc){if(vc){var me=x0;vc=!1,x0=null}else throw Error(n(198));P||(P=!0,X=me)}}function Z(f){var h=f,y=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(y=h.return),f=h.return;while(f)}return h.tag===3?y:null}function he(f){if(f.tag===13){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function Ee(f){if(Z(f)!==f)throw Error(n(188))}function de(f){var h=f.alternate;if(!h){if(h=Z(f),h===null)throw Error(n(188));return h!==f?null:f}for(var y=f,w=h;;){var S=y.return;if(S===null)break;var O=S.alternate;if(O===null){if(w=S.return,w!==null){y=w;continue}break}if(S.child===O.child){for(O=S.child;O;){if(O===y)return Ee(S),f;if(O===w)return Ee(S),h;O=O.sibling}throw Error(n(188))}if(y.return!==w.return)y=S,w=O;else{for(var I=!1,te=S.child;te;){if(te===y){I=!0,y=S,w=O;break}if(te===w){I=!0,w=S,y=O;break}te=te.sibling}if(!I){for(te=O.child;te;){if(te===y){I=!0,y=O,w=S;break}if(te===w){I=!0,w=O,y=S;break}te=te.sibling}if(!I)throw Error(n(189))}}if(y.alternate!==w)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?f:h}function pe(f){return f=de(f),f!==null?ge(f):null}function ge(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=ge(f);if(h!==null)return h;f=f.sibling}return null}var De=t.unstable_scheduleCallback,He=t.unstable_cancelCallback,Ke=t.unstable_shouldYield,Be=t.unstable_requestPaint,$e=t.unstable_now,mt=t.unstable_getCurrentPriorityLevel,nn=t.unstable_ImmediatePriority,sn=t.unstable_UserBlockingPriority,In=t.unstable_NormalPriority,_c=t.unstable_LowPriority,Wl=t.unstable_IdlePriority,Gs=null,ur=null;function Wh(f){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Gs,f,void 0,(f.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:xK,gK=Math.log,mK=Math.LN2;function xK(f){return f>>>=0,f===0?32:31-(gK(f)/mK|0)|0}var Rm=64,Im=4194304;function Hh(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function $m(f,h){var y=f.pendingLanes;if(y===0)return 0;var w=0,S=f.suspendedLanes,O=f.pingedLanes,I=y&268435455;if(I!==0){var te=I&~S;te!==0?w=Hh(te):(O&=I,O!==0&&(w=Hh(O)))}else I=y&~S,I!==0?w=Hh(I):O!==0&&(w=Hh(O));if(w===0)return 0;if(h!==0&&h!==w&&(h&S)===0&&(S=w&-w,O=h&-h,S>=O||S===16&&(O&4194240)!==0))return h;if((w&4)!==0&&(w|=y&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=w;0<h;)y=31-$n(h),S=1<<y,w|=f[y],h&=~S;return w}function yK(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vK(f,h){for(var y=f.suspendedLanes,w=f.pingedLanes,S=f.expirationTimes,O=f.pendingLanes;0<O;){var I=31-$n(O),te=1<<I,re=S[I];re===-1?((te&y)===0||(te&w)!==0)&&(S[I]=yK(te,h)):re<=h&&(f.expiredLanes|=te),O&=~te}}function uE(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function v6(){var f=Rm;return Rm<<=1,(Rm&4194240)===0&&(Rm=64),f}function cE(f){for(var h=[],y=0;31>y;y++)h.push(f);return h}function jh(f,h,y){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-$n(h),f[h]=y}function _K(f,h){var y=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var w=f.eventTimes;for(f=f.expirationTimes;0<y;){var S=31-$n(y),O=1<<S;h[S]=0,w[S]=-1,f[S]=-1,y&=~O}}function fE(f,h){var y=f.entangledLanes|=h;for(f=f.entanglements;y;){var w=31-$n(y),S=1<<w;S&h|f[w]&h&&(f[w]|=h),y&=~S}}var Kt=0;function _6(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var w6,dE,E6,k6,S6,hE=!1,Lm=[],Hl=null,jl=null,Gl=null,Gh=new Map,Yh=new Map,Yl=[],wK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b6(f,h){switch(f){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":Gh.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yh.delete(h.pointerId)}}function Vh(f,h,y,w,S,O){return f===null||f.nativeEvent!==O?(f={blockedOn:h,domEventName:y,eventSystemFlags:w,nativeEvent:O,targetContainers:[S]},h!==null&&(h=op(h),h!==null&&dE(h)),f):(f.eventSystemFlags|=w,h=f.targetContainers,S!==null&&h.indexOf(S)===-1&&h.push(S),f)}function EK(f,h,y,w,S){switch(h){case"focusin":return Hl=Vh(Hl,f,h,y,w,S),!0;case"dragenter":return jl=Vh(jl,f,h,y,w,S),!0;case"mouseover":return Gl=Vh(Gl,f,h,y,w,S),!0;case"pointerover":var O=S.pointerId;return Gh.set(O,Vh(Gh.get(O)||null,f,h,y,w,S)),!0;case"gotpointercapture":return O=S.pointerId,Yh.set(O,Vh(Yh.get(O)||null,f,h,y,w,S)),!0}return!1}function A6(f){var h=wc(f.target);if(h!==null){var y=Z(h);if(y!==null){if(h=y.tag,h===13){if(h=he(y),h!==null){f.blockedOn=h,S6(f.priority,function(){E6(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){f.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Pm(f){if(f.blockedOn!==null)return!1;for(var h=f.targetContainers;0<h.length;){var y=gE(f.domEventName,f.eventSystemFlags,h[0],f.nativeEvent);if(y===null){y=f.nativeEvent;var w=new y.constructor(y.type,y);p0=w,y.target.dispatchEvent(w),p0=null}else return h=op(y),h!==null&&dE(h),f.blockedOn=y,!1;h.shift()}return!0}function C6(f,h,y){Pm(f)&&y.delete(h)}function kK(){hE=!1,Hl!==null&&Pm(Hl)&&(Hl=null),jl!==null&&Pm(jl)&&(jl=null),Gl!==null&&Pm(Gl)&&(Gl=null),Gh.forEach(C6),Yh.forEach(C6)}function qh(f,h){f.blockedOn===h&&(f.blockedOn=null,hE||(hE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kK)))}function Xh(f){function h(S){return qh(S,f)}if(0<Lm.length){qh(Lm[0],f);for(var y=1;y<Lm.length;y++){var w=Lm[y];w.blockedOn===f&&(w.blockedOn=null)}}for(Hl!==null&&qh(Hl,f),jl!==null&&qh(jl,f),Gl!==null&&qh(Gl,f),Gh.forEach(h),Yh.forEach(h),y=0;y<Yl.length;y++)w=Yl[y],w.blockedOn===f&&(w.blockedOn=null);for(;0<Yl.length&&(y=Yl[0],y.blockedOn===null);)A6(y),y.blockedOn===null&&Yl.shift()}var y0=A.ReactCurrentBatchConfig,Bm=!0;function SK(f,h,y,w){var S=Kt,O=y0.transition;y0.transition=null;try{Kt=1,pE(f,h,y,w)}finally{Kt=S,y0.transition=O}}function bK(f,h,y,w){var S=Kt,O=y0.transition;y0.transition=null;try{Kt=4,pE(f,h,y,w)}finally{Kt=S,y0.transition=O}}function pE(f,h,y,w){if(Bm){var S=gE(f,h,y,w);if(S===null)NE(f,h,w,zm,y),b6(f,w);else if(EK(S,f,h,y,w))w.stopPropagation();else if(b6(f,w),h&4&&-1<wK.indexOf(f)){for(;S!==null;){var O=op(S);if(O!==null&&w6(O),O=gE(f,h,y,w),O===null&&NE(f,h,w,zm,y),O===S)break;S=O}S!==null&&w.stopPropagation()}else NE(f,h,w,null,y)}}var zm=null;function gE(f,h,y,w){if(zm=null,f=g0(w),f=wc(f),f!==null)if(h=Z(f),h===null)f=null;else if(y=h.tag,y===13){if(f=he(h),f!==null)return f;f=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;f=null}else h!==f&&(f=null);return zm=f,null}function T6(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mt()){case nn:return 1;case sn:return 4;case In:case _c:return 16;case Wl:return 536870912;default:return 16}default:return 16}}var Vl=null,mE=null,Um=null;function F6(){if(Um)return Um;var f,h=mE,y=h.length,w,S="value"in Vl?Vl.value:Vl.textContent,O=S.length;for(f=0;f<y&&h[f]===S[f];f++);var I=y-f;for(w=1;w<=I&&h[y-w]===S[O-w];w++);return Um=S.slice(f,1<w?1-w:void 0)}function Wm(f){var h=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&h===13&&(f=13)):f=h,f===10&&(f=13),32<=f||f===13?f:0}function Hm(){return!0}function O6(){return!1}function ia(f){function h(y,w,S,O,I){this._reactName=y,this._targetInst=S,this.type=w,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var te in f)f.hasOwnProperty(te)&&(y=f[te],this[te]=y?y(O):O[te]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Hm:O6,this.isPropagationStopped=O6,this}return ae(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Hm)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Hm)},persist:function(){},isPersistent:Hm}),h}var v0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xE=ia(v0),Kh=ae({},v0,{view:0,detail:0}),AK=ia(Kh),yE,vE,Jh,jm=ae({},Kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wE,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Jh&&(Jh&&f.type==="mousemove"?(yE=f.screenX-Jh.screenX,vE=f.screenY-Jh.screenY):vE=yE=0,Jh=f),yE)},movementY:function(f){return"movementY"in f?f.movementY:vE}}),D6=ia(jm),CK=ae({},jm,{dataTransfer:0}),TK=ia(CK),FK=ae({},Kh,{relatedTarget:0}),_E=ia(FK),OK=ae({},v0,{animationName:0,elapsedTime:0,pseudoElement:0}),DK=ia(OK),NK=ae({},v0,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),MK=ia(NK),RK=ae({},v0,{data:0}),N6=ia(RK),IK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PK(f){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(f):(f=LK[f])?!!h[f]:!1}function wE(){return PK}var BK=ae({},Kh,{key:function(f){if(f.key){var h=IK[f.key]||f.key;if(h!=="Unidentified")return h}return f.type==="keypress"?(f=Wm(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?$K[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wE,charCode:function(f){return f.type==="keypress"?Wm(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Wm(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),zK=ia(BK),UK=ae({},jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M6=ia(UK),WK=ae({},Kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wE}),HK=ia(WK),jK=ae({},v0,{propertyName:0,elapsedTime:0,pseudoElement:0}),GK=ia(jK),YK=ae({},jm,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),VK=ia(YK),qK=[9,13,27,32],EE=o&&"CompositionEvent"in window,Qh=null;o&&"documentMode"in document&&(Qh=document.documentMode);var XK=o&&"TextEvent"in window&&!Qh,R6=o&&(!EE||Qh&&8<Qh&&11>=Qh),I6=" ",$6=!1;function L6(f,h){switch(f){case"keyup":return qK.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P6(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var _0=!1;function KK(f,h){switch(f){case"compositionend":return P6(h);case"keypress":return h.which!==32?null:($6=!0,I6);case"textInput":return f=h.data,f===I6&&$6?null:f;default:return null}}function JK(f,h){if(_0)return f==="compositionend"||!EE&&L6(f,h)?(f=F6(),Um=mE=Vl=null,_0=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return R6&&h.locale!=="ko"?null:h.data;default:return null}}var QK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B6(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h==="input"?!!QK[f.type]:h==="textarea"}function z6(f,h,y,w){Fm(w),h=Xm(h,"onChange"),0<h.length&&(y=new xE("onChange","change",null,y,w),f.push({event:y,listeners:h}))}var Zh=null,ep=null;function ZK(f){iO(f,0)}function Gm(f){var h=b0(f);if(B(h))return f}function eJ(f,h){if(f==="change")return h}var U6=!1;if(o){var kE;if(o){var SE="oninput"in document;if(!SE){var W6=document.createElement("div");W6.setAttribute("oninput","return;"),SE=typeof W6.oninput=="function"}kE=SE}else kE=!1;U6=kE&&(!document.documentMode||9<document.documentMode)}function H6(){Zh&&(Zh.detachEvent("onpropertychange",j6),ep=Zh=null)}function j6(f){if(f.propertyName==="value"&&Gm(ep)){var h=[];z6(h,ep,f,g0(f)),Mm(ZK,h)}}function tJ(f,h,y){f==="focusin"?(H6(),Zh=h,ep=y,Zh.attachEvent("onpropertychange",j6)):f==="focusout"&&H6()}function nJ(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Gm(ep)}function rJ(f,h){if(f==="click")return Gm(h)}function iJ(f,h){if(f==="input"||f==="change")return Gm(h)}function aJ(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var rs=typeof Object.is=="function"?Object.is:aJ;function tp(f,h){if(rs(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var y=Object.keys(f),w=Object.keys(h);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var S=y[w];if(!l.call(h,S)||!rs(f[S],h[S]))return!1}return!0}function G6(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Y6(f,h){var y=G6(f);f=0;for(var w;y;){if(y.nodeType===3){if(w=f+y.textContent.length,f<=h&&w>=h)return{node:y,offset:h-f};f=w}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=G6(y)}}function V6(f,h){return f&&h?f===h?!0:f&&f.nodeType===3?!1:h&&h.nodeType===3?V6(f,h.parentNode):"contains"in f?f.contains(h):f.compareDocumentPosition?!!(f.compareDocumentPosition(h)&16):!1:!1}function q6(){for(var f=window,h=Ze();h instanceof f.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)f=h.contentWindow;else break;h=Ze(f.document)}return h}function bE(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h&&(h==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||h==="textarea"||f.contentEditable==="true")}function sJ(f){var h=q6(),y=f.focusedElem,w=f.selectionRange;if(h!==y&&y&&y.ownerDocument&&V6(y.ownerDocument.documentElement,y)){if(w!==null&&bE(y)){if(h=w.start,f=w.end,f===void 0&&(f=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(f,y.value.length);else if(f=(h=y.ownerDocument||document)&&h.defaultView||window,f.getSelection){f=f.getSelection();var S=y.textContent.length,O=Math.min(w.start,S);w=w.end===void 0?O:Math.min(w.end,S),!f.extend&&O>w&&(S=w,w=O,O=S),S=Y6(y,O);var I=Y6(y,w);S&&I&&(f.rangeCount!==1||f.anchorNode!==S.node||f.anchorOffset!==S.offset||f.focusNode!==I.node||f.focusOffset!==I.offset)&&(h=h.createRange(),h.setStart(S.node,S.offset),f.removeAllRanges(),O>w?(f.addRange(h),f.extend(I.node,I.offset)):(h.setEnd(I.node,I.offset),f.addRange(h)))}}for(h=[],f=y;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)f=h[y],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var oJ=o&&"documentMode"in document&&11>=document.documentMode,w0=null,AE=null,np=null,CE=!1;function X6(f,h,y){var w=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;CE||w0==null||w0!==Ze(w)||(w=w0,"selectionStart"in w&&bE(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),np&&tp(np,w)||(np=w,w=Xm(AE,"onSelect"),0<w.length&&(h=new xE("onSelect","select",null,h,y),f.push({event:h,listeners:w}),h.target=w0)))}function Ym(f,h){var y={};return y[f.toLowerCase()]=h.toLowerCase(),y["Webkit"+f]="webkit"+h,y["Moz"+f]="moz"+h,y}var E0={animationend:Ym("Animation","AnimationEnd"),animationiteration:Ym("Animation","AnimationIteration"),animationstart:Ym("Animation","AnimationStart"),transitionend:Ym("Transition","TransitionEnd")},TE={},K6={};o&&(K6=document.createElement("div").style,"AnimationEvent"in window||(delete E0.animationend.animation,delete E0.animationiteration.animation,delete E0.animationstart.animation),"TransitionEvent"in window||delete E0.transitionend.transition);function Vm(f){if(TE[f])return TE[f];if(!E0[f])return f;var h=E0[f],y;for(y in h)if(h.hasOwnProperty(y)&&y in K6)return TE[f]=h[y];return f}var J6=Vm("animationend"),Q6=Vm("animationiteration"),Z6=Vm("animationstart"),eO=Vm("transitionend"),tO=new Map,nO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ql(f,h){tO.set(f,h),a(h,[f])}for(var FE=0;FE<nO.length;FE++){var OE=nO[FE],lJ=OE.toLowerCase(),uJ=OE[0].toUpperCase()+OE.slice(1);ql(lJ,"on"+uJ)}ql(J6,"onAnimationEnd"),ql(Q6,"onAnimationIteration"),ql(Z6,"onAnimationStart"),ql("dblclick","onDoubleClick"),ql("focusin","onFocus"),ql("focusout","onBlur"),ql(eO,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(rp));function rO(f,h,y){var w=f.type||"unknown-event";f.currentTarget=y,J(w,h,void 0,f),f.currentTarget=null}function iO(f,h){h=(h&4)!==0;for(var y=0;y<f.length;y++){var w=f[y],S=w.event;w=w.listeners;e:{var O=void 0;if(h)for(var I=w.length-1;0<=I;I--){var te=w[I],re=te.instance,me=te.currentTarget;if(te=te.listener,re!==O&&S.isPropagationStopped())break e;rO(S,te,me),O=re}else for(I=0;I<w.length;I++){if(te=w[I],re=te.instance,me=te.currentTarget,te=te.listener,re!==O&&S.isPropagationStopped())break e;rO(S,te,me),O=re}}}if(P)throw f=X,P=!1,X=null,f}function fn(f,h){var y=h[PE];y===void 0&&(y=h[PE]=new Set);var w=f+"__bubble";y.has(w)||(aO(h,f,2,!1),y.add(w))}function DE(f,h,y){var w=0;h&&(w|=4),aO(y,f,w,h)}var qm="_reactListening"+Math.random().toString(36).slice(2);function ip(f){if(!f[qm]){f[qm]=!0,r.forEach(function(y){y!=="selectionchange"&&(cJ.has(y)||DE(y,!1,f),DE(y,!0,f))});var h=f.nodeType===9?f:f.ownerDocument;h===null||h[qm]||(h[qm]=!0,DE("selectionchange",!1,h))}}function aO(f,h,y,w){switch(T6(h)){case 1:var S=SK;break;case 4:S=bK;break;default:S=pE}y=S.bind(null,h,y,f),S=void 0,!Uh||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(S=!0),w?S!==void 0?f.addEventListener(h,y,{capture:!0,passive:S}):f.addEventListener(h,y,!0):S!==void 0?f.addEventListener(h,y,{passive:S}):f.addEventListener(h,y,!1)}function NE(f,h,y,w,S){var O=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var I=w.tag;if(I===3||I===4){var te=w.stateNode.containerInfo;if(te===S||te.nodeType===8&&te.parentNode===S)break;if(I===4)for(I=w.return;I!==null;){var re=I.tag;if((re===3||re===4)&&(re=I.stateNode.containerInfo,re===S||re.nodeType===8&&re.parentNode===S))return;I=I.return}for(;te!==null;){if(I=wc(te),I===null)return;if(re=I.tag,re===5||re===6){w=O=I;continue e}te=te.parentNode}}w=w.return}Mm(function(){var me=O,Te=g0(y),Ne=[];e:{var Ce=tO.get(f);if(Ce!==void 0){var Xe=xE,Qe=f;switch(f){case"keypress":if(Wm(y)===0)break e;case"keydown":case"keyup":Xe=zK;break;case"focusin":Qe="focus",Xe=_E;break;case"focusout":Qe="blur",Xe=_E;break;case"beforeblur":case"afterblur":Xe=_E;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=D6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=TK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=HK;break;case J6:case Q6:case Z6:Xe=DK;break;case eO:Xe=GK;break;case"scroll":Xe=AK;break;case"wheel":Xe=VK;break;case"copy":case"cut":case"paste":Xe=MK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=M6}var et=(h&4)!==0,Ln=!et&&f==="scroll",ce=et?Ce!==null?Ce+"Capture":null:Ce;et=[];for(var se=me,fe;se!==null;){fe=se;var ze=fe.stateNode;if(fe.tag===5&&ze!==null&&(fe=ze,ce!==null&&(ze=yc(se,ce),ze!=null&&et.push(ap(se,ze,fe)))),Ln)break;se=se.return}0<et.length&&(Ce=new Xe(Ce,Qe,null,y,Te),Ne.push({event:Ce,listeners:et}))}}if((h&7)===0){e:{if(Ce=f==="mouseover"||f==="pointerover",Xe=f==="mouseout"||f==="pointerout",Ce&&y!==p0&&(Qe=y.relatedTarget||y.fromElement)&&(wc(Qe)||Qe[Ho]))break e;if((Xe||Ce)&&(Ce=Te.window===Te?Te:(Ce=Te.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Xe?(Qe=y.relatedTarget||y.toElement,Xe=me,Qe=Qe?wc(Qe):null,Qe!==null&&(Ln=Z(Qe),Qe!==Ln||Qe.tag!==5&&Qe.tag!==6)&&(Qe=null)):(Xe=null,Qe=me),Xe!==Qe)){if(et=D6,ze="onMouseLeave",ce="onMouseEnter",se="mouse",(f==="pointerout"||f==="pointerover")&&(et=M6,ze="onPointerLeave",ce="onPointerEnter",se="pointer"),Ln=Xe==null?Ce:b0(Xe),fe=Qe==null?Ce:b0(Qe),Ce=new et(ze,se+"leave",Xe,y,Te),Ce.target=Ln,Ce.relatedTarget=fe,ze=null,wc(Te)===me&&(et=new et(ce,se+"enter",Qe,y,Te),et.target=fe,et.relatedTarget=Ln,ze=et),Ln=ze,Xe&&Qe)t:{for(et=Xe,ce=Qe,se=0,fe=et;fe;fe=k0(fe))se++;for(fe=0,ze=ce;ze;ze=k0(ze))fe++;for(;0<se-fe;)et=k0(et),se--;for(;0<fe-se;)ce=k0(ce),fe--;for(;se--;){if(et===ce||ce!==null&&et===ce.alternate)break t;et=k0(et),ce=k0(ce)}et=null}else et=null;Xe!==null&&sO(Ne,Ce,Xe,et,!1),Qe!==null&&Ln!==null&&sO(Ne,Ln,Qe,et,!0)}}e:{if(Ce=me?b0(me):window,Xe=Ce.nodeName&&Ce.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Ce.type==="file")var rt=eJ;else if(B6(Ce))if(U6)rt=iJ;else{rt=nJ;var ct=tJ}else(Xe=Ce.nodeName)&&Xe.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(rt=rJ);if(rt&&(rt=rt(f,me))){z6(Ne,rt,y,Te);break e}ct&&ct(f,Ce,me),f==="focusout"&&(ct=Ce._wrapperState)&&ct.controlled&&Ce.type==="number"&&Et(Ce,"number",Ce.value)}switch(ct=me?b0(me):window,f){case"focusin":(B6(ct)||ct.contentEditable==="true")&&(w0=ct,AE=me,np=null);break;case"focusout":np=AE=w0=null;break;case"mousedown":CE=!0;break;case"contextmenu":case"mouseup":case"dragend":CE=!1,X6(Ne,y,Te);break;case"selectionchange":if(oJ)break;case"keydown":case"keyup":X6(Ne,y,Te)}var ft;if(EE)e:{switch(f){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else _0?L6(f,y)&&(pt="onCompositionEnd"):f==="keydown"&&y.keyCode===229&&(pt="onCompositionStart");pt&&(R6&&y.locale!=="ko"&&(_0||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&_0&&(ft=F6()):(Vl=Te,mE="value"in Vl?Vl.value:Vl.textContent,_0=!0)),ct=Xm(me,pt),0<ct.length&&(pt=new N6(pt,f,null,y,Te),Ne.push({event:pt,listeners:ct}),ft?pt.data=ft:(ft=P6(y),ft!==null&&(pt.data=ft)))),(ft=XK?KK(f,y):JK(f,y))&&(me=Xm(me,"onBeforeInput"),0<me.length&&(Te=new N6("onBeforeInput","beforeinput",null,y,Te),Ne.push({event:Te,listeners:me}),Te.data=ft))}iO(Ne,h)})}function ap(f,h,y){return{instance:f,listener:h,currentTarget:y}}function Xm(f,h){for(var y=h+"Capture",w=[];f!==null;){var S=f,O=S.stateNode;S.tag===5&&O!==null&&(S=O,O=yc(f,y),O!=null&&w.unshift(ap(f,O,S)),O=yc(f,h),O!=null&&w.push(ap(f,O,S))),f=f.return}return w}function k0(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function sO(f,h,y,w,S){for(var O=h._reactName,I=[];y!==null&&y!==w;){var te=y,re=te.alternate,me=te.stateNode;if(re!==null&&re===w)break;te.tag===5&&me!==null&&(te=me,S?(re=yc(y,O),re!=null&&I.unshift(ap(y,re,te))):S||(re=yc(y,O),re!=null&&I.push(ap(y,re,te)))),y=y.return}I.length!==0&&f.push({event:h,listeners:I})}var fJ=/\r\n?/g,dJ=/\u0000|\uFFFD/g;function oO(f){return(typeof f=="string"?f:""+f).replace(fJ,`
`).replace(dJ,"")}function Km(f,h,y){if(h=oO(h),oO(f)!==h&&y)throw Error(n(425))}function Jm(){}var ME=null,RE=null;function IE(f,h){return f==="textarea"||f==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var $E=typeof setTimeout=="function"?setTimeout:void 0,hJ=typeof clearTimeout=="function"?clearTimeout:void 0,lO=typeof Promise=="function"?Promise:void 0,pJ=typeof queueMicrotask=="function"?queueMicrotask:typeof lO<"u"?function(f){return lO.resolve(null).then(f).catch(gJ)}:$E;function gJ(f){setTimeout(function(){throw f})}function LE(f,h){var y=h,w=0;do{var S=y.nextSibling;if(f.removeChild(y),S&&S.nodeType===8)if(y=S.data,y==="/$"){if(w===0){f.removeChild(S),Xh(h);return}w--}else y!=="$"&&y!=="$?"&&y!=="$!"||w++;y=S}while(y);Xh(h)}function Xl(f){for(;f!=null;f=f.nextSibling){var h=f.nodeType;if(h===1||h===3)break;if(h===8){if(h=f.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return f}function uO(f){f=f.previousSibling;for(var h=0;f;){if(f.nodeType===8){var y=f.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return f;h--}else y==="/$"&&h++}f=f.previousSibling}return null}var S0=Math.random().toString(36).slice(2),Ys="__reactFiber$"+S0,sp="__reactProps$"+S0,Ho="__reactContainer$"+S0,PE="__reactEvents$"+S0,mJ="__reactListeners$"+S0,xJ="__reactHandles$"+S0;function wc(f){var h=f[Ys];if(h)return h;for(var y=f.parentNode;y;){if(h=y[Ho]||y[Ys]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(f=uO(f);f!==null;){if(y=f[Ys])return y;f=uO(f)}return h}f=y,y=f.parentNode}return null}function op(f){return f=f[Ys]||f[Ho],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function b0(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function Qm(f){return f[sp]||null}var BE=[],A0=-1;function Kl(f){return{current:f}}function dn(f){0>A0||(f.current=BE[A0],BE[A0]=null,A0--)}function on(f,h){A0++,BE[A0]=f.current,f.current=h}var Jl={},Ur=Kl(Jl),$i=Kl(!1),Ec=Jl;function C0(f,h){var y=f.type.contextTypes;if(!y)return Jl;var w=f.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var S={},O;for(O in y)S[O]=h[O];return w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=S),S}function Li(f){return f=f.childContextTypes,f!=null}function Zm(){dn($i),dn(Ur)}function cO(f,h,y){if(Ur.current!==Jl)throw Error(n(168));on(Ur,h),on($i,y)}function fO(f,h,y){var w=f.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return y;w=w.getChildContext();for(var S in w)if(!(S in h))throw Error(n(108,we(f)||"Unknown",S));return ae({},y,w)}function ex(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Jl,Ec=Ur.current,on(Ur,f),on($i,$i.current),!0}function dO(f,h,y){var w=f.stateNode;if(!w)throw Error(n(169));y?(f=fO(f,h,Ec),w.__reactInternalMemoizedMergedChildContext=f,dn($i),dn(Ur),on(Ur,f)):dn($i),on($i,y)}var jo=null,tx=!1,zE=!1;function hO(f){jo===null?jo=[f]:jo.push(f)}function yJ(f){tx=!0,hO(f)}function Ql(){if(!zE&&jo!==null){zE=!0;var f=0,h=Kt;try{var y=jo;for(Kt=1;f<y.length;f++){var w=y[f];do w=w(!0);while(w!==null)}jo=null,tx=!1}catch(S){throw jo!==null&&(jo=jo.slice(f+1)),De(nn,Ql),S}finally{Kt=h,zE=!1}}return null}var T0=[],F0=0,nx=null,rx=0,Aa=[],Ca=0,kc=null,Go=1,Yo="";function Sc(f,h){T0[F0++]=rx,T0[F0++]=nx,nx=f,rx=h}function pO(f,h,y){Aa[Ca++]=Go,Aa[Ca++]=Yo,Aa[Ca++]=kc,kc=f;var w=Go;f=Yo;var S=32-$n(w)-1;w&=~(1<<S),y+=1;var O=32-$n(h)+S;if(30<O){var I=S-S%5;O=(w&(1<<I)-1).toString(32),w>>=I,S-=I,Go=1<<32-$n(h)+S|y<<S|w,Yo=O+f}else Go=1<<O|y<<S|w,Yo=f}function UE(f){f.return!==null&&(Sc(f,1),pO(f,1,0))}function WE(f){for(;f===nx;)nx=T0[--F0],T0[F0]=null,rx=T0[--F0],T0[F0]=null;for(;f===kc;)kc=Aa[--Ca],Aa[Ca]=null,Yo=Aa[--Ca],Aa[Ca]=null,Go=Aa[--Ca],Aa[Ca]=null}var aa=null,sa=null,mn=!1,is=null;function gO(f,h){var y=Da(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=f,h=f.deletions,h===null?(f.deletions=[y],f.flags|=16):h.push(y)}function mO(f,h){switch(f.tag){case 5:var y=f.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(f.stateNode=h,aa=f,sa=Xl(h.firstChild),!0):!1;case 6:return h=f.pendingProps===""||h.nodeType!==3?null:h,h!==null?(f.stateNode=h,aa=f,sa=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=kc!==null?{id:Go,overflow:Yo}:null,f.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=Da(18,null,null,0),y.stateNode=h,y.return=f,f.child=y,aa=f,sa=null,!0):!1;default:return!1}}function HE(f){return(f.mode&1)!==0&&(f.flags&128)===0}function jE(f){if(mn){var h=sa;if(h){var y=h;if(!mO(f,h)){if(HE(f))throw Error(n(418));h=Xl(y.nextSibling);var w=aa;h&&mO(f,h)?gO(w,y):(f.flags=f.flags&-4097|2,mn=!1,aa=f)}}else{if(HE(f))throw Error(n(418));f.flags=f.flags&-4097|2,mn=!1,aa=f}}}function xO(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;aa=f}function ix(f){if(f!==aa)return!1;if(!mn)return xO(f),mn=!0,!1;var h;if((h=f.tag!==3)&&!(h=f.tag!==5)&&(h=f.type,h=h!=="head"&&h!=="body"&&!IE(f.type,f.memoizedProps)),h&&(h=sa)){if(HE(f))throw yO(),Error(n(418));for(;h;)gO(f,h),h=Xl(h.nextSibling)}if(xO(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,h=0;f;){if(f.nodeType===8){var y=f.data;if(y==="/$"){if(h===0){sa=Xl(f.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}f=f.nextSibling}sa=null}}else sa=aa?Xl(f.stateNode.nextSibling):null;return!0}function yO(){for(var f=sa;f;)f=Xl(f.nextSibling)}function O0(){sa=aa=null,mn=!1}function GE(f){is===null?is=[f]:is.push(f)}var vJ=A.ReactCurrentBatchConfig;function lp(f,h,y){if(f=y.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var w=y.stateNode}if(!w)throw Error(n(147,f));var S=w,O=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===O?h.ref:(h=function(I){var te=S.refs;I===null?delete te[O]:te[O]=I},h._stringRef=O,h)}if(typeof f!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,f))}return f}function ax(f,h){throw f=Object.prototype.toString.call(h),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function vO(f){var h=f._init;return h(f._payload)}function _O(f){function h(ce,se){if(f){var fe=ce.deletions;fe===null?(ce.deletions=[se],ce.flags|=16):fe.push(se)}}function y(ce,se){if(!f)return null;for(;se!==null;)h(ce,se),se=se.sibling;return null}function w(ce,se){for(ce=new Map;se!==null;)se.key!==null?ce.set(se.key,se):ce.set(se.index,se),se=se.sibling;return ce}function S(ce,se){return ce=su(ce,se),ce.index=0,ce.sibling=null,ce}function O(ce,se,fe){return ce.index=fe,f?(fe=ce.alternate,fe!==null?(fe=fe.index,fe<se?(ce.flags|=2,se):fe):(ce.flags|=2,se)):(ce.flags|=1048576,se)}function I(ce){return f&&ce.alternate===null&&(ce.flags|=2),ce}function te(ce,se,fe,ze){return se===null||se.tag!==6?(se=$k(fe,ce.mode,ze),se.return=ce,se):(se=S(se,fe),se.return=ce,se)}function re(ce,se,fe,ze){var rt=fe.type;return rt===b?Te(ce,se,fe.props.children,ze,fe.key):se!==null&&(se.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===K&&vO(rt)===se.type)?(ze=S(se,fe.props),ze.ref=lp(ce,se,fe),ze.return=ce,ze):(ze=Fx(fe.type,fe.key,fe.props,null,ce.mode,ze),ze.ref=lp(ce,se,fe),ze.return=ce,ze)}function me(ce,se,fe,ze){return se===null||se.tag!==4||se.stateNode.containerInfo!==fe.containerInfo||se.stateNode.implementation!==fe.implementation?(se=Lk(fe,ce.mode,ze),se.return=ce,se):(se=S(se,fe.children||[]),se.return=ce,se)}function Te(ce,se,fe,ze,rt){return se===null||se.tag!==7?(se=Nc(fe,ce.mode,ze,rt),se.return=ce,se):(se=S(se,fe),se.return=ce,se)}function Ne(ce,se,fe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=$k(""+se,ce.mode,fe),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return fe=Fx(se.type,se.key,se.props,null,ce.mode,fe),fe.ref=lp(ce,null,se),fe.return=ce,fe;case D:return se=Lk(se,ce.mode,fe),se.return=ce,se;case K:var ze=se._init;return Ne(ce,ze(se._payload),fe)}if(Ct(se)||z(se))return se=Nc(se,ce.mode,fe,null),se.return=ce,se;ax(ce,se)}return null}function Ce(ce,se,fe,ze){var rt=se!==null?se.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return rt!==null?null:te(ce,se,""+fe,ze);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:return fe.key===rt?re(ce,se,fe,ze):null;case D:return fe.key===rt?me(ce,se,fe,ze):null;case K:return rt=fe._init,Ce(ce,se,rt(fe._payload),ze)}if(Ct(fe)||z(fe))return rt!==null?null:Te(ce,se,fe,ze,null);ax(ce,fe)}return null}function Xe(ce,se,fe,ze,rt){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return ce=ce.get(fe)||null,te(se,ce,""+ze,rt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case T:return ce=ce.get(ze.key===null?fe:ze.key)||null,re(se,ce,ze,rt);case D:return ce=ce.get(ze.key===null?fe:ze.key)||null,me(se,ce,ze,rt);case K:var ct=ze._init;return Xe(ce,se,fe,ct(ze._payload),rt)}if(Ct(ze)||z(ze))return ce=ce.get(fe)||null,Te(se,ce,ze,rt,null);ax(se,ze)}return null}function Qe(ce,se,fe,ze){for(var rt=null,ct=null,ft=se,pt=se=0,dr=null;ft!==null&&pt<fe.length;pt++){ft.index>pt?(dr=ft,ft=null):dr=ft.sibling;var Bt=Ce(ce,ft,fe[pt],ze);if(Bt===null){ft===null&&(ft=dr);break}f&&ft&&Bt.alternate===null&&h(ce,ft),se=O(Bt,se,pt),ct===null?rt=Bt:ct.sibling=Bt,ct=Bt,ft=dr}if(pt===fe.length)return y(ce,ft),mn&&Sc(ce,pt),rt;if(ft===null){for(;pt<fe.length;pt++)ft=Ne(ce,fe[pt],ze),ft!==null&&(se=O(ft,se,pt),ct===null?rt=ft:ct.sibling=ft,ct=ft);return mn&&Sc(ce,pt),rt}for(ft=w(ce,ft);pt<fe.length;pt++)dr=Xe(ft,ce,pt,fe[pt],ze),dr!==null&&(f&&dr.alternate!==null&&ft.delete(dr.key===null?pt:dr.key),se=O(dr,se,pt),ct===null?rt=dr:ct.sibling=dr,ct=dr);return f&&ft.forEach(function(ou){return h(ce,ou)}),mn&&Sc(ce,pt),rt}function et(ce,se,fe,ze){var rt=z(fe);if(typeof rt!="function")throw Error(n(150));if(fe=rt.call(fe),fe==null)throw Error(n(151));for(var ct=rt=null,ft=se,pt=se=0,dr=null,Bt=fe.next();ft!==null&&!Bt.done;pt++,Bt=fe.next()){ft.index>pt?(dr=ft,ft=null):dr=ft.sibling;var ou=Ce(ce,ft,Bt.value,ze);if(ou===null){ft===null&&(ft=dr);break}f&&ft&&ou.alternate===null&&h(ce,ft),se=O(ou,se,pt),ct===null?rt=ou:ct.sibling=ou,ct=ou,ft=dr}if(Bt.done)return y(ce,ft),mn&&Sc(ce,pt),rt;if(ft===null){for(;!Bt.done;pt++,Bt=fe.next())Bt=Ne(ce,Bt.value,ze),Bt!==null&&(se=O(Bt,se,pt),ct===null?rt=Bt:ct.sibling=Bt,ct=Bt);return mn&&Sc(ce,pt),rt}for(ft=w(ce,ft);!Bt.done;pt++,Bt=fe.next())Bt=Xe(ft,ce,pt,Bt.value,ze),Bt!==null&&(f&&Bt.alternate!==null&&ft.delete(Bt.key===null?pt:Bt.key),se=O(Bt,se,pt),ct===null?rt=Bt:ct.sibling=Bt,ct=Bt);return f&&ft.forEach(function(QJ){return h(ce,QJ)}),mn&&Sc(ce,pt),rt}function Ln(ce,se,fe,ze){if(typeof fe=="object"&&fe!==null&&fe.type===b&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:e:{for(var rt=fe.key,ct=se;ct!==null;){if(ct.key===rt){if(rt=fe.type,rt===b){if(ct.tag===7){y(ce,ct.sibling),se=S(ct,fe.props.children),se.return=ce,ce=se;break e}}else if(ct.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===K&&vO(rt)===ct.type){y(ce,ct.sibling),se=S(ct,fe.props),se.ref=lp(ce,ct,fe),se.return=ce,ce=se;break e}y(ce,ct);break}else h(ce,ct);ct=ct.sibling}fe.type===b?(se=Nc(fe.props.children,ce.mode,ze,fe.key),se.return=ce,ce=se):(ze=Fx(fe.type,fe.key,fe.props,null,ce.mode,ze),ze.ref=lp(ce,se,fe),ze.return=ce,ce=ze)}return I(ce);case D:e:{for(ct=fe.key;se!==null;){if(se.key===ct)if(se.tag===4&&se.stateNode.containerInfo===fe.containerInfo&&se.stateNode.implementation===fe.implementation){y(ce,se.sibling),se=S(se,fe.children||[]),se.return=ce,ce=se;break e}else{y(ce,se);break}else h(ce,se);se=se.sibling}se=Lk(fe,ce.mode,ze),se.return=ce,ce=se}return I(ce);case K:return ct=fe._init,Ln(ce,se,ct(fe._payload),ze)}if(Ct(fe))return Qe(ce,se,fe,ze);if(z(fe))return et(ce,se,fe,ze);ax(ce,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,se!==null&&se.tag===6?(y(ce,se.sibling),se=S(se,fe),se.return=ce,ce=se):(y(ce,se),se=$k(fe,ce.mode,ze),se.return=ce,ce=se),I(ce)):y(ce,se)}return Ln}var D0=_O(!0),wO=_O(!1),sx=Kl(null),ox=null,N0=null,YE=null;function VE(){YE=N0=ox=null}function qE(f){var h=sx.current;dn(sx),f._currentValue=h}function XE(f,h,y){for(;f!==null;){var w=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),f===y)break;f=f.return}}function M0(f,h){ox=f,YE=N0=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&h)!==0&&(Pi=!0),f.firstContext=null)}function Ta(f){var h=f._currentValue;if(YE!==f)if(f={context:f,memoizedValue:h,next:null},N0===null){if(ox===null)throw Error(n(308));N0=f,ox.dependencies={lanes:0,firstContext:f}}else N0=N0.next=f;return h}var bc=null;function KE(f){bc===null?bc=[f]:bc.push(f)}function EO(f,h,y,w){var S=h.interleaved;return S===null?(y.next=y,KE(h)):(y.next=S.next,S.next=y),h.interleaved=y,Vo(f,w)}function Vo(f,h){f.lanes|=h;var y=f.alternate;for(y!==null&&(y.lanes|=h),y=f,f=f.return;f!==null;)f.childLanes|=h,y=f.alternate,y!==null&&(y.childLanes|=h),y=f,f=f.return;return y.tag===3?y.stateNode:null}var Zl=!1;function JE(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kO(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function qo(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function eu(f,h,y){var w=f.updateQueue;if(w===null)return null;if(w=w.shared,(Lt&2)!==0){var S=w.pending;return S===null?h.next=h:(h.next=S.next,S.next=h),w.pending=h,Vo(f,y)}return S=w.interleaved,S===null?(h.next=h,KE(w)):(h.next=S.next,S.next=h),w.interleaved=h,Vo(f,y)}function lx(f,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var w=h.lanes;w&=f.pendingLanes,y|=w,h.lanes=y,fE(f,y)}}function SO(f,h){var y=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var S=null,O=null;if(y=y.firstBaseUpdate,y!==null){do{var I={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};O===null?S=O=I:O=O.next=I,y=y.next}while(y!==null);O===null?S=O=h:O=O.next=h}else S=O=h;y={baseState:w.baseState,firstBaseUpdate:S,lastBaseUpdate:O,shared:w.shared,effects:w.effects},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=h:f.next=h,y.lastBaseUpdate=h}function ux(f,h,y,w){var S=f.updateQueue;Zl=!1;var O=S.firstBaseUpdate,I=S.lastBaseUpdate,te=S.shared.pending;if(te!==null){S.shared.pending=null;var re=te,me=re.next;re.next=null,I===null?O=me:I.next=me,I=re;var Te=f.alternate;Te!==null&&(Te=Te.updateQueue,te=Te.lastBaseUpdate,te!==I&&(te===null?Te.firstBaseUpdate=me:te.next=me,Te.lastBaseUpdate=re))}if(O!==null){var Ne=S.baseState;I=0,Te=me=re=null,te=O;do{var Ce=te.lane,Xe=te.eventTime;if((w&Ce)===Ce){Te!==null&&(Te=Te.next={eventTime:Xe,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var Qe=f,et=te;switch(Ce=h,Xe=y,et.tag){case 1:if(Qe=et.payload,typeof Qe=="function"){Ne=Qe.call(Xe,Ne,Ce);break e}Ne=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=et.payload,Ce=typeof Qe=="function"?Qe.call(Xe,Ne,Ce):Qe,Ce==null)break e;Ne=ae({},Ne,Ce);break e;case 2:Zl=!0}}te.callback!==null&&te.lane!==0&&(f.flags|=64,Ce=S.effects,Ce===null?S.effects=[te]:Ce.push(te))}else Xe={eventTime:Xe,lane:Ce,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Te===null?(me=Te=Xe,re=Ne):Te=Te.next=Xe,I|=Ce;if(te=te.next,te===null){if(te=S.shared.pending,te===null)break;Ce=te,te=Ce.next,Ce.next=null,S.lastBaseUpdate=Ce,S.shared.pending=null}}while(!0);if(Te===null&&(re=Ne),S.baseState=re,S.firstBaseUpdate=me,S.lastBaseUpdate=Te,h=S.shared.interleaved,h!==null){S=h;do I|=S.lane,S=S.next;while(S!==h)}else O===null&&(S.shared.lanes=0);Tc|=I,f.lanes=I,f.memoizedState=Ne}}function bO(f,h,y){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var w=f[h],S=w.callback;if(S!==null){if(w.callback=null,w=y,typeof S!="function")throw Error(n(191,S));S.call(w)}}}var up={},Vs=Kl(up),cp=Kl(up),fp=Kl(up);function Ac(f){if(f===up)throw Error(n(174));return f}function QE(f,h){switch(on(fp,h),on(cp,f),on(Vs,up),f=h.nodeType,f){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:gn(null,"");break;default:f=f===8?h.parentNode:h,h=f.namespaceURI||null,f=f.tagName,h=gn(h,f)}dn(Vs),on(Vs,h)}function R0(){dn(Vs),dn(cp),dn(fp)}function AO(f){Ac(fp.current);var h=Ac(Vs.current),y=gn(h,f.type);h!==y&&(on(cp,f),on(Vs,y))}function ZE(f){cp.current===f&&(dn(Vs),dn(cp))}var kn=Kl(0);function cx(f){for(var h=f;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ek=[];function tk(){for(var f=0;f<ek.length;f++)ek[f]._workInProgressVersionPrimary=null;ek.length=0}var fx=A.ReactCurrentDispatcher,nk=A.ReactCurrentBatchConfig,Cc=0,Sn=null,Jn=null,cr=null,dx=!1,dp=!1,hp=0,_J=0;function Wr(){throw Error(n(321))}function rk(f,h){if(h===null)return!1;for(var y=0;y<h.length&&y<f.length;y++)if(!rs(f[y],h[y]))return!1;return!0}function ik(f,h,y,w,S,O){if(Cc=O,Sn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,fx.current=f===null||f.memoizedState===null?SJ:bJ,f=y(w,S),dp){O=0;do{if(dp=!1,hp=0,25<=O)throw Error(n(301));O+=1,cr=Jn=null,h.updateQueue=null,fx.current=AJ,f=y(w,S)}while(dp)}if(fx.current=gx,h=Jn!==null&&Jn.next!==null,Cc=0,cr=Jn=Sn=null,dx=!1,h)throw Error(n(300));return f}function ak(){var f=hp!==0;return hp=0,f}function qs(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Sn.memoizedState=cr=f:cr=cr.next=f,cr}function Fa(){if(Jn===null){var f=Sn.alternate;f=f!==null?f.memoizedState:null}else f=Jn.next;var h=cr===null?Sn.memoizedState:cr.next;if(h!==null)cr=h,Jn=f;else{if(f===null)throw Error(n(310));Jn=f,f={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},cr===null?Sn.memoizedState=cr=f:cr=cr.next=f}return cr}function pp(f,h){return typeof h=="function"?h(f):h}function sk(f){var h=Fa(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=f;var w=Jn,S=w.baseQueue,O=y.pending;if(O!==null){if(S!==null){var I=S.next;S.next=O.next,O.next=I}w.baseQueue=S=O,y.pending=null}if(S!==null){O=S.next,w=w.baseState;var te=I=null,re=null,me=O;do{var Te=me.lane;if((Cc&Te)===Te)re!==null&&(re=re.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),w=me.hasEagerState?me.eagerState:f(w,me.action);else{var Ne={lane:Te,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};re===null?(te=re=Ne,I=w):re=re.next=Ne,Sn.lanes|=Te,Tc|=Te}me=me.next}while(me!==null&&me!==O);re===null?I=w:re.next=te,rs(w,h.memoizedState)||(Pi=!0),h.memoizedState=w,h.baseState=I,h.baseQueue=re,y.lastRenderedState=w}if(f=y.interleaved,f!==null){S=f;do O=S.lane,Sn.lanes|=O,Tc|=O,S=S.next;while(S!==f)}else S===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function ok(f){var h=Fa(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=f;var w=y.dispatch,S=y.pending,O=h.memoizedState;if(S!==null){y.pending=null;var I=S=S.next;do O=f(O,I.action),I=I.next;while(I!==S);rs(O,h.memoizedState)||(Pi=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),y.lastRenderedState=O}return[O,w]}function CO(){}function TO(f,h){var y=Sn,w=Fa(),S=h(),O=!rs(w.memoizedState,S);if(O&&(w.memoizedState=S,Pi=!0),w=w.queue,lk(DO.bind(null,y,w,f),[f]),w.getSnapshot!==h||O||cr!==null&&cr.memoizedState.tag&1){if(y.flags|=2048,gp(9,OO.bind(null,y,w,S,h),void 0,null),fr===null)throw Error(n(349));(Cc&30)!==0||FO(y,h,S)}return S}function FO(f,h,y){f.flags|=16384,f={getSnapshot:h,value:y},h=Sn.updateQueue,h===null?(h={lastEffect:null,stores:null},Sn.updateQueue=h,h.stores=[f]):(y=h.stores,y===null?h.stores=[f]:y.push(f))}function OO(f,h,y,w){h.value=y,h.getSnapshot=w,NO(h)&&MO(f)}function DO(f,h,y){return y(function(){NO(h)&&MO(f)})}function NO(f){var h=f.getSnapshot;f=f.value;try{var y=h();return!rs(f,y)}catch{return!0}}function MO(f){var h=Vo(f,1);h!==null&&ls(h,f,1,-1)}function RO(f){var h=qs();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:f},h.queue=f,f=f.dispatch=kJ.bind(null,Sn,f),[h.memoizedState,f]}function gp(f,h,y,w){return f={tag:f,create:h,destroy:y,deps:w,next:null},h=Sn.updateQueue,h===null?(h={lastEffect:null,stores:null},Sn.updateQueue=h,h.lastEffect=f.next=f):(y=h.lastEffect,y===null?h.lastEffect=f.next=f:(w=y.next,y.next=f,f.next=w,h.lastEffect=f)),f}function IO(){return Fa().memoizedState}function hx(f,h,y,w){var S=qs();Sn.flags|=f,S.memoizedState=gp(1|h,y,void 0,w===void 0?null:w)}function px(f,h,y,w){var S=Fa();w=w===void 0?null:w;var O=void 0;if(Jn!==null){var I=Jn.memoizedState;if(O=I.destroy,w!==null&&rk(w,I.deps)){S.memoizedState=gp(h,y,O,w);return}}Sn.flags|=f,S.memoizedState=gp(1|h,y,O,w)}function $O(f,h){return hx(8390656,8,f,h)}function lk(f,h){return px(2048,8,f,h)}function LO(f,h){return px(4,2,f,h)}function PO(f,h){return px(4,4,f,h)}function BO(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function zO(f,h,y){return y=y!=null?y.concat([f]):null,px(4,4,BO.bind(null,h,f),y)}function uk(){}function UO(f,h){var y=Fa();h=h===void 0?null:h;var w=y.memoizedState;return w!==null&&h!==null&&rk(h,w[1])?w[0]:(y.memoizedState=[f,h],f)}function WO(f,h){var y=Fa();h=h===void 0?null:h;var w=y.memoizedState;return w!==null&&h!==null&&rk(h,w[1])?w[0]:(f=f(),y.memoizedState=[f,h],f)}function HO(f,h,y){return(Cc&21)===0?(f.baseState&&(f.baseState=!1,Pi=!0),f.memoizedState=y):(rs(y,h)||(y=v6(),Sn.lanes|=y,Tc|=y,f.baseState=!0),h)}function wJ(f,h){var y=Kt;Kt=y!==0&&4>y?y:4,f(!0);var w=nk.transition;nk.transition={};try{f(!1),h()}finally{Kt=y,nk.transition=w}}function jO(){return Fa().memoizedState}function EJ(f,h,y){var w=iu(f);if(y={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null},GO(f))YO(h,y);else if(y=EO(f,h,y,w),y!==null){var S=hi();ls(y,f,w,S),VO(y,h,w)}}function kJ(f,h,y){var w=iu(f),S={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null};if(GO(f))YO(h,S);else{var O=f.alternate;if(f.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var I=h.lastRenderedState,te=O(I,y);if(S.hasEagerState=!0,S.eagerState=te,rs(te,I)){var re=h.interleaved;re===null?(S.next=S,KE(h)):(S.next=re.next,re.next=S),h.interleaved=S;return}}catch{}finally{}y=EO(f,h,S,w),y!==null&&(S=hi(),ls(y,f,w,S),VO(y,h,w))}}function GO(f){var h=f.alternate;return f===Sn||h!==null&&h===Sn}function YO(f,h){dp=dx=!0;var y=f.pending;y===null?h.next=h:(h.next=y.next,y.next=h),f.pending=h}function VO(f,h,y){if((y&4194240)!==0){var w=h.lanes;w&=f.pendingLanes,y|=w,h.lanes=y,fE(f,y)}}var gx={readContext:Ta,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},SJ={readContext:Ta,useCallback:function(f,h){return qs().memoizedState=[f,h===void 0?null:h],f},useContext:Ta,useEffect:$O,useImperativeHandle:function(f,h,y){return y=y!=null?y.concat([f]):null,hx(4194308,4,BO.bind(null,h,f),y)},useLayoutEffect:function(f,h){return hx(4194308,4,f,h)},useInsertionEffect:function(f,h){return hx(4,2,f,h)},useMemo:function(f,h){var y=qs();return h=h===void 0?null:h,f=f(),y.memoizedState=[f,h],f},useReducer:function(f,h,y){var w=qs();return h=y!==void 0?y(h):h,w.memoizedState=w.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},w.queue=f,f=f.dispatch=EJ.bind(null,Sn,f),[w.memoizedState,f]},useRef:function(f){var h=qs();return f={current:f},h.memoizedState=f},useState:RO,useDebugValue:uk,useDeferredValue:function(f){return qs().memoizedState=f},useTransition:function(){var f=RO(!1),h=f[0];return f=wJ.bind(null,f[1]),qs().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,y){var w=Sn,S=qs();if(mn){if(y===void 0)throw Error(n(407));y=y()}else{if(y=h(),fr===null)throw Error(n(349));(Cc&30)!==0||FO(w,h,y)}S.memoizedState=y;var O={value:y,getSnapshot:h};return S.queue=O,$O(DO.bind(null,w,O,f),[f]),w.flags|=2048,gp(9,OO.bind(null,w,O,y,h),void 0,null),y},useId:function(){var f=qs(),h=fr.identifierPrefix;if(mn){var y=Yo,w=Go;y=(w&~(1<<32-$n(w)-1)).toString(32)+y,h=":"+h+"R"+y,y=hp++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=_J++,h=":"+h+"r"+y.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},bJ={readContext:Ta,useCallback:UO,useContext:Ta,useEffect:lk,useImperativeHandle:zO,useInsertionEffect:LO,useLayoutEffect:PO,useMemo:WO,useReducer:sk,useRef:IO,useState:function(){return sk(pp)},useDebugValue:uk,useDeferredValue:function(f){var h=Fa();return HO(h,Jn.memoizedState,f)},useTransition:function(){var f=sk(pp)[0],h=Fa().memoizedState;return[f,h]},useMutableSource:CO,useSyncExternalStore:TO,useId:jO,unstable_isNewReconciler:!1},AJ={readContext:Ta,useCallback:UO,useContext:Ta,useEffect:lk,useImperativeHandle:zO,useInsertionEffect:LO,useLayoutEffect:PO,useMemo:WO,useReducer:ok,useRef:IO,useState:function(){return ok(pp)},useDebugValue:uk,useDeferredValue:function(f){var h=Fa();return Jn===null?h.memoizedState=f:HO(h,Jn.memoizedState,f)},useTransition:function(){var f=ok(pp)[0],h=Fa().memoizedState;return[f,h]},useMutableSource:CO,useSyncExternalStore:TO,useId:jO,unstable_isNewReconciler:!1};function as(f,h){if(f&&f.defaultProps){h=ae({},h),f=f.defaultProps;for(var y in f)h[y]===void 0&&(h[y]=f[y]);return h}return h}function ck(f,h,y,w){h=f.memoizedState,y=y(w,h),y=y==null?h:ae({},h,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var mx={isMounted:function(f){return(f=f._reactInternals)?Z(f)===f:!1},enqueueSetState:function(f,h,y){f=f._reactInternals;var w=hi(),S=iu(f),O=qo(w,S);O.payload=h,y!=null&&(O.callback=y),h=eu(f,O,S),h!==null&&(ls(h,f,S,w),lx(h,f,S))},enqueueReplaceState:function(f,h,y){f=f._reactInternals;var w=hi(),S=iu(f),O=qo(w,S);O.tag=1,O.payload=h,y!=null&&(O.callback=y),h=eu(f,O,S),h!==null&&(ls(h,f,S,w),lx(h,f,S))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var y=hi(),w=iu(f),S=qo(y,w);S.tag=2,h!=null&&(S.callback=h),h=eu(f,S,w),h!==null&&(ls(h,f,w,y),lx(h,f,w))}};function qO(f,h,y,w,S,O,I){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,O,I):h.prototype&&h.prototype.isPureReactComponent?!tp(y,w)||!tp(S,O):!0}function XO(f,h,y){var w=!1,S=Jl,O=h.contextType;return typeof O=="object"&&O!==null?O=Ta(O):(S=Li(h)?Ec:Ur.current,w=h.contextTypes,O=(w=w!=null)?C0(f,S):Jl),h=new h(y,O),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=mx,f.stateNode=h,h._reactInternals=f,w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=S,f.__reactInternalMemoizedMaskedChildContext=O),h}function KO(f,h,y,w){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,w),h.state!==f&&mx.enqueueReplaceState(h,h.state,null)}function fk(f,h,y,w){var S=f.stateNode;S.props=y,S.state=f.memoizedState,S.refs={},JE(f);var O=h.contextType;typeof O=="object"&&O!==null?S.context=Ta(O):(O=Li(h)?Ec:Ur.current,S.context=C0(f,O)),S.state=f.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(ck(f,h,O,y),S.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(h=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),h!==S.state&&mx.enqueueReplaceState(S,S.state,null),ux(f,y,S,w),S.state=f.memoizedState),typeof S.componentDidMount=="function"&&(f.flags|=4194308)}function I0(f,h){try{var y="",w=h;do y+=V(w),w=w.return;while(w);var S=y}catch(O){S=`
Error generating stack: `+O.message+`
`+O.stack}return{value:f,source:h,stack:S,digest:null}}function dk(f,h,y){return{value:f,source:null,stack:y??null,digest:h??null}}function hk(f,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var CJ=typeof WeakMap=="function"?WeakMap:Map;function JO(f,h,y){y=qo(-1,y),y.tag=3,y.payload={element:null};var w=h.value;return y.callback=function(){kx||(kx=!0,Tk=w),hk(f,h)},y}function QO(f,h,y){y=qo(-1,y),y.tag=3;var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var S=h.value;y.payload=function(){return w(S)},y.callback=function(){hk(f,h)}}var O=f.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(y.callback=function(){hk(f,h),typeof w!="function"&&(nu===null?nu=new Set([this]):nu.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})}),y}function ZO(f,h,y){var w=f.pingCache;if(w===null){w=f.pingCache=new CJ;var S=new Set;w.set(h,S)}else S=w.get(h),S===void 0&&(S=new Set,w.set(h,S));S.has(y)||(S.add(y),f=UJ.bind(null,f,h,y),h.then(f,f))}function eD(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function tD(f,h,y,w,S){return(f.mode&1)===0?(f===h?f.flags|=65536:(f.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=qo(-1,1),h.tag=2,eu(y,h,1))),y.lanes|=1),f):(f.flags|=65536,f.lanes=S,f)}var TJ=A.ReactCurrentOwner,Pi=!1;function di(f,h,y,w){h.child=f===null?wO(h,null,y,w):D0(h,f.child,y,w)}function nD(f,h,y,w,S){y=y.render;var O=h.ref;return M0(h,S),w=ik(f,h,y,w,O,S),y=ak(),f!==null&&!Pi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~S,Xo(f,h,S)):(mn&&y&&UE(h),h.flags|=1,di(f,h,w,S),h.child)}function rD(f,h,y,w,S){if(f===null){var O=y.type;return typeof O=="function"&&!Ik(O)&&O.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=O,iD(f,h,O,w,S)):(f=Fx(y.type,null,w,h,h.mode,S),f.ref=h.ref,f.return=h,h.child=f)}if(O=f.child,(f.lanes&S)===0){var I=O.memoizedProps;if(y=y.compare,y=y!==null?y:tp,y(I,w)&&f.ref===h.ref)return Xo(f,h,S)}return h.flags|=1,f=su(O,w),f.ref=h.ref,f.return=h,h.child=f}function iD(f,h,y,w,S){if(f!==null){var O=f.memoizedProps;if(tp(O,w)&&f.ref===h.ref)if(Pi=!1,h.pendingProps=w=O,(f.lanes&S)!==0)(f.flags&131072)!==0&&(Pi=!0);else return h.lanes=f.lanes,Xo(f,h,S)}return pk(f,h,y,w,S)}function aD(f,h,y){var w=h.pendingProps,S=w.children,O=f!==null?f.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(L0,oa),oa|=y;else{if((y&1073741824)===0)return f=O!==null?O.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null,transitions:null},h.updateQueue=null,on(L0,oa),oa|=f,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=O!==null?O.baseLanes:y,on(L0,oa),oa|=w}else O!==null?(w=O.baseLanes|y,h.memoizedState=null):w=y,on(L0,oa),oa|=w;return di(f,h,S,y),h.child}function sD(f,h){var y=h.ref;(f===null&&y!==null||f!==null&&f.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function pk(f,h,y,w,S){var O=Li(y)?Ec:Ur.current;return O=C0(h,O),M0(h,S),y=ik(f,h,y,w,O,S),w=ak(),f!==null&&!Pi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~S,Xo(f,h,S)):(mn&&w&&UE(h),h.flags|=1,di(f,h,y,S),h.child)}function oD(f,h,y,w,S){if(Li(y)){var O=!0;ex(h)}else O=!1;if(M0(h,S),h.stateNode===null)yx(f,h),XO(h,y,w),fk(h,y,w,S),w=!0;else if(f===null){var I=h.stateNode,te=h.memoizedProps;I.props=te;var re=I.context,me=y.contextType;typeof me=="object"&&me!==null?me=Ta(me):(me=Li(y)?Ec:Ur.current,me=C0(h,me));var Te=y.getDerivedStateFromProps,Ne=typeof Te=="function"||typeof I.getSnapshotBeforeUpdate=="function";Ne||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(te!==w||re!==me)&&KO(h,I,w,me),Zl=!1;var Ce=h.memoizedState;I.state=Ce,ux(h,w,I,S),re=h.memoizedState,te!==w||Ce!==re||$i.current||Zl?(typeof Te=="function"&&(ck(h,y,Te,w),re=h.memoizedState),(te=Zl||qO(h,y,te,w,Ce,re,me))?(Ne||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(h.flags|=4194308)):(typeof I.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=re),I.props=w,I.state=re,I.context=me,w=te):(typeof I.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{I=h.stateNode,kO(f,h),te=h.memoizedProps,me=h.type===h.elementType?te:as(h.type,te),I.props=me,Ne=h.pendingProps,Ce=I.context,re=y.contextType,typeof re=="object"&&re!==null?re=Ta(re):(re=Li(y)?Ec:Ur.current,re=C0(h,re));var Xe=y.getDerivedStateFromProps;(Te=typeof Xe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(te!==Ne||Ce!==re)&&KO(h,I,w,re),Zl=!1,Ce=h.memoizedState,I.state=Ce,ux(h,w,I,S);var Qe=h.memoizedState;te!==Ne||Ce!==Qe||$i.current||Zl?(typeof Xe=="function"&&(ck(h,y,Xe,w),Qe=h.memoizedState),(me=Zl||qO(h,y,me,w,Ce,Qe,re)||!1)?(Te||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(w,Qe,re),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(w,Qe,re)),typeof I.componentDidUpdate=="function"&&(h.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof I.componentDidUpdate!="function"||te===f.memoizedProps&&Ce===f.memoizedState||(h.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||te===f.memoizedProps&&Ce===f.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Qe),I.props=w,I.state=Qe,I.context=re,w=me):(typeof I.componentDidUpdate!="function"||te===f.memoizedProps&&Ce===f.memoizedState||(h.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||te===f.memoizedProps&&Ce===f.memoizedState||(h.flags|=1024),w=!1)}return gk(f,h,y,w,O,S)}function gk(f,h,y,w,S,O){sD(f,h);var I=(h.flags&128)!==0;if(!w&&!I)return S&&dO(h,y,!1),Xo(f,h,O);w=h.stateNode,TJ.current=h;var te=I&&typeof y.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,f!==null&&I?(h.child=D0(h,f.child,null,O),h.child=D0(h,null,te,O)):di(f,h,te,O),h.memoizedState=w.state,S&&dO(h,y,!0),h.child}function lD(f){var h=f.stateNode;h.pendingContext?cO(f,h.pendingContext,h.pendingContext!==h.context):h.context&&cO(f,h.context,!1),QE(f,h.containerInfo)}function uD(f,h,y,w,S){return O0(),GE(S),h.flags|=256,di(f,h,y,w),h.child}var mk={dehydrated:null,treeContext:null,retryLane:0};function xk(f){return{baseLanes:f,cachePool:null,transitions:null}}function cD(f,h,y){var w=h.pendingProps,S=kn.current,O=!1,I=(h.flags&128)!==0,te;if((te=I)||(te=f!==null&&f.memoizedState===null?!1:(S&2)!==0),te?(O=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(S|=1),on(kn,S&1),f===null)return jE(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((h.mode&1)===0?h.lanes=1:f.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(I=w.children,f=w.fallback,O?(w=h.mode,O=h.child,I={mode:"hidden",children:I},(w&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=I):O=Ox(I,w,0,null),f=Nc(f,w,y,null),O.return=h,f.return=h,O.sibling=f,h.child=O,h.child.memoizedState=xk(y),h.memoizedState=mk,f):yk(h,I));if(S=f.memoizedState,S!==null&&(te=S.dehydrated,te!==null))return FJ(f,h,I,w,te,S,y);if(O){O=w.fallback,I=h.mode,S=f.child,te=S.sibling;var re={mode:"hidden",children:w.children};return(I&1)===0&&h.child!==S?(w=h.child,w.childLanes=0,w.pendingProps=re,h.deletions=null):(w=su(S,re),w.subtreeFlags=S.subtreeFlags&14680064),te!==null?O=su(te,O):(O=Nc(O,I,y,null),O.flags|=2),O.return=h,w.return=h,w.sibling=O,h.child=w,w=O,O=h.child,I=f.child.memoizedState,I=I===null?xk(y):{baseLanes:I.baseLanes|y,cachePool:null,transitions:I.transitions},O.memoizedState=I,O.childLanes=f.childLanes&~y,h.memoizedState=mk,w}return O=f.child,f=O.sibling,w=su(O,{mode:"visible",children:w.children}),(h.mode&1)===0&&(w.lanes=y),w.return=h,w.sibling=null,f!==null&&(y=h.deletions,y===null?(h.deletions=[f],h.flags|=16):y.push(f)),h.child=w,h.memoizedState=null,w}function yk(f,h){return h=Ox({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function xx(f,h,y,w){return w!==null&&GE(w),D0(h,f.child,null,y),f=yk(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function FJ(f,h,y,w,S,O,I){if(y)return h.flags&256?(h.flags&=-257,w=dk(Error(n(422))),xx(f,h,I,w)):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(O=w.fallback,S=h.mode,w=Ox({mode:"visible",children:w.children},S,0,null),O=Nc(O,S,I,null),O.flags|=2,w.return=h,O.return=h,w.sibling=O,h.child=w,(h.mode&1)!==0&&D0(h,f.child,null,I),h.child.memoizedState=xk(I),h.memoizedState=mk,O);if((h.mode&1)===0)return xx(f,h,I,null);if(S.data==="$!"){if(w=S.nextSibling&&S.nextSibling.dataset,w)var te=w.dgst;return w=te,O=Error(n(419)),w=dk(O,w,void 0),xx(f,h,I,w)}if(te=(I&f.childLanes)!==0,Pi||te){if(w=fr,w!==null){switch(I&-I){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(w.suspendedLanes|I))!==0?0:S,S!==0&&S!==O.retryLane&&(O.retryLane=S,Vo(f,S),ls(w,f,S,-1))}return Rk(),w=dk(Error(n(421))),xx(f,h,I,w)}return S.data==="$?"?(h.flags|=128,h.child=f.child,h=WJ.bind(null,f),S._reactRetry=h,null):(f=O.treeContext,sa=Xl(S.nextSibling),aa=h,mn=!0,is=null,f!==null&&(Aa[Ca++]=Go,Aa[Ca++]=Yo,Aa[Ca++]=kc,Go=f.id,Yo=f.overflow,kc=h),h=yk(h,w.children),h.flags|=4096,h)}function fD(f,h,y){f.lanes|=h;var w=f.alternate;w!==null&&(w.lanes|=h),XE(f.return,h,y)}function vk(f,h,y,w,S){var O=f.memoizedState;O===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:S}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=w,O.tail=y,O.tailMode=S)}function dD(f,h,y){var w=h.pendingProps,S=w.revealOrder,O=w.tail;if(di(f,h,w.children,y),w=kn.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&fD(f,y,h);else if(f.tag===19)fD(f,y,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}w&=1}if(on(kn,w),(h.mode&1)===0)h.memoizedState=null;else switch(S){case"forwards":for(y=h.child,S=null;y!==null;)f=y.alternate,f!==null&&cx(f)===null&&(S=y),y=y.sibling;y=S,y===null?(S=h.child,h.child=null):(S=y.sibling,y.sibling=null),vk(h,!1,S,y,O);break;case"backwards":for(y=null,S=h.child,h.child=null;S!==null;){if(f=S.alternate,f!==null&&cx(f)===null){h.child=S;break}f=S.sibling,S.sibling=y,y=S,S=f}vk(h,!0,y,null,O);break;case"together":vk(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function yx(f,h){(h.mode&1)===0&&f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2)}function Xo(f,h,y){if(f!==null&&(h.dependencies=f.dependencies),Tc|=h.lanes,(y&h.childLanes)===0)return null;if(f!==null&&h.child!==f.child)throw Error(n(153));if(h.child!==null){for(f=h.child,y=su(f,f.pendingProps),h.child=y,y.return=h;f.sibling!==null;)f=f.sibling,y=y.sibling=su(f,f.pendingProps),y.return=h;y.sibling=null}return h.child}function OJ(f,h,y){switch(h.tag){case 3:lD(h),O0();break;case 5:AO(h);break;case 1:Li(h.type)&&ex(h);break;case 4:QE(h,h.stateNode.containerInfo);break;case 10:var w=h.type._context,S=h.memoizedProps.value;on(sx,w._currentValue),w._currentValue=S;break;case 13:if(w=h.memoizedState,w!==null)return w.dehydrated!==null?(on(kn,kn.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?cD(f,h,y):(on(kn,kn.current&1),f=Xo(f,h,y),f!==null?f.sibling:null);on(kn,kn.current&1);break;case 19:if(w=(y&h.childLanes)!==0,(f.flags&128)!==0){if(w)return dD(f,h,y);h.flags|=128}if(S=h.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),on(kn,kn.current),w)break;return null;case 22:case 23:return h.lanes=0,aD(f,h,y)}return Xo(f,h,y)}var hD,_k,pD,gD;hD=function(f,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},_k=function(){},pD=function(f,h,y,w){var S=f.memoizedProps;if(S!==w){f=h.stateNode,Ac(Vs.current);var O=null;switch(y){case"input":S=Pe(f,S),w=Pe(f,w),O=[];break;case"select":S=ae({},S,{value:void 0}),w=ae({},w,{value:void 0}),O=[];break;case"textarea":S=Hn(f,S),w=Hn(f,w),O=[];break;default:typeof S.onClick!="function"&&typeof w.onClick=="function"&&(f.onclick=Jm)}Ph(y,w);var I;y=null;for(me in S)if(!w.hasOwnProperty(me)&&S.hasOwnProperty(me)&&S[me]!=null)if(me==="style"){var te=S[me];for(I in te)te.hasOwnProperty(I)&&(y||(y={}),y[I]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(i.hasOwnProperty(me)?O||(O=[]):(O=O||[]).push(me,null));for(me in w){var re=w[me];if(te=S!=null?S[me]:void 0,w.hasOwnProperty(me)&&re!==te&&(re!=null||te!=null))if(me==="style")if(te){for(I in te)!te.hasOwnProperty(I)||re&&re.hasOwnProperty(I)||(y||(y={}),y[I]="");for(I in re)re.hasOwnProperty(I)&&te[I]!==re[I]&&(y||(y={}),y[I]=re[I])}else y||(O||(O=[]),O.push(me,y)),y=re;else me==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,te=te?te.__html:void 0,re!=null&&te!==re&&(O=O||[]).push(me,re)):me==="children"?typeof re!="string"&&typeof re!="number"||(O=O||[]).push(me,""+re):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(i.hasOwnProperty(me)?(re!=null&&me==="onScroll"&&fn("scroll",f),O||te===re||(O=[])):(O=O||[]).push(me,re))}y&&(O=O||[]).push("style",y);var me=O;(h.updateQueue=me)&&(h.flags|=4)}},gD=function(f,h,y,w){y!==w&&(h.flags|=4)};function mp(f,h){if(!mn)switch(f.tailMode){case"hidden":h=f.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function Hr(f){var h=f.alternate!==null&&f.alternate.child===f.child,y=0,w=0;if(h)for(var S=f.child;S!==null;)y|=S.lanes|S.childLanes,w|=S.subtreeFlags&14680064,w|=S.flags&14680064,S.return=f,S=S.sibling;else for(S=f.child;S!==null;)y|=S.lanes|S.childLanes,w|=S.subtreeFlags,w|=S.flags,S.return=f,S=S.sibling;return f.subtreeFlags|=w,f.childLanes=y,h}function DJ(f,h,y){var w=h.pendingProps;switch(WE(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(h),null;case 1:return Li(h.type)&&Zm(),Hr(h),null;case 3:return w=h.stateNode,R0(),dn($i),dn(Ur),tk(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(ix(h)?h.flags|=4:f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,is!==null&&(Dk(is),is=null))),_k(f,h),Hr(h),null;case 5:ZE(h);var S=Ac(fp.current);if(y=h.type,f!==null&&h.stateNode!=null)pD(f,h,y,w,S),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(n(166));return Hr(h),null}if(f=Ac(Vs.current),ix(h)){w=h.stateNode,y=h.type;var O=h.memoizedProps;switch(w[Ys]=h,w[sp]=O,f=(h.mode&1)!==0,y){case"dialog":fn("cancel",w),fn("close",w);break;case"iframe":case"object":case"embed":fn("load",w);break;case"video":case"audio":for(S=0;S<rp.length;S++)fn(rp[S],w);break;case"source":fn("error",w);break;case"img":case"image":case"link":fn("error",w),fn("load",w);break;case"details":fn("toggle",w);break;case"input":je(w,O),fn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!O.multiple},fn("invalid",w);break;case"textarea":br(w,O),fn("invalid",w)}Ph(y,O),S=null;for(var I in O)if(O.hasOwnProperty(I)){var te=O[I];I==="children"?typeof te=="string"?w.textContent!==te&&(O.suppressHydrationWarning!==!0&&Km(w.textContent,te,f),S=["children",te]):typeof te=="number"&&w.textContent!==""+te&&(O.suppressHydrationWarning!==!0&&Km(w.textContent,te,f),S=["children",""+te]):i.hasOwnProperty(I)&&te!=null&&I==="onScroll"&&fn("scroll",w)}switch(y){case"input":Se(w),it(w,O,!0);break;case"textarea":Se(w),En(w);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(w.onclick=Jm)}w=S,h.updateQueue=w,w!==null&&(h.flags|=4)}else{I=S.nodeType===9?S:S.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Gt(y)),f==="http://www.w3.org/1999/xhtml"?y==="script"?(f=I.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof w.is=="string"?f=I.createElement(y,{is:w.is}):(f=I.createElement(y),y==="select"&&(I=f,w.multiple?I.multiple=!0:w.size&&(I.size=w.size))):f=I.createElementNS(f,y),f[Ys]=h,f[sp]=w,hD(f,h,!1,!1),h.stateNode=f;e:{switch(I=Bh(y,w),y){case"dialog":fn("cancel",f),fn("close",f),S=w;break;case"iframe":case"object":case"embed":fn("load",f),S=w;break;case"video":case"audio":for(S=0;S<rp.length;S++)fn(rp[S],f);S=w;break;case"source":fn("error",f),S=w;break;case"img":case"image":case"link":fn("error",f),fn("load",f),S=w;break;case"details":fn("toggle",f),S=w;break;case"input":je(f,w),S=Pe(f,w),fn("invalid",f);break;case"option":S=w;break;case"select":f._wrapperState={wasMultiple:!!w.multiple},S=ae({},w,{value:void 0}),fn("invalid",f);break;case"textarea":br(f,w),S=Hn(f,w),fn("invalid",f);break;default:S=w}Ph(y,S),te=S;for(O in te)if(te.hasOwnProperty(O)){var re=te[O];O==="style"?ra(f,re):O==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Ar(f,re)):O==="children"?typeof re=="string"?(y!=="textarea"||re!=="")&&ht(f,re):typeof re=="number"&&ht(f,""+re):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?re!=null&&O==="onScroll"&&fn("scroll",f):re!=null&&k(f,O,re,I))}switch(y){case"input":Se(f),it(f,w,!1);break;case"textarea":Se(f),En(f);break;case"option":w.value!=null&&f.setAttribute("value",""+xe(w.value));break;case"select":f.multiple=!!w.multiple,O=w.value,O!=null?wn(f,!!w.multiple,O,!1):w.defaultValue!=null&&wn(f,!!w.multiple,w.defaultValue,!0);break;default:typeof S.onClick=="function"&&(f.onclick=Jm)}switch(y){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Hr(h),null;case 6:if(f&&h.stateNode!=null)gD(f,h,f.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(y=Ac(fp.current),Ac(Vs.current),ix(h)){if(w=h.stateNode,y=h.memoizedProps,w[Ys]=h,(O=w.nodeValue!==y)&&(f=aa,f!==null))switch(f.tag){case 3:Km(w.nodeValue,y,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Km(w.nodeValue,y,(f.mode&1)!==0)}O&&(h.flags|=4)}else w=(y.nodeType===9?y:y.ownerDocument).createTextNode(w),w[Ys]=h,h.stateNode=w}return Hr(h),null;case 13:if(dn(kn),w=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(mn&&sa!==null&&(h.mode&1)!==0&&(h.flags&128)===0)yO(),O0(),h.flags|=98560,O=!1;else if(O=ix(h),w!==null&&w.dehydrated!==null){if(f===null){if(!O)throw Error(n(318));if(O=h.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Ys]=h}else O0(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Hr(h),O=!1}else is!==null&&(Dk(is),is=null),O=!0;if(!O)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(w=w!==null,w!==(f!==null&&f.memoizedState!==null)&&w&&(h.child.flags|=8192,(h.mode&1)!==0&&(f===null||(kn.current&1)!==0?Qn===0&&(Qn=3):Rk())),h.updateQueue!==null&&(h.flags|=4),Hr(h),null);case 4:return R0(),_k(f,h),f===null&&ip(h.stateNode.containerInfo),Hr(h),null;case 10:return qE(h.type._context),Hr(h),null;case 17:return Li(h.type)&&Zm(),Hr(h),null;case 19:if(dn(kn),O=h.memoizedState,O===null)return Hr(h),null;if(w=(h.flags&128)!==0,I=O.rendering,I===null)if(w)mp(O,!1);else{if(Qn!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(I=cx(f),I!==null){for(h.flags|=128,mp(O,!1),w=I.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),h.subtreeFlags=0,w=y,y=h.child;y!==null;)O=y,f=w,O.flags&=14680066,I=O.alternate,I===null?(O.childLanes=0,O.lanes=f,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=I.childLanes,O.lanes=I.lanes,O.child=I.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=I.memoizedProps,O.memoizedState=I.memoizedState,O.updateQueue=I.updateQueue,O.type=I.type,f=I.dependencies,O.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),y=y.sibling;return on(kn,kn.current&1|2),h.child}f=f.sibling}O.tail!==null&&$e()>P0&&(h.flags|=128,w=!0,mp(O,!1),h.lanes=4194304)}else{if(!w)if(f=cx(I),f!==null){if(h.flags|=128,w=!0,y=f.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),mp(O,!0),O.tail===null&&O.tailMode==="hidden"&&!I.alternate&&!mn)return Hr(h),null}else 2*$e()-O.renderingStartTime>P0&&y!==1073741824&&(h.flags|=128,w=!0,mp(O,!1),h.lanes=4194304);O.isBackwards?(I.sibling=h.child,h.child=I):(y=O.last,y!==null?y.sibling=I:h.child=I,O.last=I)}return O.tail!==null?(h=O.tail,O.rendering=h,O.tail=h.sibling,O.renderingStartTime=$e(),h.sibling=null,y=kn.current,on(kn,w?y&1|2:y&1),h):(Hr(h),null);case 22:case 23:return Mk(),w=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(oa&1073741824)!==0&&(Hr(h),h.subtreeFlags&6&&(h.flags|=8192)):Hr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function NJ(f,h){switch(WE(h),h.tag){case 1:return Li(h.type)&&Zm(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return R0(),dn($i),dn(Ur),tk(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 5:return ZE(h),null;case 13:if(dn(kn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(n(340));O0()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return dn(kn),null;case 4:return R0(),null;case 10:return qE(h.type._context),null;case 22:case 23:return Mk(),null;case 24:return null;default:return null}}var vx=!1,jr=!1,MJ=typeof WeakSet=="function"?WeakSet:Set,Je=null;function $0(f,h){var y=f.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(w){Tn(f,h,w)}else y.current=null}function wk(f,h,y){try{y()}catch(w){Tn(f,h,w)}}var mD=!1;function RJ(f,h){if(ME=Bm,f=q6(),bE(f)){if("selectionStart"in f)var y={start:f.selectionStart,end:f.selectionEnd};else e:{y=(y=f.ownerDocument)&&y.defaultView||window;var w=y.getSelection&&y.getSelection();if(w&&w.rangeCount!==0){y=w.anchorNode;var S=w.anchorOffset,O=w.focusNode;w=w.focusOffset;try{y.nodeType,O.nodeType}catch{y=null;break e}var I=0,te=-1,re=-1,me=0,Te=0,Ne=f,Ce=null;t:for(;;){for(var Xe;Ne!==y||S!==0&&Ne.nodeType!==3||(te=I+S),Ne!==O||w!==0&&Ne.nodeType!==3||(re=I+w),Ne.nodeType===3&&(I+=Ne.nodeValue.length),(Xe=Ne.firstChild)!==null;)Ce=Ne,Ne=Xe;for(;;){if(Ne===f)break t;if(Ce===y&&++me===S&&(te=I),Ce===O&&++Te===w&&(re=I),(Xe=Ne.nextSibling)!==null)break;Ne=Ce,Ce=Ne.parentNode}Ne=Xe}y=te===-1||re===-1?null:{start:te,end:re}}else y=null}y=y||{start:0,end:0}}else y=null;for(RE={focusedElem:f,selectionRange:y},Bm=!1,Je=h;Je!==null;)if(h=Je,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,Je=f;else for(;Je!==null;){h=Je;try{var Qe=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Qe!==null){var et=Qe.memoizedProps,Ln=Qe.memoizedState,ce=h.stateNode,se=ce.getSnapshotBeforeUpdate(h.elementType===h.type?et:as(h.type,et),Ln);ce.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var fe=h.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ze){Tn(h,h.return,ze)}if(f=h.sibling,f!==null){f.return=h.return,Je=f;break}Je=h.return}return Qe=mD,mD=!1,Qe}function xp(f,h,y){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var S=w=w.next;do{if((S.tag&f)===f){var O=S.destroy;S.destroy=void 0,O!==void 0&&wk(h,y,O)}S=S.next}while(S!==w)}}function _x(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&f)===f){var w=y.create;y.destroy=w()}y=y.next}while(y!==h)}}function Ek(f){var h=f.ref;if(h!==null){var y=f.stateNode;switch(f.tag){case 5:f=y;break;default:f=y}typeof h=="function"?h(f):h.current=f}}function xD(f){var h=f.alternate;h!==null&&(f.alternate=null,xD(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&(delete h[Ys],delete h[sp],delete h[PE],delete h[mJ],delete h[xJ])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function yD(f){return f.tag===5||f.tag===3||f.tag===4}function vD(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||yD(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function kk(f,h,y){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(f,h):y.insertBefore(f,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(f,y)):(h=y,h.appendChild(f)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=Jm));else if(w!==4&&(f=f.child,f!==null))for(kk(f,h,y),f=f.sibling;f!==null;)kk(f,h,y),f=f.sibling}function Sk(f,h,y){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?y.insertBefore(f,h):y.appendChild(f);else if(w!==4&&(f=f.child,f!==null))for(Sk(f,h,y),f=f.sibling;f!==null;)Sk(f,h,y),f=f.sibling}var Cr=null,ss=!1;function tu(f,h,y){for(y=y.child;y!==null;)_D(f,h,y),y=y.sibling}function _D(f,h,y){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Gs,y)}catch{}switch(y.tag){case 5:jr||$0(y,h);case 6:var w=Cr,S=ss;Cr=null,tu(f,h,y),Cr=w,ss=S,Cr!==null&&(ss?(f=Cr,y=y.stateNode,f.nodeType===8?f.parentNode.removeChild(y):f.removeChild(y)):Cr.removeChild(y.stateNode));break;case 18:Cr!==null&&(ss?(f=Cr,y=y.stateNode,f.nodeType===8?LE(f.parentNode,y):f.nodeType===1&&LE(f,y),Xh(f)):LE(Cr,y.stateNode));break;case 4:w=Cr,S=ss,Cr=y.stateNode.containerInfo,ss=!0,tu(f,h,y),Cr=w,ss=S;break;case 0:case 11:case 14:case 15:if(!jr&&(w=y.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){S=w=w.next;do{var O=S,I=O.destroy;O=O.tag,I!==void 0&&((O&2)!==0||(O&4)!==0)&&wk(y,h,I),S=S.next}while(S!==w)}tu(f,h,y);break;case 1:if(!jr&&($0(y,h),w=y.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=y.memoizedProps,w.state=y.memoizedState,w.componentWillUnmount()}catch(te){Tn(y,h,te)}tu(f,h,y);break;case 21:tu(f,h,y);break;case 22:y.mode&1?(jr=(w=jr)||y.memoizedState!==null,tu(f,h,y),jr=w):tu(f,h,y);break;default:tu(f,h,y)}}function wD(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var y=f.stateNode;y===null&&(y=f.stateNode=new MJ),h.forEach(function(w){var S=HJ.bind(null,f,w);y.has(w)||(y.add(w),w.then(S,S))})}}function os(f,h){var y=h.deletions;if(y!==null)for(var w=0;w<y.length;w++){var S=y[w];try{var O=f,I=h,te=I;e:for(;te!==null;){switch(te.tag){case 5:Cr=te.stateNode,ss=!1;break e;case 3:Cr=te.stateNode.containerInfo,ss=!0;break e;case 4:Cr=te.stateNode.containerInfo,ss=!0;break e}te=te.return}if(Cr===null)throw Error(n(160));_D(O,I,S),Cr=null,ss=!1;var re=S.alternate;re!==null&&(re.return=null),S.return=null}catch(me){Tn(S,h,me)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)ED(h,f),h=h.sibling}function ED(f,h){var y=f.alternate,w=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(os(h,f),Xs(f),w&4){try{xp(3,f,f.return),_x(3,f)}catch(et){Tn(f,f.return,et)}try{xp(5,f,f.return)}catch(et){Tn(f,f.return,et)}}break;case 1:os(h,f),Xs(f),w&512&&y!==null&&$0(y,y.return);break;case 5:if(os(h,f),Xs(f),w&512&&y!==null&&$0(y,y.return),f.flags&32){var S=f.stateNode;try{ht(S,"")}catch(et){Tn(f,f.return,et)}}if(w&4&&(S=f.stateNode,S!=null)){var O=f.memoizedProps,I=y!==null?y.memoizedProps:O,te=f.type,re=f.updateQueue;if(f.updateQueue=null,re!==null)try{te==="input"&&O.type==="radio"&&O.name!=null&&Ie(S,O),Bh(te,I);var me=Bh(te,O);for(I=0;I<re.length;I+=2){var Te=re[I],Ne=re[I+1];Te==="style"?ra(S,Ne):Te==="dangerouslySetInnerHTML"?Ar(S,Ne):Te==="children"?ht(S,Ne):k(S,Te,Ne,me)}switch(te){case"input":Ae(S,O);break;case"textarea":$t(S,O);break;case"select":var Ce=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!O.multiple;var Xe=O.value;Xe!=null?wn(S,!!O.multiple,Xe,!1):Ce!==!!O.multiple&&(O.defaultValue!=null?wn(S,!!O.multiple,O.defaultValue,!0):wn(S,!!O.multiple,O.multiple?[]:"",!1))}S[sp]=O}catch(et){Tn(f,f.return,et)}}break;case 6:if(os(h,f),Xs(f),w&4){if(f.stateNode===null)throw Error(n(162));S=f.stateNode,O=f.memoizedProps;try{S.nodeValue=O}catch(et){Tn(f,f.return,et)}}break;case 3:if(os(h,f),Xs(f),w&4&&y!==null&&y.memoizedState.isDehydrated)try{Xh(h.containerInfo)}catch(et){Tn(f,f.return,et)}break;case 4:os(h,f),Xs(f);break;case 13:os(h,f),Xs(f),S=f.child,S.flags&8192&&(O=S.memoizedState!==null,S.stateNode.isHidden=O,!O||S.alternate!==null&&S.alternate.memoizedState!==null||(Ck=$e())),w&4&&wD(f);break;case 22:if(Te=y!==null&&y.memoizedState!==null,f.mode&1?(jr=(me=jr)||Te,os(h,f),jr=me):os(h,f),Xs(f),w&8192){if(me=f.memoizedState!==null,(f.stateNode.isHidden=me)&&!Te&&(f.mode&1)!==0)for(Je=f,Te=f.child;Te!==null;){for(Ne=Je=Te;Je!==null;){switch(Ce=Je,Xe=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:xp(4,Ce,Ce.return);break;case 1:$0(Ce,Ce.return);var Qe=Ce.stateNode;if(typeof Qe.componentWillUnmount=="function"){w=Ce,y=Ce.return;try{h=w,Qe.props=h.memoizedProps,Qe.state=h.memoizedState,Qe.componentWillUnmount()}catch(et){Tn(w,y,et)}}break;case 5:$0(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){bD(Ne);continue}}Xe!==null?(Xe.return=Ce,Je=Xe):bD(Ne)}Te=Te.sibling}e:for(Te=null,Ne=f;;){if(Ne.tag===5){if(Te===null){Te=Ne;try{S=Ne.stateNode,me?(O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(te=Ne.stateNode,re=Ne.memoizedProps.style,I=re!=null&&re.hasOwnProperty("display")?re.display:null,te.style.display=en("display",I))}catch(et){Tn(f,f.return,et)}}}else if(Ne.tag===6){if(Te===null)try{Ne.stateNode.nodeValue=me?"":Ne.memoizedProps}catch(et){Tn(f,f.return,et)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===f)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===f)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===f)break e;Te===Ne&&(Te=null),Ne=Ne.return}Te===Ne&&(Te=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:os(h,f),Xs(f),w&4&&wD(f);break;case 21:break;default:os(h,f),Xs(f)}}function Xs(f){var h=f.flags;if(h&2){try{e:{for(var y=f.return;y!==null;){if(yD(y)){var w=y;break e}y=y.return}throw Error(n(160))}switch(w.tag){case 5:var S=w.stateNode;w.flags&32&&(ht(S,""),w.flags&=-33);var O=vD(f);Sk(f,O,S);break;case 3:case 4:var I=w.stateNode.containerInfo,te=vD(f);kk(f,te,I);break;default:throw Error(n(161))}}catch(re){Tn(f,f.return,re)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function IJ(f,h,y){Je=f,kD(f)}function kD(f,h,y){for(var w=(f.mode&1)!==0;Je!==null;){var S=Je,O=S.child;if(S.tag===22&&w){var I=S.memoizedState!==null||vx;if(!I){var te=S.alternate,re=te!==null&&te.memoizedState!==null||jr;te=vx;var me=jr;if(vx=I,(jr=re)&&!me)for(Je=S;Je!==null;)I=Je,re=I.child,I.tag===22&&I.memoizedState!==null?AD(S):re!==null?(re.return=I,Je=re):AD(S);for(;O!==null;)Je=O,kD(O),O=O.sibling;Je=S,vx=te,jr=me}SD(f)}else(S.subtreeFlags&8772)!==0&&O!==null?(O.return=S,Je=O):SD(f)}}function SD(f){for(;Je!==null;){var h=Je;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:jr||_x(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!jr)if(y===null)w.componentDidMount();else{var S=h.elementType===h.type?y.memoizedProps:as(h.type,y.memoizedProps);w.componentDidUpdate(S,y.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var O=h.updateQueue;O!==null&&bO(h,O,w);break;case 3:var I=h.updateQueue;if(I!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}bO(h,I,y)}break;case 5:var te=h.stateNode;if(y===null&&h.flags&4){y=te;var re=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&y.focus();break;case"img":re.src&&(y.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var me=h.alternate;if(me!==null){var Te=me.memoizedState;if(Te!==null){var Ne=Te.dehydrated;Ne!==null&&Xh(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jr||h.flags&512&&Ek(h)}catch(Ce){Tn(h,h.return,Ce)}}if(h===f){Je=null;break}if(y=h.sibling,y!==null){y.return=h.return,Je=y;break}Je=h.return}}function bD(f){for(;Je!==null;){var h=Je;if(h===f){Je=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Je=y;break}Je=h.return}}function AD(f){for(;Je!==null;){var h=Je;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{_x(4,h)}catch(re){Tn(h,y,re)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var S=h.return;try{w.componentDidMount()}catch(re){Tn(h,S,re)}}var O=h.return;try{Ek(h)}catch(re){Tn(h,O,re)}break;case 5:var I=h.return;try{Ek(h)}catch(re){Tn(h,I,re)}}}catch(re){Tn(h,h.return,re)}if(h===f){Je=null;break}var te=h.sibling;if(te!==null){te.return=h.return,Je=te;break}Je=h.return}}var $J=Math.ceil,wx=A.ReactCurrentDispatcher,bk=A.ReactCurrentOwner,Oa=A.ReactCurrentBatchConfig,Lt=0,fr=null,jn=null,Tr=0,oa=0,L0=Kl(0),Qn=0,yp=null,Tc=0,Ex=0,Ak=0,vp=null,Bi=null,Ck=0,P0=1/0,Ko=null,kx=!1,Tk=null,nu=null,Sx=!1,ru=null,bx=0,_p=0,Fk=null,Ax=-1,Cx=0;function hi(){return(Lt&6)!==0?$e():Ax!==-1?Ax:Ax=$e()}function iu(f){return(f.mode&1)===0?1:(Lt&2)!==0&&Tr!==0?Tr&-Tr:vJ.transition!==null?(Cx===0&&(Cx=v6()),Cx):(f=Kt,f!==0||(f=window.event,f=f===void 0?16:T6(f.type)),f)}function ls(f,h,y,w){if(50<_p)throw _p=0,Fk=null,Error(n(185));jh(f,y,w),((Lt&2)===0||f!==fr)&&(f===fr&&((Lt&2)===0&&(Ex|=y),Qn===4&&au(f,Tr)),zi(f,w),y===1&&Lt===0&&(h.mode&1)===0&&(P0=$e()+500,tx&&Ql()))}function zi(f,h){var y=f.callbackNode;vK(f,h);var w=$m(f,f===fr?Tr:0);if(w===0)y!==null&&He(y),f.callbackNode=null,f.callbackPriority=0;else if(h=w&-w,f.callbackPriority!==h){if(y!=null&&He(y),h===1)f.tag===0?yJ(TD.bind(null,f)):hO(TD.bind(null,f)),pJ(function(){(Lt&6)===0&&Ql()}),y=null;else{switch(_6(w)){case 1:y=nn;break;case 4:y=sn;break;case 16:y=In;break;case 536870912:y=Wl;break;default:y=In}y=$D(y,CD.bind(null,f))}f.callbackPriority=h,f.callbackNode=y}}function CD(f,h){if(Ax=-1,Cx=0,(Lt&6)!==0)throw Error(n(327));var y=f.callbackNode;if(B0()&&f.callbackNode!==y)return null;var w=$m(f,f===fr?Tr:0);if(w===0)return null;if((w&30)!==0||(w&f.expiredLanes)!==0||h)h=Tx(f,w);else{h=w;var S=Lt;Lt|=2;var O=OD();(fr!==f||Tr!==h)&&(Ko=null,P0=$e()+500,Oc(f,h));do try{BJ();break}catch(te){FD(f,te)}while(!0);VE(),wx.current=O,Lt=S,jn!==null?h=0:(fr=null,Tr=0,h=Qn)}if(h!==0){if(h===2&&(S=uE(f),S!==0&&(w=S,h=Ok(f,S))),h===1)throw y=yp,Oc(f,0),au(f,w),zi(f,$e()),y;if(h===6)au(f,w);else{if(S=f.current.alternate,(w&30)===0&&!LJ(S)&&(h=Tx(f,w),h===2&&(O=uE(f),O!==0&&(w=O,h=Ok(f,O))),h===1))throw y=yp,Oc(f,0),au(f,w),zi(f,$e()),y;switch(f.finishedWork=S,f.finishedLanes=w,h){case 0:case 1:throw Error(n(345));case 2:Dc(f,Bi,Ko);break;case 3:if(au(f,w),(w&130023424)===w&&(h=Ck+500-$e(),10<h)){if($m(f,0)!==0)break;if(S=f.suspendedLanes,(S&w)!==w){hi(),f.pingedLanes|=f.suspendedLanes&S;break}f.timeoutHandle=$E(Dc.bind(null,f,Bi,Ko),h);break}Dc(f,Bi,Ko);break;case 4:if(au(f,w),(w&4194240)===w)break;for(h=f.eventTimes,S=-1;0<w;){var I=31-$n(w);O=1<<I,I=h[I],I>S&&(S=I),w&=~O}if(w=S,w=$e()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*$J(w/1960))-w,10<w){f.timeoutHandle=$E(Dc.bind(null,f,Bi,Ko),w);break}Dc(f,Bi,Ko);break;case 5:Dc(f,Bi,Ko);break;default:throw Error(n(329))}}}return zi(f,$e()),f.callbackNode===y?CD.bind(null,f):null}function Ok(f,h){var y=vp;return f.current.memoizedState.isDehydrated&&(Oc(f,h).flags|=256),f=Tx(f,h),f!==2&&(h=Bi,Bi=y,h!==null&&Dk(h)),f}function Dk(f){Bi===null?Bi=f:Bi.push.apply(Bi,f)}function LJ(f){for(var h=f;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var w=0;w<y.length;w++){var S=y[w],O=S.getSnapshot;S=S.value;try{if(!rs(O(),S))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function au(f,h){for(h&=~Ak,h&=~Ex,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var y=31-$n(h),w=1<<y;f[y]=-1,h&=~w}}function TD(f){if((Lt&6)!==0)throw Error(n(327));B0();var h=$m(f,0);if((h&1)===0)return zi(f,$e()),null;var y=Tx(f,h);if(f.tag!==0&&y===2){var w=uE(f);w!==0&&(h=w,y=Ok(f,w))}if(y===1)throw y=yp,Oc(f,0),au(f,h),zi(f,$e()),y;if(y===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,Dc(f,Bi,Ko),zi(f,$e()),null}function Nk(f,h){var y=Lt;Lt|=1;try{return f(h)}finally{Lt=y,Lt===0&&(P0=$e()+500,tx&&Ql())}}function Fc(f){ru!==null&&ru.tag===0&&(Lt&6)===0&&B0();var h=Lt;Lt|=1;var y=Oa.transition,w=Kt;try{if(Oa.transition=null,Kt=1,f)return f()}finally{Kt=w,Oa.transition=y,Lt=h,(Lt&6)===0&&Ql()}}function Mk(){oa=L0.current,dn(L0)}function Oc(f,h){f.finishedWork=null,f.finishedLanes=0;var y=f.timeoutHandle;if(y!==-1&&(f.timeoutHandle=-1,hJ(y)),jn!==null)for(y=jn.return;y!==null;){var w=y;switch(WE(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Zm();break;case 3:R0(),dn($i),dn(Ur),tk();break;case 5:ZE(w);break;case 4:R0();break;case 13:dn(kn);break;case 19:dn(kn);break;case 10:qE(w.type._context);break;case 22:case 23:Mk()}y=y.return}if(fr=f,jn=f=su(f.current,null),Tr=oa=h,Qn=0,yp=null,Ak=Ex=Tc=0,Bi=vp=null,bc!==null){for(h=0;h<bc.length;h++)if(y=bc[h],w=y.interleaved,w!==null){y.interleaved=null;var S=w.next,O=y.pending;if(O!==null){var I=O.next;O.next=S,w.next=I}y.pending=w}bc=null}return f}function FD(f,h){do{var y=jn;try{if(VE(),fx.current=gx,dx){for(var w=Sn.memoizedState;w!==null;){var S=w.queue;S!==null&&(S.pending=null),w=w.next}dx=!1}if(Cc=0,cr=Jn=Sn=null,dp=!1,hp=0,bk.current=null,y===null||y.return===null){Qn=1,yp=h,jn=null;break}e:{var O=f,I=y.return,te=y,re=h;if(h=Tr,te.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var me=re,Te=te,Ne=Te.tag;if((Te.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var Ce=Te.alternate;Ce?(Te.updateQueue=Ce.updateQueue,Te.memoizedState=Ce.memoizedState,Te.lanes=Ce.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var Xe=eD(I);if(Xe!==null){Xe.flags&=-257,tD(Xe,I,te,O,h),Xe.mode&1&&ZO(O,me,h),h=Xe,re=me;var Qe=h.updateQueue;if(Qe===null){var et=new Set;et.add(re),h.updateQueue=et}else Qe.add(re);break e}else{if((h&1)===0){ZO(O,me,h),Rk();break e}re=Error(n(426))}}else if(mn&&te.mode&1){var Ln=eD(I);if(Ln!==null){(Ln.flags&65536)===0&&(Ln.flags|=256),tD(Ln,I,te,O,h),GE(I0(re,te));break e}}O=re=I0(re,te),Qn!==4&&(Qn=2),vp===null?vp=[O]:vp.push(O),O=I;do{switch(O.tag){case 3:O.flags|=65536,h&=-h,O.lanes|=h;var ce=JO(O,re,h);SO(O,ce);break e;case 1:te=re;var se=O.type,fe=O.stateNode;if((O.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(nu===null||!nu.has(fe)))){O.flags|=65536,h&=-h,O.lanes|=h;var ze=QO(O,te,h);SO(O,ze);break e}}O=O.return}while(O!==null)}ND(y)}catch(rt){h=rt,jn===y&&y!==null&&(jn=y=y.return);continue}break}while(!0)}function OD(){var f=wx.current;return wx.current=gx,f===null?gx:f}function Rk(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),fr===null||(Tc&268435455)===0&&(Ex&268435455)===0||au(fr,Tr)}function Tx(f,h){var y=Lt;Lt|=2;var w=OD();(fr!==f||Tr!==h)&&(Ko=null,Oc(f,h));do try{PJ();break}catch(S){FD(f,S)}while(!0);if(VE(),Lt=y,wx.current=w,jn!==null)throw Error(n(261));return fr=null,Tr=0,Qn}function PJ(){for(;jn!==null;)DD(jn)}function BJ(){for(;jn!==null&&!Ke();)DD(jn)}function DD(f){var h=ID(f.alternate,f,oa);f.memoizedProps=f.pendingProps,h===null?ND(f):jn=h,bk.current=null}function ND(f){var h=f;do{var y=h.alternate;if(f=h.return,(h.flags&32768)===0){if(y=DJ(y,h,oa),y!==null){jn=y;return}}else{if(y=NJ(y,h),y!==null){y.flags&=32767,jn=y;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Qn=6,jn=null;return}}if(h=h.sibling,h!==null){jn=h;return}jn=h=f}while(h!==null);Qn===0&&(Qn=5)}function Dc(f,h,y){var w=Kt,S=Oa.transition;try{Oa.transition=null,Kt=1,zJ(f,h,y,w)}finally{Oa.transition=S,Kt=w}return null}function zJ(f,h,y,w){do B0();while(ru!==null);if((Lt&6)!==0)throw Error(n(327));y=f.finishedWork;var S=f.finishedLanes;if(y===null)return null;if(f.finishedWork=null,f.finishedLanes=0,y===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var O=y.lanes|y.childLanes;if(_K(f,O),f===fr&&(jn=fr=null,Tr=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Sx||(Sx=!0,$D(In,function(){return B0(),null})),O=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||O){O=Oa.transition,Oa.transition=null;var I=Kt;Kt=1;var te=Lt;Lt|=4,bk.current=null,RJ(f,y),ED(y,f),sJ(RE),Bm=!!ME,RE=ME=null,f.current=y,IJ(y),Be(),Lt=te,Kt=I,Oa.transition=O}else f.current=y;if(Sx&&(Sx=!1,ru=f,bx=S),O=f.pendingLanes,O===0&&(nu=null),Wh(y.stateNode),zi(f,$e()),h!==null)for(w=f.onRecoverableError,y=0;y<h.length;y++)S=h[y],w(S.value,{componentStack:S.stack,digest:S.digest});if(kx)throw kx=!1,f=Tk,Tk=null,f;return(bx&1)!==0&&f.tag!==0&&B0(),O=f.pendingLanes,(O&1)!==0?f===Fk?_p++:(_p=0,Fk=f):_p=0,Ql(),null}function B0(){if(ru!==null){var f=_6(bx),h=Oa.transition,y=Kt;try{if(Oa.transition=null,Kt=16>f?16:f,ru===null)var w=!1;else{if(f=ru,ru=null,bx=0,(Lt&6)!==0)throw Error(n(331));var S=Lt;for(Lt|=4,Je=f.current;Je!==null;){var O=Je,I=O.child;if((Je.flags&16)!==0){var te=O.deletions;if(te!==null){for(var re=0;re<te.length;re++){var me=te[re];for(Je=me;Je!==null;){var Te=Je;switch(Te.tag){case 0:case 11:case 15:xp(8,Te,O)}var Ne=Te.child;if(Ne!==null)Ne.return=Te,Je=Ne;else for(;Je!==null;){Te=Je;var Ce=Te.sibling,Xe=Te.return;if(xD(Te),Te===me){Je=null;break}if(Ce!==null){Ce.return=Xe,Je=Ce;break}Je=Xe}}}var Qe=O.alternate;if(Qe!==null){var et=Qe.child;if(et!==null){Qe.child=null;do{var Ln=et.sibling;et.sibling=null,et=Ln}while(et!==null)}}Je=O}}if((O.subtreeFlags&2064)!==0&&I!==null)I.return=O,Je=I;else e:for(;Je!==null;){if(O=Je,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:xp(9,O,O.return)}var ce=O.sibling;if(ce!==null){ce.return=O.return,Je=ce;break e}Je=O.return}}var se=f.current;for(Je=se;Je!==null;){I=Je;var fe=I.child;if((I.subtreeFlags&2064)!==0&&fe!==null)fe.return=I,Je=fe;else e:for(I=se;Je!==null;){if(te=Je,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:_x(9,te)}}catch(rt){Tn(te,te.return,rt)}if(te===I){Je=null;break e}var ze=te.sibling;if(ze!==null){ze.return=te.return,Je=ze;break e}Je=te.return}}if(Lt=S,Ql(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Gs,f)}catch{}w=!0}return w}finally{Kt=y,Oa.transition=h}}return!1}function MD(f,h,y){h=I0(y,h),h=JO(f,h,1),f=eu(f,h,1),h=hi(),f!==null&&(jh(f,1,h),zi(f,h))}function Tn(f,h,y){if(f.tag===3)MD(f,f,y);else for(;h!==null;){if(h.tag===3){MD(h,f,y);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(nu===null||!nu.has(w))){f=I0(y,f),f=QO(h,f,1),h=eu(h,f,1),f=hi(),h!==null&&(jh(h,1,f),zi(h,f));break}}h=h.return}}function UJ(f,h,y){var w=f.pingCache;w!==null&&w.delete(h),h=hi(),f.pingedLanes|=f.suspendedLanes&y,fr===f&&(Tr&y)===y&&(Qn===4||Qn===3&&(Tr&130023424)===Tr&&500>$e()-Ck?Oc(f,0):Ak|=y),zi(f,h)}function RD(f,h){h===0&&((f.mode&1)===0?h=1:(h=Im,Im<<=1,(Im&130023424)===0&&(Im=4194304)));var y=hi();f=Vo(f,h),f!==null&&(jh(f,h,y),zi(f,y))}function WJ(f){var h=f.memoizedState,y=0;h!==null&&(y=h.retryLane),RD(f,y)}function HJ(f,h){var y=0;switch(f.tag){case 13:var w=f.stateNode,S=f.memoizedState;S!==null&&(y=S.retryLane);break;case 19:w=f.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(h),RD(f,y)}var ID;ID=function(f,h,y){if(f!==null)if(f.memoizedProps!==h.pendingProps||$i.current)Pi=!0;else{if((f.lanes&y)===0&&(h.flags&128)===0)return Pi=!1,OJ(f,h,y);Pi=(f.flags&131072)!==0}else Pi=!1,mn&&(h.flags&1048576)!==0&&pO(h,rx,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;yx(f,h),f=h.pendingProps;var S=C0(h,Ur.current);M0(h,y),S=ik(null,h,w,f,S,y);var O=ak();return h.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Li(w)?(O=!0,ex(h)):O=!1,h.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,JE(h),S.updater=mx,h.stateNode=S,S._reactInternals=h,fk(h,w,f,y),h=gk(null,h,w,!0,O,y)):(h.tag=0,mn&&O&&UE(h),di(null,h,S,y),h=h.child),h;case 16:w=h.elementType;e:{switch(yx(f,h),f=h.pendingProps,S=w._init,w=S(w._payload),h.type=w,S=h.tag=GJ(w),f=as(w,f),S){case 0:h=pk(null,h,w,f,y);break e;case 1:h=oD(null,h,w,f,y);break e;case 11:h=nD(null,h,w,f,y);break e;case 14:h=rD(null,h,w,as(w.type,f),y);break e}throw Error(n(306,w,""))}return h;case 0:return w=h.type,S=h.pendingProps,S=h.elementType===w?S:as(w,S),pk(f,h,w,S,y);case 1:return w=h.type,S=h.pendingProps,S=h.elementType===w?S:as(w,S),oD(f,h,w,S,y);case 3:e:{if(lD(h),f===null)throw Error(n(387));w=h.pendingProps,O=h.memoizedState,S=O.element,kO(f,h),ux(h,w,null,y);var I=h.memoizedState;if(w=I.element,O.isDehydrated)if(O={element:w,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},h.updateQueue.baseState=O,h.memoizedState=O,h.flags&256){S=I0(Error(n(423)),h),h=uD(f,h,w,y,S);break e}else if(w!==S){S=I0(Error(n(424)),h),h=uD(f,h,w,y,S);break e}else for(sa=Xl(h.stateNode.containerInfo.firstChild),aa=h,mn=!0,is=null,y=wO(h,null,w,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(O0(),w===S){h=Xo(f,h,y);break e}di(f,h,w,y)}h=h.child}return h;case 5:return AO(h),f===null&&jE(h),w=h.type,S=h.pendingProps,O=f!==null?f.memoizedProps:null,I=S.children,IE(w,S)?I=null:O!==null&&IE(w,O)&&(h.flags|=32),sD(f,h),di(f,h,I,y),h.child;case 6:return f===null&&jE(h),null;case 13:return cD(f,h,y);case 4:return QE(h,h.stateNode.containerInfo),w=h.pendingProps,f===null?h.child=D0(h,null,w,y):di(f,h,w,y),h.child;case 11:return w=h.type,S=h.pendingProps,S=h.elementType===w?S:as(w,S),nD(f,h,w,S,y);case 7:return di(f,h,h.pendingProps,y),h.child;case 8:return di(f,h,h.pendingProps.children,y),h.child;case 12:return di(f,h,h.pendingProps.children,y),h.child;case 10:e:{if(w=h.type._context,S=h.pendingProps,O=h.memoizedProps,I=S.value,on(sx,w._currentValue),w._currentValue=I,O!==null)if(rs(O.value,I)){if(O.children===S.children&&!$i.current){h=Xo(f,h,y);break e}}else for(O=h.child,O!==null&&(O.return=h);O!==null;){var te=O.dependencies;if(te!==null){I=O.child;for(var re=te.firstContext;re!==null;){if(re.context===w){if(O.tag===1){re=qo(-1,y&-y),re.tag=2;var me=O.updateQueue;if(me!==null){me=me.shared;var Te=me.pending;Te===null?re.next=re:(re.next=Te.next,Te.next=re),me.pending=re}}O.lanes|=y,re=O.alternate,re!==null&&(re.lanes|=y),XE(O.return,y,h),te.lanes|=y;break}re=re.next}}else if(O.tag===10)I=O.type===h.type?null:O.child;else if(O.tag===18){if(I=O.return,I===null)throw Error(n(341));I.lanes|=y,te=I.alternate,te!==null&&(te.lanes|=y),XE(I,y,h),I=O.sibling}else I=O.child;if(I!==null)I.return=O;else for(I=O;I!==null;){if(I===h){I=null;break}if(O=I.sibling,O!==null){O.return=I.return,I=O;break}I=I.return}O=I}di(f,h,S.children,y),h=h.child}return h;case 9:return S=h.type,w=h.pendingProps.children,M0(h,y),S=Ta(S),w=w(S),h.flags|=1,di(f,h,w,y),h.child;case 14:return w=h.type,S=as(w,h.pendingProps),S=as(w.type,S),rD(f,h,w,S,y);case 15:return iD(f,h,h.type,h.pendingProps,y);case 17:return w=h.type,S=h.pendingProps,S=h.elementType===w?S:as(w,S),yx(f,h),h.tag=1,Li(w)?(f=!0,ex(h)):f=!1,M0(h,y),XO(h,w,S),fk(h,w,S,y),gk(null,h,w,!0,f,y);case 19:return dD(f,h,y);case 22:return aD(f,h,y)}throw Error(n(156,h.tag))};function $D(f,h){return De(f,h)}function jJ(f,h,y,w){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(f,h,y,w){return new jJ(f,h,y,w)}function Ik(f){return f=f.prototype,!(!f||!f.isReactComponent)}function GJ(f){if(typeof f=="function")return Ik(f)?1:0;if(f!=null){if(f=f.$$typeof,f===L)return 11;if(f===U)return 14}return 2}function su(f,h){var y=f.alternate;return y===null?(y=Da(f.tag,h,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=h,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&14680064,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,h=f.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y}function Fx(f,h,y,w,S,O){var I=2;if(w=f,typeof f=="function")Ik(f)&&(I=1);else if(typeof f=="string")I=5;else e:switch(f){case b:return Nc(y.children,S,O,h);case F:I=8,S|=8;break;case C:return f=Da(12,y,h,S|2),f.elementType=C,f.lanes=O,f;case j:return f=Da(13,y,h,S),f.elementType=j,f.lanes=O,f;case q:return f=Da(19,y,h,S),f.elementType=q,f.lanes=O,f;case ee:return Ox(y,S,O,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case N:I=10;break e;case R:I=9;break e;case L:I=11;break e;case U:I=14;break e;case K:I=16,w=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return h=Da(I,y,h,S),h.elementType=f,h.type=w,h.lanes=O,h}function Nc(f,h,y,w){return f=Da(7,f,w,h),f.lanes=y,f}function Ox(f,h,y,w){return f=Da(22,f,w,h),f.elementType=ee,f.lanes=y,f.stateNode={isHidden:!1},f}function $k(f,h,y){return f=Da(6,f,null,h),f.lanes=y,f}function Lk(f,h,y){return h=Da(4,f.children!==null?f.children:[],f.key,h),h.lanes=y,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function YJ(f,h,y,w,S){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cE(0),this.expirationTimes=cE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cE(0),this.identifierPrefix=w,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Pk(f,h,y,w,S,O,I,te,re){return f=new YJ(f,h,y,te,re),h===1?(h=1,O===!0&&(h|=8)):h=0,O=Da(3,null,null,h),f.current=O,O.stateNode=f,O.memoizedState={element:w,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},JE(O),f}function VJ(f,h,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:w==null?null:""+w,children:f,containerInfo:h,implementation:y}}function LD(f){if(!f)return Jl;f=f._reactInternals;e:{if(Z(f)!==f||f.tag!==1)throw Error(n(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Li(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(f.tag===1){var y=f.type;if(Li(y))return fO(f,y,h)}return h}function PD(f,h,y,w,S,O,I,te,re){return f=Pk(y,w,!0,f,S,O,I,te,re),f.context=LD(null),y=f.current,w=hi(),S=iu(y),O=qo(w,S),O.callback=h??null,eu(y,O,S),f.current.lanes=S,jh(f,S,w),zi(f,w),f}function Dx(f,h,y,w){var S=h.current,O=hi(),I=iu(S);return y=LD(y),h.context===null?h.context=y:h.pendingContext=y,h=qo(O,I),h.payload={element:f},w=w===void 0?null:w,w!==null&&(h.callback=w),f=eu(S,h,I),f!==null&&(ls(f,S,I,O),lx(f,S,I)),I}function Nx(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function BD(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<h?y:h}}function Bk(f,h){BD(f,h),(f=f.alternate)&&BD(f,h)}function qJ(){return null}var zD=typeof reportError=="function"?reportError:function(f){console.error(f)};function zk(f){this._internalRoot=f}Mx.prototype.render=zk.prototype.render=function(f){var h=this._internalRoot;if(h===null)throw Error(n(409));Dx(f,h,null,null)},Mx.prototype.unmount=zk.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var h=f.containerInfo;Fc(function(){Dx(null,f,null,null)}),h[Ho]=null}};function Mx(f){this._internalRoot=f}Mx.prototype.unstable_scheduleHydration=function(f){if(f){var h=k6();f={blockedOn:null,target:f,priority:h};for(var y=0;y<Yl.length&&h!==0&&h<Yl[y].priority;y++);Yl.splice(y,0,f),y===0&&A6(f)}};function Uk(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function Rx(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function UD(){}function XJ(f,h,y,w,S){if(S){if(typeof w=="function"){var O=w;w=function(){var me=Nx(I);O.call(me)}}var I=PD(h,w,f,0,null,!1,!1,"",UD);return f._reactRootContainer=I,f[Ho]=I.current,ip(f.nodeType===8?f.parentNode:f),Fc(),I}for(;S=f.lastChild;)f.removeChild(S);if(typeof w=="function"){var te=w;w=function(){var me=Nx(re);te.call(me)}}var re=Pk(f,0,!1,null,null,!1,!1,"",UD);return f._reactRootContainer=re,f[Ho]=re.current,ip(f.nodeType===8?f.parentNode:f),Fc(function(){Dx(h,re,y,w)}),re}function Ix(f,h,y,w,S){var O=y._reactRootContainer;if(O){var I=O;if(typeof S=="function"){var te=S;S=function(){var re=Nx(I);te.call(re)}}Dx(h,I,f,S)}else I=XJ(y,h,f,S,w);return Nx(I)}w6=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var y=Hh(h.pendingLanes);y!==0&&(fE(h,y|1),zi(h,$e()),(Lt&6)===0&&(P0=$e()+500,Ql()))}break;case 13:Fc(function(){var w=Vo(f,1);if(w!==null){var S=hi();ls(w,f,1,S)}}),Bk(f,1)}},dE=function(f){if(f.tag===13){var h=Vo(f,134217728);if(h!==null){var y=hi();ls(h,f,134217728,y)}Bk(f,134217728)}},E6=function(f){if(f.tag===13){var h=iu(f),y=Vo(f,h);if(y!==null){var w=hi();ls(y,f,h,w)}Bk(f,h)}},k6=function(){return Kt},S6=function(f,h){var y=Kt;try{return Kt=f,h()}finally{Kt=y}},m0=function(f,h,y){switch(h){case"input":if(Ae(f,y),h=y.name,y.type==="radio"&&h!=null){for(y=f;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var w=y[h];if(w!==f&&w.form===f.form){var S=Qm(w);if(!S)throw Error(n(90));B(w),Ae(w,S)}}}break;case"textarea":$t(f,y);break;case"select":h=y.value,h!=null&&wn(f,!!y.multiple,h,!1)}},Dm=Nk,Nm=Fc;var KJ={usingClientEntryPoint:!1,Events:[op,b0,Qm,Fm,Om,Nk]},wp={findFiberByHostInstance:wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JJ={bundleType:wp.bundleType,version:wp.version,rendererPackageName:wp.rendererPackageName,rendererConfig:wp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=pe(f),f===null?null:f.stateNode},findFiberByHostInstance:wp.findFiberByHostInstance||qJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$x.isDisabled&&$x.supportsFiber)try{Gs=$x.inject(JJ),ur=$x}catch{}}return Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KJ,Ui.createPortal=function(f,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uk(h))throw Error(n(200));return VJ(f,h,null,y)},Ui.createRoot=function(f,h){if(!Uk(f))throw Error(n(299));var y=!1,w="",S=zD;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(S=h.onRecoverableError)),h=Pk(f,1,!1,null,null,y,!1,w,S),f[Ho]=h.current,ip(f.nodeType===8?f.parentNode:f),new zk(h)},Ui.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=pe(h),f=f===null?null:f.stateNode,f},Ui.flushSync=function(f){return Fc(f)},Ui.hydrate=function(f,h,y){if(!Rx(h))throw Error(n(200));return Ix(null,f,h,!0,y)},Ui.hydrateRoot=function(f,h,y){if(!Uk(f))throw Error(n(405));var w=y!=null&&y.hydratedSources||null,S=!1,O="",I=zD;if(y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(O=y.identifierPrefix),y.onRecoverableError!==void 0&&(I=y.onRecoverableError)),h=PD(h,null,f,1,y??null,S,!1,O,I),f[Ho]=h.current,ip(f),w)for(f=0;f<w.length;f++)y=w[f],S=y._getVersion,S=S(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,S]:h.mutableSourceEagerHydrationData.push(y,S);return new Mx(h)},Ui.render=function(f,h,y){if(!Rx(h))throw Error(n(200));return Ix(null,f,h,!1,y)},Ui.unmountComponentAtNode=function(f){if(!Rx(f))throw Error(n(40));return f._reactRootContainer?(Fc(function(){Ix(null,null,f,!1,function(){f._reactRootContainer=null,f[Ho]=null})}),!0):!1},Ui.unstable_batchedUpdates=Nk,Ui.unstable_renderSubtreeIntoContainer=function(f,h,y,w){if(!Rx(y))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return Ix(f,h,y,!1,w)},Ui.version="18.3.1-next-f1338f8080-20240426",Ui}var ZD;function lQ(){if(ZD)return Gk.exports;ZD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gk.exports=oQ(),Gk.exports}var eN;function uQ(){if(eN)return Lx;eN=1;var e=lQ();return Lx.createRoot=e.createRoot,Lx.hydrateRoot=e.hydrateRoot,Lx}var cQ=uQ();const fQ=20,dQ=[/^\d{4}-\d{2}-\d{2}$/,/^\d{4}-\d{2}-\d{2}T/,/^\d{1,2}\/\d{1,2}\/\d{2,4}$/];function hQ(e){const t=e.filter(r=>typeof r=="string");return t.length<e.length*.8?!1:t.filter(r=>dQ.some(i=>i.test(r))||!isNaN(Date.parse(r))).length>=t.length*.8}function pQ(e){const t=e.filter(o=>o!=null&&o!=="");if(t.length===0)return"nominal";const n=t.slice(0,100),i=new Set(n).size;return hQ(n)?"temporal":n.filter(o=>typeof o=="number"||typeof o=="string"&&!isNaN(Number(o))).length===n.length?i<=fQ?"ordinal":"quantitative":"nominal"}function tN(e){return e.length===0?[]:Object.keys(e[0]).map(n=>{const r=e.map(s=>s[n]),i=pQ(r),a=new Set(r.filter(s=>s!=null)).size;return{name:n,type:i,uniqueCount:a}})}const gQ=JSON.parse(`[{"Name":"chevrolet chevelle malibu","Miles_per_Gallon":18,"Cylinders":8,"Displacement":307,"Horsepower":130,"Weight_in_lbs":3504,"Acceleration":12,"Year":"1970-01-01","Origin":"USA"},{"Name":"buick skylark 320","Miles_per_Gallon":15,"Cylinders":8,"Displacement":350,"Horsepower":165,"Weight_in_lbs":3693,"Acceleration":11.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"plymouth satellite","Miles_per_Gallon":18,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":3436,"Acceleration":11,"Year":"1970-01-01","Origin":"USA"},{"Name":"amc rebel sst","Miles_per_Gallon":16,"Cylinders":8,"Displacement":304,"Horsepower":150,"Weight_in_lbs":3433,"Acceleration":12,"Year":"1970-01-01","Origin":"USA"},{"Name":"ford torino","Miles_per_Gallon":17,"Cylinders":8,"Displacement":302,"Horsepower":140,"Weight_in_lbs":3449,"Acceleration":10.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"ford galaxie 500","Miles_per_Gallon":15,"Cylinders":8,"Displacement":429,"Horsepower":198,"Weight_in_lbs":4341,"Acceleration":10,"Year":"1970-01-01","Origin":"USA"},{"Name":"chevrolet impala","Miles_per_Gallon":14,"Cylinders":8,"Displacement":454,"Horsepower":220,"Weight_in_lbs":4354,"Acceleration":9,"Year":"1970-01-01","Origin":"USA"},{"Name":"plymouth fury iii","Miles_per_Gallon":14,"Cylinders":8,"Displacement":440,"Horsepower":215,"Weight_in_lbs":4312,"Acceleration":8.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"pontiac catalina","Miles_per_Gallon":14,"Cylinders":8,"Displacement":455,"Horsepower":225,"Weight_in_lbs":4425,"Acceleration":10,"Year":"1970-01-01","Origin":"USA"},{"Name":"amc ambassador dpl","Miles_per_Gallon":15,"Cylinders":8,"Displacement":390,"Horsepower":190,"Weight_in_lbs":3850,"Acceleration":8.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"citroen ds-21 pallas","Miles_per_Gallon":null,"Cylinders":4,"Displacement":133,"Horsepower":115,"Weight_in_lbs":3090,"Acceleration":17.5,"Year":"1970-01-01","Origin":"Europe"},{"Name":"chevrolet chevelle concours (sw)","Miles_per_Gallon":null,"Cylinders":8,"Displacement":350,"Horsepower":165,"Weight_in_lbs":4142,"Acceleration":11.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"ford torino (sw)","Miles_per_Gallon":null,"Cylinders":8,"Displacement":351,"Horsepower":153,"Weight_in_lbs":4034,"Acceleration":11,"Year":"1970-01-01","Origin":"USA"},{"Name":"plymouth satellite (sw)","Miles_per_Gallon":null,"Cylinders":8,"Displacement":383,"Horsepower":175,"Weight_in_lbs":4166,"Acceleration":10.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"amc rebel sst (sw)","Miles_per_Gallon":null,"Cylinders":8,"Displacement":360,"Horsepower":175,"Weight_in_lbs":3850,"Acceleration":11,"Year":"1970-01-01","Origin":"USA"},{"Name":"dodge challenger se","Miles_per_Gallon":15,"Cylinders":8,"Displacement":383,"Horsepower":170,"Weight_in_lbs":3563,"Acceleration":10,"Year":"1970-01-01","Origin":"USA"},{"Name":"plymouth 'cuda 340","Miles_per_Gallon":14,"Cylinders":8,"Displacement":340,"Horsepower":160,"Weight_in_lbs":3609,"Acceleration":8,"Year":"1970-01-01","Origin":"USA"},{"Name":"ford mustang boss 302","Miles_per_Gallon":null,"Cylinders":8,"Displacement":302,"Horsepower":140,"Weight_in_lbs":3353,"Acceleration":8,"Year":"1970-01-01","Origin":"USA"},{"Name":"chevrolet monte carlo","Miles_per_Gallon":15,"Cylinders":8,"Displacement":400,"Horsepower":150,"Weight_in_lbs":3761,"Acceleration":9.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"buick estate wagon (sw)","Miles_per_Gallon":14,"Cylinders":8,"Displacement":455,"Horsepower":225,"Weight_in_lbs":3086,"Acceleration":10,"Year":"1970-01-01","Origin":"USA"},{"Name":"toyota corona mark ii","Miles_per_Gallon":24,"Cylinders":4,"Displacement":113,"Horsepower":95,"Weight_in_lbs":2372,"Acceleration":15,"Year":"1970-01-01","Origin":"Japan"},{"Name":"plymouth duster","Miles_per_Gallon":22,"Cylinders":6,"Displacement":198,"Horsepower":95,"Weight_in_lbs":2833,"Acceleration":15.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"amc hornet","Miles_per_Gallon":18,"Cylinders":6,"Displacement":199,"Horsepower":97,"Weight_in_lbs":2774,"Acceleration":15.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"ford maverick","Miles_per_Gallon":21,"Cylinders":6,"Displacement":200,"Horsepower":85,"Weight_in_lbs":2587,"Acceleration":16,"Year":"1970-01-01","Origin":"USA"},{"Name":"datsun pl510","Miles_per_Gallon":27,"Cylinders":4,"Displacement":97,"Horsepower":88,"Weight_in_lbs":2130,"Acceleration":14.5,"Year":"1970-01-01","Origin":"Japan"},{"Name":"volkswagen 1131 deluxe sedan","Miles_per_Gallon":26,"Cylinders":4,"Displacement":97,"Horsepower":46,"Weight_in_lbs":1835,"Acceleration":20.5,"Year":"1970-01-01","Origin":"Europe"},{"Name":"peugeot 504","Miles_per_Gallon":25,"Cylinders":4,"Displacement":110,"Horsepower":87,"Weight_in_lbs":2672,"Acceleration":17.5,"Year":"1970-01-01","Origin":"Europe"},{"Name":"audi 100 ls","Miles_per_Gallon":24,"Cylinders":4,"Displacement":107,"Horsepower":90,"Weight_in_lbs":2430,"Acceleration":14.5,"Year":"1970-01-01","Origin":"Europe"},{"Name":"saab 99e","Miles_per_Gallon":25,"Cylinders":4,"Displacement":104,"Horsepower":95,"Weight_in_lbs":2375,"Acceleration":17.5,"Year":"1970-01-01","Origin":"Europe"},{"Name":"bmw 2002","Miles_per_Gallon":26,"Cylinders":4,"Displacement":121,"Horsepower":113,"Weight_in_lbs":2234,"Acceleration":12.5,"Year":"1970-01-01","Origin":"Europe"},{"Name":"amc gremlin","Miles_per_Gallon":21,"Cylinders":6,"Displacement":199,"Horsepower":90,"Weight_in_lbs":2648,"Acceleration":15,"Year":"1970-01-01","Origin":"USA"},{"Name":"ford f250","Miles_per_Gallon":10,"Cylinders":8,"Displacement":360,"Horsepower":215,"Weight_in_lbs":4615,"Acceleration":14,"Year":"1970-01-01","Origin":"USA"},{"Name":"chevy c20","Miles_per_Gallon":10,"Cylinders":8,"Displacement":307,"Horsepower":200,"Weight_in_lbs":4376,"Acceleration":15,"Year":"1970-01-01","Origin":"USA"},{"Name":"dodge d200","Miles_per_Gallon":11,"Cylinders":8,"Displacement":318,"Horsepower":210,"Weight_in_lbs":4382,"Acceleration":13.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"hi 1200d","Miles_per_Gallon":9,"Cylinders":8,"Displacement":304,"Horsepower":193,"Weight_in_lbs":4732,"Acceleration":18.5,"Year":"1970-01-01","Origin":"USA"},{"Name":"datsun pl510","Miles_per_Gallon":27,"Cylinders":4,"Displacement":97,"Horsepower":88,"Weight_in_lbs":2130,"Acceleration":14.5,"Year":"1971-01-01","Origin":"Japan"},{"Name":"chevrolet vega 2300","Miles_per_Gallon":28,"Cylinders":4,"Displacement":140,"Horsepower":90,"Weight_in_lbs":2264,"Acceleration":15.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"toyota corona","Miles_per_Gallon":25,"Cylinders":4,"Displacement":113,"Horsepower":95,"Weight_in_lbs":2228,"Acceleration":14,"Year":"1971-01-01","Origin":"Japan"},{"Name":"ford pinto","Miles_per_Gallon":25,"Cylinders":4,"Displacement":98,"Horsepower":null,"Weight_in_lbs":2046,"Acceleration":19,"Year":"1971-01-01","Origin":"USA"},{"Name":"volkswagen super beetle 117","Miles_per_Gallon":null,"Cylinders":4,"Displacement":97,"Horsepower":48,"Weight_in_lbs":1978,"Acceleration":20,"Year":"1971-01-01","Origin":"Europe"},{"Name":"amc gremlin","Miles_per_Gallon":19,"Cylinders":6,"Displacement":232,"Horsepower":100,"Weight_in_lbs":2634,"Acceleration":13,"Year":"1971-01-01","Origin":"USA"},{"Name":"plymouth satellite custom","Miles_per_Gallon":16,"Cylinders":6,"Displacement":225,"Horsepower":105,"Weight_in_lbs":3439,"Acceleration":15.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"chevrolet chevelle malibu","Miles_per_Gallon":17,"Cylinders":6,"Displacement":250,"Horsepower":100,"Weight_in_lbs":3329,"Acceleration":15.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"ford torino 500","Miles_per_Gallon":19,"Cylinders":6,"Displacement":250,"Horsepower":88,"Weight_in_lbs":3302,"Acceleration":15.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"amc matador","Miles_per_Gallon":18,"Cylinders":6,"Displacement":232,"Horsepower":100,"Weight_in_lbs":3288,"Acceleration":15.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"chevrolet impala","Miles_per_Gallon":14,"Cylinders":8,"Displacement":350,"Horsepower":165,"Weight_in_lbs":4209,"Acceleration":12,"Year":"1971-01-01","Origin":"USA"},{"Name":"pontiac catalina brougham","Miles_per_Gallon":14,"Cylinders":8,"Displacement":400,"Horsepower":175,"Weight_in_lbs":4464,"Acceleration":11.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"ford galaxie 500","Miles_per_Gallon":14,"Cylinders":8,"Displacement":351,"Horsepower":153,"Weight_in_lbs":4154,"Acceleration":13.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"plymouth fury iii","Miles_per_Gallon":14,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":4096,"Acceleration":13,"Year":"1971-01-01","Origin":"USA"},{"Name":"dodge monaco (sw)","Miles_per_Gallon":12,"Cylinders":8,"Displacement":383,"Horsepower":180,"Weight_in_lbs":4955,"Acceleration":11.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"ford country squire (sw)","Miles_per_Gallon":13,"Cylinders":8,"Displacement":400,"Horsepower":170,"Weight_in_lbs":4746,"Acceleration":12,"Year":"1971-01-01","Origin":"USA"},{"Name":"pontiac safari (sw)","Miles_per_Gallon":13,"Cylinders":8,"Displacement":400,"Horsepower":175,"Weight_in_lbs":5140,"Acceleration":12,"Year":"1971-01-01","Origin":"USA"},{"Name":"amc hornet sportabout (sw)","Miles_per_Gallon":18,"Cylinders":6,"Displacement":258,"Horsepower":110,"Weight_in_lbs":2962,"Acceleration":13.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"chevrolet vega (sw)","Miles_per_Gallon":22,"Cylinders":4,"Displacement":140,"Horsepower":72,"Weight_in_lbs":2408,"Acceleration":19,"Year":"1971-01-01","Origin":"USA"},{"Name":"pontiac firebird","Miles_per_Gallon":19,"Cylinders":6,"Displacement":250,"Horsepower":100,"Weight_in_lbs":3282,"Acceleration":15,"Year":"1971-01-01","Origin":"USA"},{"Name":"ford mustang","Miles_per_Gallon":18,"Cylinders":6,"Displacement":250,"Horsepower":88,"Weight_in_lbs":3139,"Acceleration":14.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"mercury capri 2000","Miles_per_Gallon":23,"Cylinders":4,"Displacement":122,"Horsepower":86,"Weight_in_lbs":2220,"Acceleration":14,"Year":"1971-01-01","Origin":"USA"},{"Name":"opel 1900","Miles_per_Gallon":28,"Cylinders":4,"Displacement":116,"Horsepower":90,"Weight_in_lbs":2123,"Acceleration":14,"Year":"1971-01-01","Origin":"Europe"},{"Name":"peugeot 304","Miles_per_Gallon":30,"Cylinders":4,"Displacement":79,"Horsepower":70,"Weight_in_lbs":2074,"Acceleration":19.5,"Year":"1971-01-01","Origin":"Europe"},{"Name":"fiat 124b","Miles_per_Gallon":30,"Cylinders":4,"Displacement":88,"Horsepower":76,"Weight_in_lbs":2065,"Acceleration":14.5,"Year":"1971-01-01","Origin":"Europe"},{"Name":"toyota corolla 1200","Miles_per_Gallon":31,"Cylinders":4,"Displacement":71,"Horsepower":65,"Weight_in_lbs":1773,"Acceleration":19,"Year":"1971-01-01","Origin":"Japan"},{"Name":"datsun 1200","Miles_per_Gallon":35,"Cylinders":4,"Displacement":72,"Horsepower":69,"Weight_in_lbs":1613,"Acceleration":18,"Year":"1971-01-01","Origin":"Japan"},{"Name":"volkswagen model 111","Miles_per_Gallon":27,"Cylinders":4,"Displacement":97,"Horsepower":60,"Weight_in_lbs":1834,"Acceleration":19,"Year":"1971-01-01","Origin":"Europe"},{"Name":"plymouth cricket","Miles_per_Gallon":26,"Cylinders":4,"Displacement":91,"Horsepower":70,"Weight_in_lbs":1955,"Acceleration":20.5,"Year":"1971-01-01","Origin":"USA"},{"Name":"toyota corona hardtop","Miles_per_Gallon":24,"Cylinders":4,"Displacement":113,"Horsepower":95,"Weight_in_lbs":2278,"Acceleration":15.5,"Year":"1972-01-01","Origin":"Japan"},{"Name":"dodge colt hardtop","Miles_per_Gallon":25,"Cylinders":4,"Displacement":97.5,"Horsepower":80,"Weight_in_lbs":2126,"Acceleration":17,"Year":"1972-01-01","Origin":"USA"},{"Name":"volkswagen type 3","Miles_per_Gallon":23,"Cylinders":4,"Displacement":97,"Horsepower":54,"Weight_in_lbs":2254,"Acceleration":23.5,"Year":"1972-01-01","Origin":"Europe"},{"Name":"chevrolet vega","Miles_per_Gallon":20,"Cylinders":4,"Displacement":140,"Horsepower":90,"Weight_in_lbs":2408,"Acceleration":19.5,"Year":"1972-01-01","Origin":"USA"},{"Name":"ford pinto runabout","Miles_per_Gallon":21,"Cylinders":4,"Displacement":122,"Horsepower":86,"Weight_in_lbs":2226,"Acceleration":16.5,"Year":"1972-01-01","Origin":"USA"},{"Name":"chevrolet impala","Miles_per_Gallon":13,"Cylinders":8,"Displacement":350,"Horsepower":165,"Weight_in_lbs":4274,"Acceleration":12,"Year":"1972-01-01","Origin":"USA"},{"Name":"pontiac catalina","Miles_per_Gallon":14,"Cylinders":8,"Displacement":400,"Horsepower":175,"Weight_in_lbs":4385,"Acceleration":12,"Year":"1972-01-01","Origin":"USA"},{"Name":"plymouth fury iii","Miles_per_Gallon":15,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":4135,"Acceleration":13.5,"Year":"1972-01-01","Origin":"USA"},{"Name":"ford galaxie 500","Miles_per_Gallon":14,"Cylinders":8,"Displacement":351,"Horsepower":153,"Weight_in_lbs":4129,"Acceleration":13,"Year":"1972-01-01","Origin":"USA"},{"Name":"amc ambassador sst","Miles_per_Gallon":17,"Cylinders":8,"Displacement":304,"Horsepower":150,"Weight_in_lbs":3672,"Acceleration":11.5,"Year":"1972-01-01","Origin":"USA"},{"Name":"mercury marquis","Miles_per_Gallon":11,"Cylinders":8,"Displacement":429,"Horsepower":208,"Weight_in_lbs":4633,"Acceleration":11,"Year":"1972-01-01","Origin":"USA"},{"Name":"buick lesabre custom","Miles_per_Gallon":13,"Cylinders":8,"Displacement":350,"Horsepower":155,"Weight_in_lbs":4502,"Acceleration":13.5,"Year":"1972-01-01","Origin":"USA"},{"Name":"oldsmobile delta 88 royale","Miles_per_Gallon":12,"Cylinders":8,"Displacement":350,"Horsepower":160,"Weight_in_lbs":4456,"Acceleration":13.5,"Year":"1972-01-01","Origin":"USA"},{"Name":"chrysler newport royal","Miles_per_Gallon":13,"Cylinders":8,"Displacement":400,"Horsepower":190,"Weight_in_lbs":4422,"Acceleration":12.5,"Year":"1972-01-01","Origin":"USA"},{"Name":"mazda rx2 coupe","Miles_per_Gallon":19,"Cylinders":3,"Displacement":70,"Horsepower":97,"Weight_in_lbs":2330,"Acceleration":13.5,"Year":"1972-01-01","Origin":"Japan"},{"Name":"amc matador (sw)","Miles_per_Gallon":15,"Cylinders":8,"Displacement":304,"Horsepower":150,"Weight_in_lbs":3892,"Acceleration":12.5,"Year":"1972-01-01","Origin":"USA"},{"Name":"chevrolet chevelle concours (sw)","Miles_per_Gallon":13,"Cylinders":8,"Displacement":307,"Horsepower":130,"Weight_in_lbs":4098,"Acceleration":14,"Year":"1972-01-01","Origin":"USA"},{"Name":"ford gran torino (sw)","Miles_per_Gallon":13,"Cylinders":8,"Displacement":302,"Horsepower":140,"Weight_in_lbs":4294,"Acceleration":16,"Year":"1972-01-01","Origin":"USA"},{"Name":"plymouth satellite custom (sw)","Miles_per_Gallon":14,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":4077,"Acceleration":14,"Year":"1972-01-01","Origin":"USA"},{"Name":"volvo 145e (sw)","Miles_per_Gallon":18,"Cylinders":4,"Displacement":121,"Horsepower":112,"Weight_in_lbs":2933,"Acceleration":14.5,"Year":"1972-01-01","Origin":"Europe"},{"Name":"volkswagen 411 (sw)","Miles_per_Gallon":22,"Cylinders":4,"Displacement":121,"Horsepower":76,"Weight_in_lbs":2511,"Acceleration":18,"Year":"1972-01-01","Origin":"Europe"},{"Name":"peugeot 504 (sw)","Miles_per_Gallon":21,"Cylinders":4,"Displacement":120,"Horsepower":87,"Weight_in_lbs":2979,"Acceleration":19.5,"Year":"1972-01-01","Origin":"Europe"},{"Name":"renault 12 (sw)","Miles_per_Gallon":26,"Cylinders":4,"Displacement":96,"Horsepower":69,"Weight_in_lbs":2189,"Acceleration":18,"Year":"1972-01-01","Origin":"Europe"},{"Name":"ford pinto (sw)","Miles_per_Gallon":22,"Cylinders":4,"Displacement":122,"Horsepower":86,"Weight_in_lbs":2395,"Acceleration":16,"Year":"1972-01-01","Origin":"USA"},{"Name":"datsun 510 (sw)","Miles_per_Gallon":28,"Cylinders":4,"Displacement":97,"Horsepower":92,"Weight_in_lbs":2288,"Acceleration":17,"Year":"1972-01-01","Origin":"Japan"},{"Name":"toyouta corona mark ii (sw)","Miles_per_Gallon":23,"Cylinders":4,"Displacement":120,"Horsepower":97,"Weight_in_lbs":2506,"Acceleration":14.5,"Year":"1972-01-01","Origin":"Japan"},{"Name":"dodge colt (sw)","Miles_per_Gallon":28,"Cylinders":4,"Displacement":98,"Horsepower":80,"Weight_in_lbs":2164,"Acceleration":15,"Year":"1972-01-01","Origin":"USA"},{"Name":"toyota corolla 1600 (sw)","Miles_per_Gallon":27,"Cylinders":4,"Displacement":97,"Horsepower":88,"Weight_in_lbs":2100,"Acceleration":16.5,"Year":"1972-01-01","Origin":"Japan"},{"Name":"buick century 350","Miles_per_Gallon":13,"Cylinders":8,"Displacement":350,"Horsepower":175,"Weight_in_lbs":4100,"Acceleration":13,"Year":"1973-01-01","Origin":"USA"},{"Name":"amc matador","Miles_per_Gallon":14,"Cylinders":8,"Displacement":304,"Horsepower":150,"Weight_in_lbs":3672,"Acceleration":11.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"chevrolet malibu","Miles_per_Gallon":13,"Cylinders":8,"Displacement":350,"Horsepower":145,"Weight_in_lbs":3988,"Acceleration":13,"Year":"1973-01-01","Origin":"USA"},{"Name":"ford gran torino","Miles_per_Gallon":14,"Cylinders":8,"Displacement":302,"Horsepower":137,"Weight_in_lbs":4042,"Acceleration":14.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"dodge coronet custom","Miles_per_Gallon":15,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":3777,"Acceleration":12.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"mercury marquis brougham","Miles_per_Gallon":12,"Cylinders":8,"Displacement":429,"Horsepower":198,"Weight_in_lbs":4952,"Acceleration":11.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"chevrolet caprice classic","Miles_per_Gallon":13,"Cylinders":8,"Displacement":400,"Horsepower":150,"Weight_in_lbs":4464,"Acceleration":12,"Year":"1973-01-01","Origin":"USA"},{"Name":"ford ltd","Miles_per_Gallon":13,"Cylinders":8,"Displacement":351,"Horsepower":158,"Weight_in_lbs":4363,"Acceleration":13,"Year":"1973-01-01","Origin":"USA"},{"Name":"plymouth fury gran sedan","Miles_per_Gallon":14,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":4237,"Acceleration":14.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"chrysler new yorker brougham","Miles_per_Gallon":13,"Cylinders":8,"Displacement":440,"Horsepower":215,"Weight_in_lbs":4735,"Acceleration":11,"Year":"1973-01-01","Origin":"USA"},{"Name":"buick electra 225 custom","Miles_per_Gallon":12,"Cylinders":8,"Displacement":455,"Horsepower":225,"Weight_in_lbs":4951,"Acceleration":11,"Year":"1973-01-01","Origin":"USA"},{"Name":"amc ambassador brougham","Miles_per_Gallon":13,"Cylinders":8,"Displacement":360,"Horsepower":175,"Weight_in_lbs":3821,"Acceleration":11,"Year":"1973-01-01","Origin":"USA"},{"Name":"plymouth valiant","Miles_per_Gallon":18,"Cylinders":6,"Displacement":225,"Horsepower":105,"Weight_in_lbs":3121,"Acceleration":16.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"chevrolet nova custom","Miles_per_Gallon":16,"Cylinders":6,"Displacement":250,"Horsepower":100,"Weight_in_lbs":3278,"Acceleration":18,"Year":"1973-01-01","Origin":"USA"},{"Name":"amc hornet","Miles_per_Gallon":18,"Cylinders":6,"Displacement":232,"Horsepower":100,"Weight_in_lbs":2945,"Acceleration":16,"Year":"1973-01-01","Origin":"USA"},{"Name":"ford maverick","Miles_per_Gallon":18,"Cylinders":6,"Displacement":250,"Horsepower":88,"Weight_in_lbs":3021,"Acceleration":16.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"plymouth duster","Miles_per_Gallon":23,"Cylinders":6,"Displacement":198,"Horsepower":95,"Weight_in_lbs":2904,"Acceleration":16,"Year":"1973-01-01","Origin":"USA"},{"Name":"volkswagen super beetle","Miles_per_Gallon":26,"Cylinders":4,"Displacement":97,"Horsepower":46,"Weight_in_lbs":1950,"Acceleration":21,"Year":"1973-01-01","Origin":"Europe"},{"Name":"chevrolet impala","Miles_per_Gallon":11,"Cylinders":8,"Displacement":400,"Horsepower":150,"Weight_in_lbs":4997,"Acceleration":14,"Year":"1973-01-01","Origin":"USA"},{"Name":"ford country","Miles_per_Gallon":12,"Cylinders":8,"Displacement":400,"Horsepower":167,"Weight_in_lbs":4906,"Acceleration":12.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"plymouth custom suburb","Miles_per_Gallon":13,"Cylinders":8,"Displacement":360,"Horsepower":170,"Weight_in_lbs":4654,"Acceleration":13,"Year":"1973-01-01","Origin":"USA"},{"Name":"oldsmobile vista cruiser","Miles_per_Gallon":12,"Cylinders":8,"Displacement":350,"Horsepower":180,"Weight_in_lbs":4499,"Acceleration":12.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"amc gremlin","Miles_per_Gallon":18,"Cylinders":6,"Displacement":232,"Horsepower":100,"Weight_in_lbs":2789,"Acceleration":15,"Year":"1973-01-01","Origin":"USA"},{"Name":"toyota carina","Miles_per_Gallon":20,"Cylinders":4,"Displacement":97,"Horsepower":88,"Weight_in_lbs":2279,"Acceleration":19,"Year":"1973-01-01","Origin":"Japan"},{"Name":"chevrolet vega","Miles_per_Gallon":21,"Cylinders":4,"Displacement":140,"Horsepower":72,"Weight_in_lbs":2401,"Acceleration":19.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"datsun 610","Miles_per_Gallon":22,"Cylinders":4,"Displacement":108,"Horsepower":94,"Weight_in_lbs":2379,"Acceleration":16.5,"Year":"1973-01-01","Origin":"Japan"},{"Name":"maxda rx3","Miles_per_Gallon":18,"Cylinders":3,"Displacement":70,"Horsepower":90,"Weight_in_lbs":2124,"Acceleration":13.5,"Year":"1973-01-01","Origin":"Japan"},{"Name":"ford pinto","Miles_per_Gallon":19,"Cylinders":4,"Displacement":122,"Horsepower":85,"Weight_in_lbs":2310,"Acceleration":18.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"mercury capri v6","Miles_per_Gallon":21,"Cylinders":6,"Displacement":155,"Horsepower":107,"Weight_in_lbs":2472,"Acceleration":14,"Year":"1973-01-01","Origin":"USA"},{"Name":"fiat 124 sport coupe","Miles_per_Gallon":26,"Cylinders":4,"Displacement":98,"Horsepower":90,"Weight_in_lbs":2265,"Acceleration":15.5,"Year":"1973-01-01","Origin":"Europe"},{"Name":"chevrolet monte carlo s","Miles_per_Gallon":15,"Cylinders":8,"Displacement":350,"Horsepower":145,"Weight_in_lbs":4082,"Acceleration":13,"Year":"1973-01-01","Origin":"USA"},{"Name":"pontiac grand prix","Miles_per_Gallon":16,"Cylinders":8,"Displacement":400,"Horsepower":230,"Weight_in_lbs":4278,"Acceleration":9.5,"Year":"1973-01-01","Origin":"USA"},{"Name":"fiat 128","Miles_per_Gallon":29,"Cylinders":4,"Displacement":68,"Horsepower":49,"Weight_in_lbs":1867,"Acceleration":19.5,"Year":"1973-01-01","Origin":"Europe"},{"Name":"opel manta","Miles_per_Gallon":24,"Cylinders":4,"Displacement":116,"Horsepower":75,"Weight_in_lbs":2158,"Acceleration":15.5,"Year":"1973-01-01","Origin":"Europe"},{"Name":"audi 100ls","Miles_per_Gallon":20,"Cylinders":4,"Displacement":114,"Horsepower":91,"Weight_in_lbs":2582,"Acceleration":14,"Year":"1973-01-01","Origin":"Europe"},{"Name":"volvo 144ea","Miles_per_Gallon":19,"Cylinders":4,"Displacement":121,"Horsepower":112,"Weight_in_lbs":2868,"Acceleration":15.5,"Year":"1973-01-01","Origin":"Europe"},{"Name":"dodge dart custom","Miles_per_Gallon":15,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":3399,"Acceleration":11,"Year":"1973-01-01","Origin":"USA"},{"Name":"saab 99le","Miles_per_Gallon":24,"Cylinders":4,"Displacement":121,"Horsepower":110,"Weight_in_lbs":2660,"Acceleration":14,"Year":"1973-01-01","Origin":"Europe"},{"Name":"toyota mark ii","Miles_per_Gallon":20,"Cylinders":6,"Displacement":156,"Horsepower":122,"Weight_in_lbs":2807,"Acceleration":13.5,"Year":"1973-01-01","Origin":"Japan"},{"Name":"oldsmobile omega","Miles_per_Gallon":11,"Cylinders":8,"Displacement":350,"Horsepower":180,"Weight_in_lbs":3664,"Acceleration":11,"Year":"1973-01-01","Origin":"USA"},{"Name":"plymouth duster","Miles_per_Gallon":20,"Cylinders":6,"Displacement":198,"Horsepower":95,"Weight_in_lbs":3102,"Acceleration":16.5,"Year":"1974-01-01","Origin":"USA"},{"Name":"ford maverick","Miles_per_Gallon":21,"Cylinders":6,"Displacement":200,"Horsepower":null,"Weight_in_lbs":2875,"Acceleration":17,"Year":"1974-01-01","Origin":"USA"},{"Name":"amc hornet","Miles_per_Gallon":19,"Cylinders":6,"Displacement":232,"Horsepower":100,"Weight_in_lbs":2901,"Acceleration":16,"Year":"1974-01-01","Origin":"USA"},{"Name":"chevrolet nova","Miles_per_Gallon":15,"Cylinders":6,"Displacement":250,"Horsepower":100,"Weight_in_lbs":3336,"Acceleration":17,"Year":"1974-01-01","Origin":"USA"},{"Name":"datsun b210","Miles_per_Gallon":31,"Cylinders":4,"Displacement":79,"Horsepower":67,"Weight_in_lbs":1950,"Acceleration":19,"Year":"1974-01-01","Origin":"Japan"},{"Name":"ford pinto","Miles_per_Gallon":26,"Cylinders":4,"Displacement":122,"Horsepower":80,"Weight_in_lbs":2451,"Acceleration":16.5,"Year":"1974-01-01","Origin":"USA"},{"Name":"toyota corolla 1200","Miles_per_Gallon":32,"Cylinders":4,"Displacement":71,"Horsepower":65,"Weight_in_lbs":1836,"Acceleration":21,"Year":"1974-01-01","Origin":"Japan"},{"Name":"chevrolet vega","Miles_per_Gallon":25,"Cylinders":4,"Displacement":140,"Horsepower":75,"Weight_in_lbs":2542,"Acceleration":17,"Year":"1974-01-01","Origin":"USA"},{"Name":"chevrolet chevelle malibu classic","Miles_per_Gallon":16,"Cylinders":6,"Displacement":250,"Horsepower":100,"Weight_in_lbs":3781,"Acceleration":17,"Year":"1974-01-01","Origin":"USA"},{"Name":"amc matador","Miles_per_Gallon":16,"Cylinders":6,"Displacement":258,"Horsepower":110,"Weight_in_lbs":3632,"Acceleration":18,"Year":"1974-01-01","Origin":"USA"},{"Name":"plymouth satellite sebring","Miles_per_Gallon":18,"Cylinders":6,"Displacement":225,"Horsepower":105,"Weight_in_lbs":3613,"Acceleration":16.5,"Year":"1974-01-01","Origin":"USA"},{"Name":"ford gran torino","Miles_per_Gallon":16,"Cylinders":8,"Displacement":302,"Horsepower":140,"Weight_in_lbs":4141,"Acceleration":14,"Year":"1974-01-01","Origin":"USA"},{"Name":"buick century luxus (sw)","Miles_per_Gallon":13,"Cylinders":8,"Displacement":350,"Horsepower":150,"Weight_in_lbs":4699,"Acceleration":14.5,"Year":"1974-01-01","Origin":"USA"},{"Name":"dodge coronet custom (sw)","Miles_per_Gallon":14,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":4457,"Acceleration":13.5,"Year":"1974-01-01","Origin":"USA"},{"Name":"ford gran torino (sw)","Miles_per_Gallon":14,"Cylinders":8,"Displacement":302,"Horsepower":140,"Weight_in_lbs":4638,"Acceleration":16,"Year":"1974-01-01","Origin":"USA"},{"Name":"amc matador (sw)","Miles_per_Gallon":14,"Cylinders":8,"Displacement":304,"Horsepower":150,"Weight_in_lbs":4257,"Acceleration":15.5,"Year":"1974-01-01","Origin":"USA"},{"Name":"audi fox","Miles_per_Gallon":29,"Cylinders":4,"Displacement":98,"Horsepower":83,"Weight_in_lbs":2219,"Acceleration":16.5,"Year":"1974-01-01","Origin":"Europe"},{"Name":"volkswagen dasher","Miles_per_Gallon":26,"Cylinders":4,"Displacement":79,"Horsepower":67,"Weight_in_lbs":1963,"Acceleration":15.5,"Year":"1974-01-01","Origin":"Europe"},{"Name":"opel manta","Miles_per_Gallon":26,"Cylinders":4,"Displacement":97,"Horsepower":78,"Weight_in_lbs":2300,"Acceleration":14.5,"Year":"1974-01-01","Origin":"Europe"},{"Name":"toyota corona","Miles_per_Gallon":31,"Cylinders":4,"Displacement":76,"Horsepower":52,"Weight_in_lbs":1649,"Acceleration":16.5,"Year":"1974-01-01","Origin":"Japan"},{"Name":"datsun 710","Miles_per_Gallon":32,"Cylinders":4,"Displacement":83,"Horsepower":61,"Weight_in_lbs":2003,"Acceleration":19,"Year":"1974-01-01","Origin":"Japan"},{"Name":"dodge colt","Miles_per_Gallon":28,"Cylinders":4,"Displacement":90,"Horsepower":75,"Weight_in_lbs":2125,"Acceleration":14.5,"Year":"1974-01-01","Origin":"USA"},{"Name":"fiat 128","Miles_per_Gallon":24,"Cylinders":4,"Displacement":90,"Horsepower":75,"Weight_in_lbs":2108,"Acceleration":15.5,"Year":"1974-01-01","Origin":"Europe"},{"Name":"fiat 124 tc","Miles_per_Gallon":26,"Cylinders":4,"Displacement":116,"Horsepower":75,"Weight_in_lbs":2246,"Acceleration":14,"Year":"1974-01-01","Origin":"Europe"},{"Name":"honda civic","Miles_per_Gallon":24,"Cylinders":4,"Displacement":120,"Horsepower":97,"Weight_in_lbs":2489,"Acceleration":15,"Year":"1974-01-01","Origin":"Japan"},{"Name":"subaru","Miles_per_Gallon":26,"Cylinders":4,"Displacement":108,"Horsepower":93,"Weight_in_lbs":2391,"Acceleration":15.5,"Year":"1974-01-01","Origin":"Japan"},{"Name":"fiat x1.9","Miles_per_Gallon":31,"Cylinders":4,"Displacement":79,"Horsepower":67,"Weight_in_lbs":2000,"Acceleration":16,"Year":"1974-01-01","Origin":"Europe"},{"Name":"plymouth valiant custom","Miles_per_Gallon":19,"Cylinders":6,"Displacement":225,"Horsepower":95,"Weight_in_lbs":3264,"Acceleration":16,"Year":"1975-01-01","Origin":"USA"},{"Name":"chevrolet nova","Miles_per_Gallon":18,"Cylinders":6,"Displacement":250,"Horsepower":105,"Weight_in_lbs":3459,"Acceleration":16,"Year":"1975-01-01","Origin":"USA"},{"Name":"mercury monarch","Miles_per_Gallon":15,"Cylinders":6,"Displacement":250,"Horsepower":72,"Weight_in_lbs":3432,"Acceleration":21,"Year":"1975-01-01","Origin":"USA"},{"Name":"ford maverick","Miles_per_Gallon":15,"Cylinders":6,"Displacement":250,"Horsepower":72,"Weight_in_lbs":3158,"Acceleration":19.5,"Year":"1975-01-01","Origin":"USA"},{"Name":"pontiac catalina","Miles_per_Gallon":16,"Cylinders":8,"Displacement":400,"Horsepower":170,"Weight_in_lbs":4668,"Acceleration":11.5,"Year":"1975-01-01","Origin":"USA"},{"Name":"chevrolet bel air","Miles_per_Gallon":15,"Cylinders":8,"Displacement":350,"Horsepower":145,"Weight_in_lbs":4440,"Acceleration":14,"Year":"1975-01-01","Origin":"USA"},{"Name":"plymouth grand fury","Miles_per_Gallon":16,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":4498,"Acceleration":14.5,"Year":"1975-01-01","Origin":"USA"},{"Name":"ford ltd","Miles_per_Gallon":14,"Cylinders":8,"Displacement":351,"Horsepower":148,"Weight_in_lbs":4657,"Acceleration":13.5,"Year":"1975-01-01","Origin":"USA"},{"Name":"buick century","Miles_per_Gallon":17,"Cylinders":6,"Displacement":231,"Horsepower":110,"Weight_in_lbs":3907,"Acceleration":21,"Year":"1975-01-01","Origin":"USA"},{"Name":"chevroelt chevelle malibu","Miles_per_Gallon":16,"Cylinders":6,"Displacement":250,"Horsepower":105,"Weight_in_lbs":3897,"Acceleration":18.5,"Year":"1975-01-01","Origin":"USA"},{"Name":"amc matador","Miles_per_Gallon":15,"Cylinders":6,"Displacement":258,"Horsepower":110,"Weight_in_lbs":3730,"Acceleration":19,"Year":"1975-01-01","Origin":"USA"},{"Name":"plymouth fury","Miles_per_Gallon":18,"Cylinders":6,"Displacement":225,"Horsepower":95,"Weight_in_lbs":3785,"Acceleration":19,"Year":"1975-01-01","Origin":"USA"},{"Name":"buick skyhawk","Miles_per_Gallon":21,"Cylinders":6,"Displacement":231,"Horsepower":110,"Weight_in_lbs":3039,"Acceleration":15,"Year":"1975-01-01","Origin":"USA"},{"Name":"chevrolet monza 2+2","Miles_per_Gallon":20,"Cylinders":8,"Displacement":262,"Horsepower":110,"Weight_in_lbs":3221,"Acceleration":13.5,"Year":"1975-01-01","Origin":"USA"},{"Name":"ford mustang ii","Miles_per_Gallon":13,"Cylinders":8,"Displacement":302,"Horsepower":129,"Weight_in_lbs":3169,"Acceleration":12,"Year":"1975-01-01","Origin":"USA"},{"Name":"toyota corolla","Miles_per_Gallon":29,"Cylinders":4,"Displacement":97,"Horsepower":75,"Weight_in_lbs":2171,"Acceleration":16,"Year":"1975-01-01","Origin":"Japan"},{"Name":"ford pinto","Miles_per_Gallon":23,"Cylinders":4,"Displacement":140,"Horsepower":83,"Weight_in_lbs":2639,"Acceleration":17,"Year":"1975-01-01","Origin":"USA"},{"Name":"amc gremlin","Miles_per_Gallon":20,"Cylinders":6,"Displacement":232,"Horsepower":100,"Weight_in_lbs":2914,"Acceleration":16,"Year":"1975-01-01","Origin":"USA"},{"Name":"pontiac astro","Miles_per_Gallon":23,"Cylinders":4,"Displacement":140,"Horsepower":78,"Weight_in_lbs":2592,"Acceleration":18.5,"Year":"1975-01-01","Origin":"USA"},{"Name":"toyota corona","Miles_per_Gallon":24,"Cylinders":4,"Displacement":134,"Horsepower":96,"Weight_in_lbs":2702,"Acceleration":13.5,"Year":"1975-01-01","Origin":"Japan"},{"Name":"volkswagen dasher","Miles_per_Gallon":25,"Cylinders":4,"Displacement":90,"Horsepower":71,"Weight_in_lbs":2223,"Acceleration":16.5,"Year":"1975-01-01","Origin":"Europe"},{"Name":"datsun 710","Miles_per_Gallon":24,"Cylinders":4,"Displacement":119,"Horsepower":97,"Weight_in_lbs":2545,"Acceleration":17,"Year":"1975-01-01","Origin":"Japan"},{"Name":"ford pinto","Miles_per_Gallon":18,"Cylinders":6,"Displacement":171,"Horsepower":97,"Weight_in_lbs":2984,"Acceleration":14.5,"Year":"1975-01-01","Origin":"USA"},{"Name":"volkswagen rabbit","Miles_per_Gallon":29,"Cylinders":4,"Displacement":90,"Horsepower":70,"Weight_in_lbs":1937,"Acceleration":14,"Year":"1975-01-01","Origin":"Europe"},{"Name":"amc pacer","Miles_per_Gallon":19,"Cylinders":6,"Displacement":232,"Horsepower":90,"Weight_in_lbs":3211,"Acceleration":17,"Year":"1975-01-01","Origin":"USA"},{"Name":"audi 100ls","Miles_per_Gallon":23,"Cylinders":4,"Displacement":115,"Horsepower":95,"Weight_in_lbs":2694,"Acceleration":15,"Year":"1975-01-01","Origin":"Europe"},{"Name":"peugeot 504","Miles_per_Gallon":23,"Cylinders":4,"Displacement":120,"Horsepower":88,"Weight_in_lbs":2957,"Acceleration":17,"Year":"1975-01-01","Origin":"Europe"},{"Name":"volvo 244dl","Miles_per_Gallon":22,"Cylinders":4,"Displacement":121,"Horsepower":98,"Weight_in_lbs":2945,"Acceleration":14.5,"Year":"1975-01-01","Origin":"Europe"},{"Name":"saab 99le","Miles_per_Gallon":25,"Cylinders":4,"Displacement":121,"Horsepower":115,"Weight_in_lbs":2671,"Acceleration":13.5,"Year":"1975-01-01","Origin":"Europe"},{"Name":"honda civic cvcc","Miles_per_Gallon":33,"Cylinders":4,"Displacement":91,"Horsepower":53,"Weight_in_lbs":1795,"Acceleration":17.5,"Year":"1975-01-01","Origin":"Japan"},{"Name":"fiat 131","Miles_per_Gallon":28,"Cylinders":4,"Displacement":107,"Horsepower":86,"Weight_in_lbs":2464,"Acceleration":15.5,"Year":"1976-01-01","Origin":"Europe"},{"Name":"opel 1900","Miles_per_Gallon":25,"Cylinders":4,"Displacement":116,"Horsepower":81,"Weight_in_lbs":2220,"Acceleration":16.9,"Year":"1976-01-01","Origin":"Europe"},{"Name":"capri ii","Miles_per_Gallon":25,"Cylinders":4,"Displacement":140,"Horsepower":92,"Weight_in_lbs":2572,"Acceleration":14.9,"Year":"1976-01-01","Origin":"USA"},{"Name":"dodge colt","Miles_per_Gallon":26,"Cylinders":4,"Displacement":98,"Horsepower":79,"Weight_in_lbs":2255,"Acceleration":17.7,"Year":"1976-01-01","Origin":"USA"},{"Name":"renault 12tl","Miles_per_Gallon":27,"Cylinders":4,"Displacement":101,"Horsepower":83,"Weight_in_lbs":2202,"Acceleration":15.3,"Year":"1976-01-01","Origin":"Europe"},{"Name":"chevrolet chevelle malibu classic","Miles_per_Gallon":17.5,"Cylinders":8,"Displacement":305,"Horsepower":140,"Weight_in_lbs":4215,"Acceleration":13,"Year":"1976-01-01","Origin":"USA"},{"Name":"dodge coronet brougham","Miles_per_Gallon":16,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":4190,"Acceleration":13,"Year":"1976-01-01","Origin":"USA"},{"Name":"amc matador","Miles_per_Gallon":15.5,"Cylinders":8,"Displacement":304,"Horsepower":120,"Weight_in_lbs":3962,"Acceleration":13.9,"Year":"1976-01-01","Origin":"USA"},{"Name":"ford gran torino","Miles_per_Gallon":14.5,"Cylinders":8,"Displacement":351,"Horsepower":152,"Weight_in_lbs":4215,"Acceleration":12.8,"Year":"1976-01-01","Origin":"USA"},{"Name":"plymouth valiant","Miles_per_Gallon":22,"Cylinders":6,"Displacement":225,"Horsepower":100,"Weight_in_lbs":3233,"Acceleration":15.4,"Year":"1976-01-01","Origin":"USA"},{"Name":"chevrolet nova","Miles_per_Gallon":22,"Cylinders":6,"Displacement":250,"Horsepower":105,"Weight_in_lbs":3353,"Acceleration":14.5,"Year":"1976-01-01","Origin":"USA"},{"Name":"ford maverick","Miles_per_Gallon":24,"Cylinders":6,"Displacement":200,"Horsepower":81,"Weight_in_lbs":3012,"Acceleration":17.6,"Year":"1976-01-01","Origin":"USA"},{"Name":"amc hornet","Miles_per_Gallon":22.5,"Cylinders":6,"Displacement":232,"Horsepower":90,"Weight_in_lbs":3085,"Acceleration":17.6,"Year":"1976-01-01","Origin":"USA"},{"Name":"chevrolet chevette","Miles_per_Gallon":29,"Cylinders":4,"Displacement":85,"Horsepower":52,"Weight_in_lbs":2035,"Acceleration":22.2,"Year":"1976-01-01","Origin":"USA"},{"Name":"chevrolet woody","Miles_per_Gallon":24.5,"Cylinders":4,"Displacement":98,"Horsepower":60,"Weight_in_lbs":2164,"Acceleration":22.1,"Year":"1976-01-01","Origin":"USA"},{"Name":"vw rabbit","Miles_per_Gallon":29,"Cylinders":4,"Displacement":90,"Horsepower":70,"Weight_in_lbs":1937,"Acceleration":14.2,"Year":"1976-01-01","Origin":"Europe"},{"Name":"honda civic","Miles_per_Gallon":33,"Cylinders":4,"Displacement":91,"Horsepower":53,"Weight_in_lbs":1795,"Acceleration":17.4,"Year":"1976-01-01","Origin":"Japan"},{"Name":"dodge aspen se","Miles_per_Gallon":20,"Cylinders":6,"Displacement":225,"Horsepower":100,"Weight_in_lbs":3651,"Acceleration":17.7,"Year":"1976-01-01","Origin":"USA"},{"Name":"ford granada ghia","Miles_per_Gallon":18,"Cylinders":6,"Displacement":250,"Horsepower":78,"Weight_in_lbs":3574,"Acceleration":21,"Year":"1976-01-01","Origin":"USA"},{"Name":"pontiac ventura sj","Miles_per_Gallon":18.5,"Cylinders":6,"Displacement":250,"Horsepower":110,"Weight_in_lbs":3645,"Acceleration":16.2,"Year":"1976-01-01","Origin":"USA"},{"Name":"amc pacer d/l","Miles_per_Gallon":17.5,"Cylinders":6,"Displacement":258,"Horsepower":95,"Weight_in_lbs":3193,"Acceleration":17.8,"Year":"1976-01-01","Origin":"USA"},{"Name":"volkswagen rabbit","Miles_per_Gallon":29.5,"Cylinders":4,"Displacement":97,"Horsepower":71,"Weight_in_lbs":1825,"Acceleration":12.2,"Year":"1976-01-01","Origin":"Europe"},{"Name":"datsun b-210","Miles_per_Gallon":32,"Cylinders":4,"Displacement":85,"Horsepower":70,"Weight_in_lbs":1990,"Acceleration":17,"Year":"1976-01-01","Origin":"Japan"},{"Name":"toyota corolla","Miles_per_Gallon":28,"Cylinders":4,"Displacement":97,"Horsepower":75,"Weight_in_lbs":2155,"Acceleration":16.4,"Year":"1976-01-01","Origin":"Japan"},{"Name":"ford pinto","Miles_per_Gallon":26.5,"Cylinders":4,"Displacement":140,"Horsepower":72,"Weight_in_lbs":2565,"Acceleration":13.6,"Year":"1976-01-01","Origin":"USA"},{"Name":"volvo 245","Miles_per_Gallon":20,"Cylinders":4,"Displacement":130,"Horsepower":102,"Weight_in_lbs":3150,"Acceleration":15.7,"Year":"1976-01-01","Origin":"Europe"},{"Name":"plymouth volare premier v8","Miles_per_Gallon":13,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":3940,"Acceleration":13.2,"Year":"1976-01-01","Origin":"USA"},{"Name":"peugeot 504","Miles_per_Gallon":19,"Cylinders":4,"Displacement":120,"Horsepower":88,"Weight_in_lbs":3270,"Acceleration":21.9,"Year":"1976-01-01","Origin":"Europe"},{"Name":"toyota mark ii","Miles_per_Gallon":19,"Cylinders":6,"Displacement":156,"Horsepower":108,"Weight_in_lbs":2930,"Acceleration":15.5,"Year":"1976-01-01","Origin":"Japan"},{"Name":"mercedes-benz 280s","Miles_per_Gallon":16.5,"Cylinders":6,"Displacement":168,"Horsepower":120,"Weight_in_lbs":3820,"Acceleration":16.7,"Year":"1976-01-01","Origin":"Europe"},{"Name":"cadillac seville","Miles_per_Gallon":16.5,"Cylinders":8,"Displacement":350,"Horsepower":180,"Weight_in_lbs":4380,"Acceleration":12.1,"Year":"1976-01-01","Origin":"USA"},{"Name":"chevy c10","Miles_per_Gallon":13,"Cylinders":8,"Displacement":350,"Horsepower":145,"Weight_in_lbs":4055,"Acceleration":12,"Year":"1976-01-01","Origin":"USA"},{"Name":"ford f108","Miles_per_Gallon":13,"Cylinders":8,"Displacement":302,"Horsepower":130,"Weight_in_lbs":3870,"Acceleration":15,"Year":"1976-01-01","Origin":"USA"},{"Name":"dodge d100","Miles_per_Gallon":13,"Cylinders":8,"Displacement":318,"Horsepower":150,"Weight_in_lbs":3755,"Acceleration":14,"Year":"1976-01-01","Origin":"USA"},{"Name":"honda Accelerationord cvcc","Miles_per_Gallon":31.5,"Cylinders":4,"Displacement":98,"Horsepower":68,"Weight_in_lbs":2045,"Acceleration":18.5,"Year":"1977-01-01","Origin":"Japan"},{"Name":"buick opel isuzu deluxe","Miles_per_Gallon":30,"Cylinders":4,"Displacement":111,"Horsepower":80,"Weight_in_lbs":2155,"Acceleration":14.8,"Year":"1977-01-01","Origin":"USA"},{"Name":"renault 5 gtl","Miles_per_Gallon":36,"Cylinders":4,"Displacement":79,"Horsepower":58,"Weight_in_lbs":1825,"Acceleration":18.6,"Year":"1977-01-01","Origin":"Europe"},{"Name":"plymouth arrow gs","Miles_per_Gallon":25.5,"Cylinders":4,"Displacement":122,"Horsepower":96,"Weight_in_lbs":2300,"Acceleration":15.5,"Year":"1977-01-01","Origin":"USA"},{"Name":"datsun f-10 hatchback","Miles_per_Gallon":33.5,"Cylinders":4,"Displacement":85,"Horsepower":70,"Weight_in_lbs":1945,"Acceleration":16.8,"Year":"1977-01-01","Origin":"Japan"},{"Name":"chevrolet caprice classic","Miles_per_Gallon":17.5,"Cylinders":8,"Displacement":305,"Horsepower":145,"Weight_in_lbs":3880,"Acceleration":12.5,"Year":"1977-01-01","Origin":"USA"},{"Name":"oldsmobile cutlass supreme","Miles_per_Gallon":17,"Cylinders":8,"Displacement":260,"Horsepower":110,"Weight_in_lbs":4060,"Acceleration":19,"Year":"1977-01-01","Origin":"USA"},{"Name":"dodge monaco brougham","Miles_per_Gallon":15.5,"Cylinders":8,"Displacement":318,"Horsepower":145,"Weight_in_lbs":4140,"Acceleration":13.7,"Year":"1977-01-01","Origin":"USA"},{"Name":"mercury cougar brougham","Miles_per_Gallon":15,"Cylinders":8,"Displacement":302,"Horsepower":130,"Weight_in_lbs":4295,"Acceleration":14.9,"Year":"1977-01-01","Origin":"USA"},{"Name":"chevrolet concours","Miles_per_Gallon":17.5,"Cylinders":6,"Displacement":250,"Horsepower":110,"Weight_in_lbs":3520,"Acceleration":16.4,"Year":"1977-01-01","Origin":"USA"},{"Name":"buick skylark","Miles_per_Gallon":20.5,"Cylinders":6,"Displacement":231,"Horsepower":105,"Weight_in_lbs":3425,"Acceleration":16.9,"Year":"1977-01-01","Origin":"USA"},{"Name":"plymouth volare custom","Miles_per_Gallon":19,"Cylinders":6,"Displacement":225,"Horsepower":100,"Weight_in_lbs":3630,"Acceleration":17.7,"Year":"1977-01-01","Origin":"USA"},{"Name":"ford granada","Miles_per_Gallon":18.5,"Cylinders":6,"Displacement":250,"Horsepower":98,"Weight_in_lbs":3525,"Acceleration":19,"Year":"1977-01-01","Origin":"USA"},{"Name":"pontiac grand prix lj","Miles_per_Gallon":16,"Cylinders":8,"Displacement":400,"Horsepower":180,"Weight_in_lbs":4220,"Acceleration":11.1,"Year":"1977-01-01","Origin":"USA"},{"Name":"chevrolet monte carlo landau","Miles_per_Gallon":15.5,"Cylinders":8,"Displacement":350,"Horsepower":170,"Weight_in_lbs":4165,"Acceleration":11.4,"Year":"1977-01-01","Origin":"USA"},{"Name":"chrysler cordoba","Miles_per_Gallon":15.5,"Cylinders":8,"Displacement":400,"Horsepower":190,"Weight_in_lbs":4325,"Acceleration":12.2,"Year":"1977-01-01","Origin":"USA"},{"Name":"ford thunderbird","Miles_per_Gallon":16,"Cylinders":8,"Displacement":351,"Horsepower":149,"Weight_in_lbs":4335,"Acceleration":14.5,"Year":"1977-01-01","Origin":"USA"},{"Name":"volkswagen rabbit custom","Miles_per_Gallon":29,"Cylinders":4,"Displacement":97,"Horsepower":78,"Weight_in_lbs":1940,"Acceleration":14.5,"Year":"1977-01-01","Origin":"Europe"},{"Name":"pontiac sunbird coupe","Miles_per_Gallon":24.5,"Cylinders":4,"Displacement":151,"Horsepower":88,"Weight_in_lbs":2740,"Acceleration":16,"Year":"1977-01-01","Origin":"USA"},{"Name":"toyota corolla liftback","Miles_per_Gallon":26,"Cylinders":4,"Displacement":97,"Horsepower":75,"Weight_in_lbs":2265,"Acceleration":18.2,"Year":"1977-01-01","Origin":"Japan"},{"Name":"ford mustang ii 2+2","Miles_per_Gallon":25.5,"Cylinders":4,"Displacement":140,"Horsepower":89,"Weight_in_lbs":2755,"Acceleration":15.8,"Year":"1977-01-01","Origin":"USA"},{"Name":"chevrolet chevette","Miles_per_Gallon":30.5,"Cylinders":4,"Displacement":98,"Horsepower":63,"Weight_in_lbs":2051,"Acceleration":17,"Year":"1977-01-01","Origin":"USA"},{"Name":"dodge colt m/m","Miles_per_Gallon":33.5,"Cylinders":4,"Displacement":98,"Horsepower":83,"Weight_in_lbs":2075,"Acceleration":15.9,"Year":"1977-01-01","Origin":"USA"},{"Name":"subaru dl","Miles_per_Gallon":30,"Cylinders":4,"Displacement":97,"Horsepower":67,"Weight_in_lbs":1985,"Acceleration":16.4,"Year":"1977-01-01","Origin":"Japan"},{"Name":"volkswagen dasher","Miles_per_Gallon":30.5,"Cylinders":4,"Displacement":97,"Horsepower":78,"Weight_in_lbs":2190,"Acceleration":14.1,"Year":"1977-01-01","Origin":"Europe"},{"Name":"datsun 810","Miles_per_Gallon":22,"Cylinders":6,"Displacement":146,"Horsepower":97,"Weight_in_lbs":2815,"Acceleration":14.5,"Year":"1977-01-01","Origin":"Japan"},{"Name":"bmw 320i","Miles_per_Gallon":21.5,"Cylinders":4,"Displacement":121,"Horsepower":110,"Weight_in_lbs":2600,"Acceleration":12.8,"Year":"1977-01-01","Origin":"Europe"},{"Name":"mazda rx-4","Miles_per_Gallon":21.5,"Cylinders":3,"Displacement":80,"Horsepower":110,"Weight_in_lbs":2720,"Acceleration":13.5,"Year":"1977-01-01","Origin":"Japan"},{"Name":"volkswagen rabbit custom diesel","Miles_per_Gallon":43.1,"Cylinders":4,"Displacement":90,"Horsepower":48,"Weight_in_lbs":1985,"Acceleration":21.5,"Year":"1978-01-01","Origin":"Europe"},{"Name":"ford fiesta","Miles_per_Gallon":36.1,"Cylinders":4,"Displacement":98,"Horsepower":66,"Weight_in_lbs":1800,"Acceleration":14.4,"Year":"1978-01-01","Origin":"USA"},{"Name":"mazda glc deluxe","Miles_per_Gallon":32.8,"Cylinders":4,"Displacement":78,"Horsepower":52,"Weight_in_lbs":1985,"Acceleration":19.4,"Year":"1978-01-01","Origin":"Japan"},{"Name":"datsun b210 gx","Miles_per_Gallon":39.4,"Cylinders":4,"Displacement":85,"Horsepower":70,"Weight_in_lbs":2070,"Acceleration":18.6,"Year":"1978-01-01","Origin":"Japan"},{"Name":"honda civic cvcc","Miles_per_Gallon":36.1,"Cylinders":4,"Displacement":91,"Horsepower":60,"Weight_in_lbs":1800,"Acceleration":16.4,"Year":"1978-01-01","Origin":"Japan"},{"Name":"oldsmobile cutlass salon brougham","Miles_per_Gallon":19.9,"Cylinders":8,"Displacement":260,"Horsepower":110,"Weight_in_lbs":3365,"Acceleration":15.5,"Year":"1978-01-01","Origin":"USA"},{"Name":"dodge diplomat","Miles_per_Gallon":19.4,"Cylinders":8,"Displacement":318,"Horsepower":140,"Weight_in_lbs":3735,"Acceleration":13.2,"Year":"1978-01-01","Origin":"USA"},{"Name":"mercury monarch ghia","Miles_per_Gallon":20.2,"Cylinders":8,"Displacement":302,"Horsepower":139,"Weight_in_lbs":3570,"Acceleration":12.8,"Year":"1978-01-01","Origin":"USA"},{"Name":"pontiac phoenix lj","Miles_per_Gallon":19.2,"Cylinders":6,"Displacement":231,"Horsepower":105,"Weight_in_lbs":3535,"Acceleration":19.2,"Year":"1978-01-01","Origin":"USA"},{"Name":"chevrolet malibu","Miles_per_Gallon":20.5,"Cylinders":6,"Displacement":200,"Horsepower":95,"Weight_in_lbs":3155,"Acceleration":18.2,"Year":"1978-01-01","Origin":"USA"},{"Name":"ford fairmont (auto)","Miles_per_Gallon":20.2,"Cylinders":6,"Displacement":200,"Horsepower":85,"Weight_in_lbs":2965,"Acceleration":15.8,"Year":"1978-01-01","Origin":"USA"},{"Name":"ford fairmont (man)","Miles_per_Gallon":25.1,"Cylinders":4,"Displacement":140,"Horsepower":88,"Weight_in_lbs":2720,"Acceleration":15.4,"Year":"1978-01-01","Origin":"USA"},{"Name":"plymouth volare","Miles_per_Gallon":20.5,"Cylinders":6,"Displacement":225,"Horsepower":100,"Weight_in_lbs":3430,"Acceleration":17.2,"Year":"1978-01-01","Origin":"USA"},{"Name":"amc concord","Miles_per_Gallon":19.4,"Cylinders":6,"Displacement":232,"Horsepower":90,"Weight_in_lbs":3210,"Acceleration":17.2,"Year":"1978-01-01","Origin":"USA"},{"Name":"buick century special","Miles_per_Gallon":20.6,"Cylinders":6,"Displacement":231,"Horsepower":105,"Weight_in_lbs":3380,"Acceleration":15.8,"Year":"1978-01-01","Origin":"USA"},{"Name":"mercury zephyr","Miles_per_Gallon":20.8,"Cylinders":6,"Displacement":200,"Horsepower":85,"Weight_in_lbs":3070,"Acceleration":16.7,"Year":"1978-01-01","Origin":"USA"},{"Name":"dodge aspen","Miles_per_Gallon":18.6,"Cylinders":6,"Displacement":225,"Horsepower":110,"Weight_in_lbs":3620,"Acceleration":18.7,"Year":"1978-01-01","Origin":"USA"},{"Name":"amc concord d/l","Miles_per_Gallon":18.1,"Cylinders":6,"Displacement":258,"Horsepower":120,"Weight_in_lbs":3410,"Acceleration":15.1,"Year":"1978-01-01","Origin":"USA"},{"Name":"chevrolet monte carlo landau","Miles_per_Gallon":19.2,"Cylinders":8,"Displacement":305,"Horsepower":145,"Weight_in_lbs":3425,"Acceleration":13.2,"Year":"1978-01-01","Origin":"USA"},{"Name":"buick regal sport coupe (turbo)","Miles_per_Gallon":17.7,"Cylinders":6,"Displacement":231,"Horsepower":165,"Weight_in_lbs":3445,"Acceleration":13.4,"Year":"1978-01-01","Origin":"USA"},{"Name":"ford futura","Miles_per_Gallon":18.1,"Cylinders":8,"Displacement":302,"Horsepower":139,"Weight_in_lbs":3205,"Acceleration":11.2,"Year":"1978-01-01","Origin":"USA"},{"Name":"dodge magnum xe","Miles_per_Gallon":17.5,"Cylinders":8,"Displacement":318,"Horsepower":140,"Weight_in_lbs":4080,"Acceleration":13.7,"Year":"1978-01-01","Origin":"USA"},{"Name":"chevrolet chevette","Miles_per_Gallon":30,"Cylinders":4,"Displacement":98,"Horsepower":68,"Weight_in_lbs":2155,"Acceleration":16.5,"Year":"1978-01-01","Origin":"USA"},{"Name":"toyota corona","Miles_per_Gallon":27.5,"Cylinders":4,"Displacement":134,"Horsepower":95,"Weight_in_lbs":2560,"Acceleration":14.2,"Year":"1978-01-01","Origin":"Japan"},{"Name":"datsun 510","Miles_per_Gallon":27.2,"Cylinders":4,"Displacement":119,"Horsepower":97,"Weight_in_lbs":2300,"Acceleration":14.7,"Year":"1978-01-01","Origin":"Japan"},{"Name":"dodge omni","Miles_per_Gallon":30.9,"Cylinders":4,"Displacement":105,"Horsepower":75,"Weight_in_lbs":2230,"Acceleration":14.5,"Year":"1978-01-01","Origin":"USA"},{"Name":"toyota celica gt liftback","Miles_per_Gallon":21.1,"Cylinders":4,"Displacement":134,"Horsepower":95,"Weight_in_lbs":2515,"Acceleration":14.8,"Year":"1978-01-01","Origin":"Japan"},{"Name":"plymouth sapporo","Miles_per_Gallon":23.2,"Cylinders":4,"Displacement":156,"Horsepower":105,"Weight_in_lbs":2745,"Acceleration":16.7,"Year":"1978-01-01","Origin":"USA"},{"Name":"oldsmobile starfire sx","Miles_per_Gallon":23.8,"Cylinders":4,"Displacement":151,"Horsepower":85,"Weight_in_lbs":2855,"Acceleration":17.6,"Year":"1978-01-01","Origin":"USA"},{"Name":"datsun 200-sx","Miles_per_Gallon":23.9,"Cylinders":4,"Displacement":119,"Horsepower":97,"Weight_in_lbs":2405,"Acceleration":14.9,"Year":"1978-01-01","Origin":"Japan"},{"Name":"audi 5000","Miles_per_Gallon":20.3,"Cylinders":5,"Displacement":131,"Horsepower":103,"Weight_in_lbs":2830,"Acceleration":15.9,"Year":"1978-01-01","Origin":"Europe"},{"Name":"volvo 264gl","Miles_per_Gallon":17,"Cylinders":6,"Displacement":163,"Horsepower":125,"Weight_in_lbs":3140,"Acceleration":13.6,"Year":"1978-01-01","Origin":"Europe"},{"Name":"saab 99gle","Miles_per_Gallon":21.6,"Cylinders":4,"Displacement":121,"Horsepower":115,"Weight_in_lbs":2795,"Acceleration":15.7,"Year":"1978-01-01","Origin":"Europe"},{"Name":"peugeot 604sl","Miles_per_Gallon":16.2,"Cylinders":6,"Displacement":163,"Horsepower":133,"Weight_in_lbs":3410,"Acceleration":15.8,"Year":"1978-01-01","Origin":"Europe"},{"Name":"volkswagen scirocco","Miles_per_Gallon":31.5,"Cylinders":4,"Displacement":89,"Horsepower":71,"Weight_in_lbs":1990,"Acceleration":14.9,"Year":"1978-01-01","Origin":"Europe"},{"Name":"honda Accelerationord lx","Miles_per_Gallon":29.5,"Cylinders":4,"Displacement":98,"Horsepower":68,"Weight_in_lbs":2135,"Acceleration":16.6,"Year":"1978-01-01","Origin":"Japan"},{"Name":"pontiac lemans v6","Miles_per_Gallon":21.5,"Cylinders":6,"Displacement":231,"Horsepower":115,"Weight_in_lbs":3245,"Acceleration":15.4,"Year":"1979-01-01","Origin":"USA"},{"Name":"mercury zephyr 6","Miles_per_Gallon":19.8,"Cylinders":6,"Displacement":200,"Horsepower":85,"Weight_in_lbs":2990,"Acceleration":18.2,"Year":"1979-01-01","Origin":"USA"},{"Name":"ford fairmont 4","Miles_per_Gallon":22.3,"Cylinders":4,"Displacement":140,"Horsepower":88,"Weight_in_lbs":2890,"Acceleration":17.3,"Year":"1979-01-01","Origin":"USA"},{"Name":"amc concord dl 6","Miles_per_Gallon":20.2,"Cylinders":6,"Displacement":232,"Horsepower":90,"Weight_in_lbs":3265,"Acceleration":18.2,"Year":"1979-01-01","Origin":"USA"},{"Name":"dodge aspen 6","Miles_per_Gallon":20.6,"Cylinders":6,"Displacement":225,"Horsepower":110,"Weight_in_lbs":3360,"Acceleration":16.6,"Year":"1979-01-01","Origin":"USA"},{"Name":"chevrolet caprice classic","Miles_per_Gallon":17,"Cylinders":8,"Displacement":305,"Horsepower":130,"Weight_in_lbs":3840,"Acceleration":15.4,"Year":"1979-01-01","Origin":"USA"},{"Name":"ford ltd landau","Miles_per_Gallon":17.6,"Cylinders":8,"Displacement":302,"Horsepower":129,"Weight_in_lbs":3725,"Acceleration":13.4,"Year":"1979-01-01","Origin":"USA"},{"Name":"mercury grand marquis","Miles_per_Gallon":16.5,"Cylinders":8,"Displacement":351,"Horsepower":138,"Weight_in_lbs":3955,"Acceleration":13.2,"Year":"1979-01-01","Origin":"USA"},{"Name":"dodge st. regis","Miles_per_Gallon":18.2,"Cylinders":8,"Displacement":318,"Horsepower":135,"Weight_in_lbs":3830,"Acceleration":15.2,"Year":"1979-01-01","Origin":"USA"},{"Name":"buick estate wagon (sw)","Miles_per_Gallon":16.9,"Cylinders":8,"Displacement":350,"Horsepower":155,"Weight_in_lbs":4360,"Acceleration":14.9,"Year":"1979-01-01","Origin":"USA"},{"Name":"ford country squire (sw)","Miles_per_Gallon":15.5,"Cylinders":8,"Displacement":351,"Horsepower":142,"Weight_in_lbs":4054,"Acceleration":14.3,"Year":"1979-01-01","Origin":"USA"},{"Name":"chevrolet malibu classic (sw)","Miles_per_Gallon":19.2,"Cylinders":8,"Displacement":267,"Horsepower":125,"Weight_in_lbs":3605,"Acceleration":15,"Year":"1979-01-01","Origin":"USA"},{"Name":"chrysler lebaron town @ country (sw)","Miles_per_Gallon":18.5,"Cylinders":8,"Displacement":360,"Horsepower":150,"Weight_in_lbs":3940,"Acceleration":13,"Year":"1979-01-01","Origin":"USA"},{"Name":"vw rabbit custom","Miles_per_Gallon":31.9,"Cylinders":4,"Displacement":89,"Horsepower":71,"Weight_in_lbs":1925,"Acceleration":14,"Year":"1979-01-01","Origin":"Europe"},{"Name":"maxda glc deluxe","Miles_per_Gallon":34.1,"Cylinders":4,"Displacement":86,"Horsepower":65,"Weight_in_lbs":1975,"Acceleration":15.2,"Year":"1979-01-01","Origin":"Japan"},{"Name":"dodge colt hatchback custom","Miles_per_Gallon":35.7,"Cylinders":4,"Displacement":98,"Horsepower":80,"Weight_in_lbs":1915,"Acceleration":14.4,"Year":"1979-01-01","Origin":"USA"},{"Name":"amc spirit dl","Miles_per_Gallon":27.4,"Cylinders":4,"Displacement":121,"Horsepower":80,"Weight_in_lbs":2670,"Acceleration":15,"Year":"1979-01-01","Origin":"USA"},{"Name":"mercedes benz 300d","Miles_per_Gallon":25.4,"Cylinders":5,"Displacement":183,"Horsepower":77,"Weight_in_lbs":3530,"Acceleration":20.1,"Year":"1979-01-01","Origin":"Europe"},{"Name":"cadillac eldorado","Miles_per_Gallon":23,"Cylinders":8,"Displacement":350,"Horsepower":125,"Weight_in_lbs":3900,"Acceleration":17.4,"Year":"1979-01-01","Origin":"USA"},{"Name":"peugeot 504","Miles_per_Gallon":27.2,"Cylinders":4,"Displacement":141,"Horsepower":71,"Weight_in_lbs":3190,"Acceleration":24.8,"Year":"1979-01-01","Origin":"Europe"},{"Name":"oldsmobile cutlass salon brougham","Miles_per_Gallon":23.9,"Cylinders":8,"Displacement":260,"Horsepower":90,"Weight_in_lbs":3420,"Acceleration":22.2,"Year":"1979-01-01","Origin":"USA"},{"Name":"plymouth horizon","Miles_per_Gallon":34.2,"Cylinders":4,"Displacement":105,"Horsepower":70,"Weight_in_lbs":2200,"Acceleration":13.2,"Year":"1979-01-01","Origin":"USA"},{"Name":"plymouth horizon tc3","Miles_per_Gallon":34.5,"Cylinders":4,"Displacement":105,"Horsepower":70,"Weight_in_lbs":2150,"Acceleration":14.9,"Year":"1979-01-01","Origin":"USA"},{"Name":"datsun 210","Miles_per_Gallon":31.8,"Cylinders":4,"Displacement":85,"Horsepower":65,"Weight_in_lbs":2020,"Acceleration":19.2,"Year":"1979-01-01","Origin":"Japan"},{"Name":"fiat strada custom","Miles_per_Gallon":37.3,"Cylinders":4,"Displacement":91,"Horsepower":69,"Weight_in_lbs":2130,"Acceleration":14.7,"Year":"1979-01-01","Origin":"Europe"},{"Name":"buick skylark limited","Miles_per_Gallon":28.4,"Cylinders":4,"Displacement":151,"Horsepower":90,"Weight_in_lbs":2670,"Acceleration":16,"Year":"1979-01-01","Origin":"USA"},{"Name":"chevrolet citation","Miles_per_Gallon":28.8,"Cylinders":6,"Displacement":173,"Horsepower":115,"Weight_in_lbs":2595,"Acceleration":11.3,"Year":"1979-01-01","Origin":"USA"},{"Name":"oldsmobile omega brougham","Miles_per_Gallon":26.8,"Cylinders":6,"Displacement":173,"Horsepower":115,"Weight_in_lbs":2700,"Acceleration":12.9,"Year":"1979-01-01","Origin":"USA"},{"Name":"pontiac phoenix","Miles_per_Gallon":33.5,"Cylinders":4,"Displacement":151,"Horsepower":90,"Weight_in_lbs":2556,"Acceleration":13.2,"Year":"1979-01-01","Origin":"USA"},{"Name":"vw rabbit","Miles_per_Gallon":41.5,"Cylinders":4,"Displacement":98,"Horsepower":76,"Weight_in_lbs":2144,"Acceleration":14.7,"Year":"1980-01-01","Origin":"Europe"},{"Name":"toyota corolla tercel","Miles_per_Gallon":38.1,"Cylinders":4,"Displacement":89,"Horsepower":60,"Weight_in_lbs":1968,"Acceleration":18.8,"Year":"1980-01-01","Origin":"Japan"},{"Name":"chevrolet chevette","Miles_per_Gallon":32.1,"Cylinders":4,"Displacement":98,"Horsepower":70,"Weight_in_lbs":2120,"Acceleration":15.5,"Year":"1980-01-01","Origin":"USA"},{"Name":"datsun 310","Miles_per_Gallon":37.2,"Cylinders":4,"Displacement":86,"Horsepower":65,"Weight_in_lbs":2019,"Acceleration":16.4,"Year":"1980-01-01","Origin":"Japan"},{"Name":"chevrolet citation","Miles_per_Gallon":28,"Cylinders":4,"Displacement":151,"Horsepower":90,"Weight_in_lbs":2678,"Acceleration":16.5,"Year":"1980-01-01","Origin":"USA"},{"Name":"ford fairmont","Miles_per_Gallon":26.4,"Cylinders":4,"Displacement":140,"Horsepower":88,"Weight_in_lbs":2870,"Acceleration":18.1,"Year":"1980-01-01","Origin":"USA"},{"Name":"amc concord","Miles_per_Gallon":24.3,"Cylinders":4,"Displacement":151,"Horsepower":90,"Weight_in_lbs":3003,"Acceleration":20.1,"Year":"1980-01-01","Origin":"USA"},{"Name":"dodge aspen","Miles_per_Gallon":19.1,"Cylinders":6,"Displacement":225,"Horsepower":90,"Weight_in_lbs":3381,"Acceleration":18.7,"Year":"1980-01-01","Origin":"USA"},{"Name":"audi 4000","Miles_per_Gallon":34.3,"Cylinders":4,"Displacement":97,"Horsepower":78,"Weight_in_lbs":2188,"Acceleration":15.8,"Year":"1980-01-01","Origin":"Europe"},{"Name":"toyota corona liftback","Miles_per_Gallon":29.8,"Cylinders":4,"Displacement":134,"Horsepower":90,"Weight_in_lbs":2711,"Acceleration":15.5,"Year":"1980-01-01","Origin":"Japan"},{"Name":"mazda 626","Miles_per_Gallon":31.3,"Cylinders":4,"Displacement":120,"Horsepower":75,"Weight_in_lbs":2542,"Acceleration":17.5,"Year":"1980-01-01","Origin":"Japan"},{"Name":"datsun 510 hatchback","Miles_per_Gallon":37,"Cylinders":4,"Displacement":119,"Horsepower":92,"Weight_in_lbs":2434,"Acceleration":15,"Year":"1980-01-01","Origin":"Japan"},{"Name":"toyota corolla","Miles_per_Gallon":32.2,"Cylinders":4,"Displacement":108,"Horsepower":75,"Weight_in_lbs":2265,"Acceleration":15.2,"Year":"1980-01-01","Origin":"Japan"},{"Name":"mazda glc","Miles_per_Gallon":46.6,"Cylinders":4,"Displacement":86,"Horsepower":65,"Weight_in_lbs":2110,"Acceleration":17.9,"Year":"1980-01-01","Origin":"Japan"},{"Name":"dodge colt","Miles_per_Gallon":27.9,"Cylinders":4,"Displacement":156,"Horsepower":105,"Weight_in_lbs":2800,"Acceleration":14.4,"Year":"1980-01-01","Origin":"USA"},{"Name":"datsun 210","Miles_per_Gallon":40.8,"Cylinders":4,"Displacement":85,"Horsepower":65,"Weight_in_lbs":2110,"Acceleration":19.2,"Year":"1980-01-01","Origin":"Japan"},{"Name":"vw rabbit c (diesel)","Miles_per_Gallon":44.3,"Cylinders":4,"Displacement":90,"Horsepower":48,"Weight_in_lbs":2085,"Acceleration":21.7,"Year":"1980-01-01","Origin":"Europe"},{"Name":"vw dasher (diesel)","Miles_per_Gallon":43.4,"Cylinders":4,"Displacement":90,"Horsepower":48,"Weight_in_lbs":2335,"Acceleration":23.7,"Year":"1980-01-01","Origin":"Europe"},{"Name":"audi 5000s (diesel)","Miles_per_Gallon":36.4,"Cylinders":5,"Displacement":121,"Horsepower":67,"Weight_in_lbs":2950,"Acceleration":19.9,"Year":"1980-01-01","Origin":"Europe"},{"Name":"mercedes-benz 240d","Miles_per_Gallon":30,"Cylinders":4,"Displacement":146,"Horsepower":67,"Weight_in_lbs":3250,"Acceleration":21.8,"Year":"1980-01-01","Origin":"Europe"},{"Name":"honda civic 1500 gl","Miles_per_Gallon":44.6,"Cylinders":4,"Displacement":91,"Horsepower":67,"Weight_in_lbs":1850,"Acceleration":13.8,"Year":"1980-01-01","Origin":"Japan"},{"Name":"renault lecar deluxe","Miles_per_Gallon":40.9,"Cylinders":4,"Displacement":85,"Horsepower":null,"Weight_in_lbs":1835,"Acceleration":17.3,"Year":"1980-01-01","Origin":"Europe"},{"Name":"subaru dl","Miles_per_Gallon":33.8,"Cylinders":4,"Displacement":97,"Horsepower":67,"Weight_in_lbs":2145,"Acceleration":18,"Year":"1980-01-01","Origin":"Japan"},{"Name":"vokswagen rabbit","Miles_per_Gallon":29.8,"Cylinders":4,"Displacement":89,"Horsepower":62,"Weight_in_lbs":1845,"Acceleration":15.3,"Year":"1980-01-01","Origin":"Europe"},{"Name":"datsun 280-zx","Miles_per_Gallon":32.7,"Cylinders":6,"Displacement":168,"Horsepower":132,"Weight_in_lbs":2910,"Acceleration":11.4,"Year":"1980-01-01","Origin":"Japan"},{"Name":"mazda rx-7 gs","Miles_per_Gallon":23.7,"Cylinders":3,"Displacement":70,"Horsepower":100,"Weight_in_lbs":2420,"Acceleration":12.5,"Year":"1980-01-01","Origin":"Japan"},{"Name":"triumph tr7 coupe","Miles_per_Gallon":35,"Cylinders":4,"Displacement":122,"Horsepower":88,"Weight_in_lbs":2500,"Acceleration":15.1,"Year":"1980-01-01","Origin":"Europe"},{"Name":"ford mustang cobra","Miles_per_Gallon":23.6,"Cylinders":4,"Displacement":140,"Horsepower":null,"Weight_in_lbs":2905,"Acceleration":14.3,"Year":"1980-01-01","Origin":"USA"},{"Name":"honda Accelerationord","Miles_per_Gallon":32.4,"Cylinders":4,"Displacement":107,"Horsepower":72,"Weight_in_lbs":2290,"Acceleration":17,"Year":"1980-01-01","Origin":"Japan"},{"Name":"plymouth reliant","Miles_per_Gallon":27.2,"Cylinders":4,"Displacement":135,"Horsepower":84,"Weight_in_lbs":2490,"Acceleration":15.7,"Year":"1982-01-01","Origin":"USA"},{"Name":"buick skylark","Miles_per_Gallon":26.6,"Cylinders":4,"Displacement":151,"Horsepower":84,"Weight_in_lbs":2635,"Acceleration":16.4,"Year":"1982-01-01","Origin":"USA"},{"Name":"dodge aries wagon (sw)","Miles_per_Gallon":25.8,"Cylinders":4,"Displacement":156,"Horsepower":92,"Weight_in_lbs":2620,"Acceleration":14.4,"Year":"1982-01-01","Origin":"USA"},{"Name":"chevrolet citation","Miles_per_Gallon":23.5,"Cylinders":6,"Displacement":173,"Horsepower":110,"Weight_in_lbs":2725,"Acceleration":12.6,"Year":"1982-01-01","Origin":"USA"},{"Name":"plymouth reliant","Miles_per_Gallon":30,"Cylinders":4,"Displacement":135,"Horsepower":84,"Weight_in_lbs":2385,"Acceleration":12.9,"Year":"1982-01-01","Origin":"USA"},{"Name":"toyota starlet","Miles_per_Gallon":39.1,"Cylinders":4,"Displacement":79,"Horsepower":58,"Weight_in_lbs":1755,"Acceleration":16.9,"Year":"1982-01-01","Origin":"Japan"},{"Name":"plymouth champ","Miles_per_Gallon":39,"Cylinders":4,"Displacement":86,"Horsepower":64,"Weight_in_lbs":1875,"Acceleration":16.4,"Year":"1982-01-01","Origin":"USA"},{"Name":"honda civic 1300","Miles_per_Gallon":35.1,"Cylinders":4,"Displacement":81,"Horsepower":60,"Weight_in_lbs":1760,"Acceleration":16.1,"Year":"1982-01-01","Origin":"Japan"},{"Name":"subaru","Miles_per_Gallon":32.3,"Cylinders":4,"Displacement":97,"Horsepower":67,"Weight_in_lbs":2065,"Acceleration":17.8,"Year":"1982-01-01","Origin":"Japan"},{"Name":"datsun 210","Miles_per_Gallon":37,"Cylinders":4,"Displacement":85,"Horsepower":65,"Weight_in_lbs":1975,"Acceleration":19.4,"Year":"1982-01-01","Origin":"Japan"},{"Name":"toyota tercel","Miles_per_Gallon":37.7,"Cylinders":4,"Displacement":89,"Horsepower":62,"Weight_in_lbs":2050,"Acceleration":17.3,"Year":"1982-01-01","Origin":"Japan"},{"Name":"mazda glc 4","Miles_per_Gallon":34.1,"Cylinders":4,"Displacement":91,"Horsepower":68,"Weight_in_lbs":1985,"Acceleration":16,"Year":"1982-01-01","Origin":"Japan"},{"Name":"plymouth horizon 4","Miles_per_Gallon":34.7,"Cylinders":4,"Displacement":105,"Horsepower":63,"Weight_in_lbs":2215,"Acceleration":14.9,"Year":"1982-01-01","Origin":"USA"},{"Name":"ford escort 4w","Miles_per_Gallon":34.4,"Cylinders":4,"Displacement":98,"Horsepower":65,"Weight_in_lbs":2045,"Acceleration":16.2,"Year":"1982-01-01","Origin":"USA"},{"Name":"ford escort 2h","Miles_per_Gallon":29.9,"Cylinders":4,"Displacement":98,"Horsepower":65,"Weight_in_lbs":2380,"Acceleration":20.7,"Year":"1982-01-01","Origin":"USA"},{"Name":"volkswagen jetta","Miles_per_Gallon":33,"Cylinders":4,"Displacement":105,"Horsepower":74,"Weight_in_lbs":2190,"Acceleration":14.2,"Year":"1982-01-01","Origin":"Europe"},{"Name":"renault 18i","Miles_per_Gallon":34.5,"Cylinders":4,"Displacement":100,"Horsepower":null,"Weight_in_lbs":2320,"Acceleration":15.8,"Year":"1982-01-01","Origin":"Europe"},{"Name":"honda prelude","Miles_per_Gallon":33.7,"Cylinders":4,"Displacement":107,"Horsepower":75,"Weight_in_lbs":2210,"Acceleration":14.4,"Year":"1982-01-01","Origin":"Japan"},{"Name":"toyota corolla","Miles_per_Gallon":32.4,"Cylinders":4,"Displacement":108,"Horsepower":75,"Weight_in_lbs":2350,"Acceleration":16.8,"Year":"1982-01-01","Origin":"Japan"},{"Name":"datsun 200sx","Miles_per_Gallon":32.9,"Cylinders":4,"Displacement":119,"Horsepower":100,"Weight_in_lbs":2615,"Acceleration":14.8,"Year":"1982-01-01","Origin":"Japan"},{"Name":"mazda 626","Miles_per_Gallon":31.6,"Cylinders":4,"Displacement":120,"Horsepower":74,"Weight_in_lbs":2635,"Acceleration":18.3,"Year":"1982-01-01","Origin":"Japan"},{"Name":"peugeot 505s turbo diesel","Miles_per_Gallon":28.1,"Cylinders":4,"Displacement":141,"Horsepower":80,"Weight_in_lbs":3230,"Acceleration":20.4,"Year":"1982-01-01","Origin":"Europe"},{"Name":"saab 900s","Miles_per_Gallon":null,"Cylinders":4,"Displacement":121,"Horsepower":110,"Weight_in_lbs":2800,"Acceleration":15.4,"Year":"1982-01-01","Origin":"Europe"},{"Name":"volvo diesel","Miles_per_Gallon":30.7,"Cylinders":6,"Displacement":145,"Horsepower":76,"Weight_in_lbs":3160,"Acceleration":19.6,"Year":"1982-01-01","Origin":"Europe"},{"Name":"toyota cressida","Miles_per_Gallon":25.4,"Cylinders":6,"Displacement":168,"Horsepower":116,"Weight_in_lbs":2900,"Acceleration":12.6,"Year":"1982-01-01","Origin":"Japan"},{"Name":"datsun 810 maxima","Miles_per_Gallon":24.2,"Cylinders":6,"Displacement":146,"Horsepower":120,"Weight_in_lbs":2930,"Acceleration":13.8,"Year":"1982-01-01","Origin":"Japan"},{"Name":"buick century","Miles_per_Gallon":22.4,"Cylinders":6,"Displacement":231,"Horsepower":110,"Weight_in_lbs":3415,"Acceleration":15.8,"Year":"1982-01-01","Origin":"USA"},{"Name":"oldsmobile cutlass ls","Miles_per_Gallon":26.6,"Cylinders":8,"Displacement":350,"Horsepower":105,"Weight_in_lbs":3725,"Acceleration":19,"Year":"1982-01-01","Origin":"USA"},{"Name":"ford granada gl","Miles_per_Gallon":20.2,"Cylinders":6,"Displacement":200,"Horsepower":88,"Weight_in_lbs":3060,"Acceleration":17.1,"Year":"1982-01-01","Origin":"USA"},{"Name":"chrysler lebaron salon","Miles_per_Gallon":17.6,"Cylinders":6,"Displacement":225,"Horsepower":85,"Weight_in_lbs":3465,"Acceleration":16.6,"Year":"1982-01-01","Origin":"USA"},{"Name":"chevrolet cavalier","Miles_per_Gallon":28,"Cylinders":4,"Displacement":112,"Horsepower":88,"Weight_in_lbs":2605,"Acceleration":19.6,"Year":"1982-01-01","Origin":"USA"},{"Name":"chevrolet cavalier wagon","Miles_per_Gallon":27,"Cylinders":4,"Displacement":112,"Horsepower":88,"Weight_in_lbs":2640,"Acceleration":18.6,"Year":"1982-01-01","Origin":"USA"},{"Name":"chevrolet cavalier 2-door","Miles_per_Gallon":34,"Cylinders":4,"Displacement":112,"Horsepower":88,"Weight_in_lbs":2395,"Acceleration":18,"Year":"1982-01-01","Origin":"USA"},{"Name":"pontiac j2000 se hatchback","Miles_per_Gallon":31,"Cylinders":4,"Displacement":112,"Horsepower":85,"Weight_in_lbs":2575,"Acceleration":16.2,"Year":"1982-01-01","Origin":"USA"},{"Name":"dodge aries se","Miles_per_Gallon":29,"Cylinders":4,"Displacement":135,"Horsepower":84,"Weight_in_lbs":2525,"Acceleration":16,"Year":"1982-01-01","Origin":"USA"},{"Name":"pontiac phoenix","Miles_per_Gallon":27,"Cylinders":4,"Displacement":151,"Horsepower":90,"Weight_in_lbs":2735,"Acceleration":18,"Year":"1982-01-01","Origin":"USA"},{"Name":"ford fairmont futura","Miles_per_Gallon":24,"Cylinders":4,"Displacement":140,"Horsepower":92,"Weight_in_lbs":2865,"Acceleration":16.4,"Year":"1982-01-01","Origin":"USA"},{"Name":"amc concord dl","Miles_per_Gallon":23,"Cylinders":4,"Displacement":151,"Horsepower":null,"Weight_in_lbs":3035,"Acceleration":20.5,"Year":"1982-01-01","Origin":"USA"},{"Name":"volkswagen rabbit l","Miles_per_Gallon":36,"Cylinders":4,"Displacement":105,"Horsepower":74,"Weight_in_lbs":1980,"Acceleration":15.3,"Year":"1982-01-01","Origin":"Europe"},{"Name":"mazda glc custom l","Miles_per_Gallon":37,"Cylinders":4,"Displacement":91,"Horsepower":68,"Weight_in_lbs":2025,"Acceleration":18.2,"Year":"1982-01-01","Origin":"Japan"},{"Name":"mazda glc custom","Miles_per_Gallon":31,"Cylinders":4,"Displacement":91,"Horsepower":68,"Weight_in_lbs":1970,"Acceleration":17.6,"Year":"1982-01-01","Origin":"Japan"},{"Name":"plymouth horizon miser","Miles_per_Gallon":38,"Cylinders":4,"Displacement":105,"Horsepower":63,"Weight_in_lbs":2125,"Acceleration":14.7,"Year":"1982-01-01","Origin":"USA"},{"Name":"mercury lynx l","Miles_per_Gallon":36,"Cylinders":4,"Displacement":98,"Horsepower":70,"Weight_in_lbs":2125,"Acceleration":17.3,"Year":"1982-01-01","Origin":"USA"},{"Name":"nissan stanza xe","Miles_per_Gallon":36,"Cylinders":4,"Displacement":120,"Horsepower":88,"Weight_in_lbs":2160,"Acceleration":14.5,"Year":"1982-01-01","Origin":"Japan"},{"Name":"honda Accelerationord","Miles_per_Gallon":36,"Cylinders":4,"Displacement":107,"Horsepower":75,"Weight_in_lbs":2205,"Acceleration":14.5,"Year":"1982-01-01","Origin":"Japan"},{"Name":"toyota corolla","Miles_per_Gallon":34,"Cylinders":4,"Displacement":108,"Horsepower":70,"Weight_in_lbs":2245,"Acceleration":16.9,"Year":"1982-01-01","Origin":"Japan"},{"Name":"honda civic","Miles_per_Gallon":38,"Cylinders":4,"Displacement":91,"Horsepower":67,"Weight_in_lbs":1965,"Acceleration":15,"Year":"1982-01-01","Origin":"Japan"},{"Name":"honda civic (auto)","Miles_per_Gallon":32,"Cylinders":4,"Displacement":91,"Horsepower":67,"Weight_in_lbs":1965,"Acceleration":15.7,"Year":"1982-01-01","Origin":"Japan"},{"Name":"datsun 310 gx","Miles_per_Gallon":38,"Cylinders":4,"Displacement":91,"Horsepower":67,"Weight_in_lbs":1995,"Acceleration":16.2,"Year":"1982-01-01","Origin":"Japan"},{"Name":"buick century limited","Miles_per_Gallon":25,"Cylinders":6,"Displacement":181,"Horsepower":110,"Weight_in_lbs":2945,"Acceleration":16.4,"Year":"1982-01-01","Origin":"USA"},{"Name":"oldsmobile cutlass ciera (diesel)","Miles_per_Gallon":38,"Cylinders":6,"Displacement":262,"Horsepower":85,"Weight_in_lbs":3015,"Acceleration":17,"Year":"1982-01-01","Origin":"USA"},{"Name":"chrysler lebaron medallion","Miles_per_Gallon":26,"Cylinders":4,"Displacement":156,"Horsepower":92,"Weight_in_lbs":2585,"Acceleration":14.5,"Year":"1982-01-01","Origin":"USA"},{"Name":"ford granada l","Miles_per_Gallon":22,"Cylinders":6,"Displacement":232,"Horsepower":112,"Weight_in_lbs":2835,"Acceleration":14.7,"Year":"1982-01-01","Origin":"USA"},{"Name":"toyota celica gt","Miles_per_Gallon":32,"Cylinders":4,"Displacement":144,"Horsepower":96,"Weight_in_lbs":2665,"Acceleration":13.9,"Year":"1982-01-01","Origin":"Japan"},{"Name":"dodge charger 2.2","Miles_per_Gallon":36,"Cylinders":4,"Displacement":135,"Horsepower":84,"Weight_in_lbs":2370,"Acceleration":13,"Year":"1982-01-01","Origin":"USA"},{"Name":"chevrolet camaro","Miles_per_Gallon":27,"Cylinders":4,"Displacement":151,"Horsepower":90,"Weight_in_lbs":2950,"Acceleration":17.3,"Year":"1982-01-01","Origin":"USA"},{"Name":"ford mustang gl","Miles_per_Gallon":27,"Cylinders":4,"Displacement":140,"Horsepower":86,"Weight_in_lbs":2790,"Acceleration":15.6,"Year":"1982-01-01","Origin":"USA"},{"Name":"vw pickup","Miles_per_Gallon":44,"Cylinders":4,"Displacement":97,"Horsepower":52,"Weight_in_lbs":2130,"Acceleration":24.6,"Year":"1982-01-01","Origin":"Europe"},{"Name":"dodge rampage","Miles_per_Gallon":32,"Cylinders":4,"Displacement":135,"Horsepower":84,"Weight_in_lbs":2295,"Acceleration":11.6,"Year":"1982-01-01","Origin":"USA"},{"Name":"ford ranger","Miles_per_Gallon":28,"Cylinders":4,"Displacement":120,"Horsepower":79,"Weight_in_lbs":2625,"Acceleration":18.6,"Year":"1982-01-01","Origin":"USA"},{"Name":"chevy s-10","Miles_per_Gallon":31,"Cylinders":4,"Displacement":119,"Horsepower":82,"Weight_in_lbs":2720,"Acceleration":19.4,"Year":"1982-01-01","Origin":"USA"}]`),mQ={data:[],fields:[],encodings:{},isLoading:!0,error:null};function xQ(e,t){switch(t.type){case"SET_DATA":return{...e,data:t.payload,isLoading:!1};case"SET_FIELDS":return{...e,fields:t.payload};case"ASSIGN_FIELD":return{...e,encodings:{...e.encodings,[t.channel]:t.field}};case"REMOVE_FIELD":{const n={...e.encodings};return delete n[t.channel],{...e,encodings:n}}case"CLEAR_ALL":return{...e,encodings:{}};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload,isLoading:!1};case"TOGGLE_FIELD_TYPE":{const n=e.fields.map(i=>{if(i.name===t.fieldName){const a=i.type==="ordinal"?"nominal":"ordinal";return{...i,type:a}}return i}),r={...e.encodings};for(const[i,a]of Object.entries(r))if(a&&a.name===t.fieldName){const s=a.type==="ordinal"?"nominal":"ordinal";r[i]={...a,type:s}}return{...e,fields:n,encodings:r}}case"RESET_FOR_NEW_DATA":return{...e,data:[],fields:[],encodings:{},isLoading:!0,error:null};default:return e}}const U$=qn.createContext(null);function yQ({children:e}){const[t,n]=qn.useReducer(xQ,mQ);qn.useEffect(()=>{try{const l=gQ;n({type:"SET_DATA",payload:l});const u=tN(l);n({type:"SET_FIELDS",payload:u})}catch(l){n({type:"SET_ERROR",payload:"Failed to load data"}),console.error(l)}},[]);const r=(l,u)=>{n({type:"ASSIGN_FIELD",channel:l,field:u})},i=l=>{n({type:"REMOVE_FIELD",channel:l})},a=()=>{n({type:"CLEAR_ALL"})},s=l=>{n({type:"TOGGLE_FIELD_TYPE",fieldName:l})},o=l=>{n({type:"RESET_FOR_NEW_DATA"});try{n({type:"SET_DATA",payload:l});const u=tN(l);n({type:"SET_FIELDS",payload:u})}catch(u){n({type:"SET_ERROR",payload:"Failed to process uploaded data"}),console.error(u)}};return oe.jsx(U$.Provider,{value:{state:t,assignField:r,removeField:i,clearAll:a,toggleFieldType:s,loadData:o},children:e})}function Hf(){const e=qn.useContext(U$);if(!e)throw new Error("useApp must be used within AppProvider");return e}const vQ={quantitative:"var(--color-quantitative)",nominal:"var(--color-nominal)",ordinal:"var(--color-ordinal)",temporal:"var(--color-temporal)"},_Q={quantitative:"Q",nominal:"N",ordinal:"O",temporal:"T"};function wQ({field:e,index:t}){const{toggleFieldType:n}=Hf(),[r,i]=qn.useState(!1),[a,s]=qn.useState(!1),o=d=>{d.dataTransfer.setData("application/json",JSON.stringify(e)),d.dataTransfer.effectAllowed="copyMove",s(!0)},l=()=>{s(!1)},u=e.type==="ordinal"||e.type==="nominal",c=vQ[e.type];return oe.jsxs("div",{className:"field-pill",draggable:!0,onDragStart:o,onDragEnd:l,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:r?"var(--color-bg-tertiary)":"var(--color-bg-elevated)",border:`1px solid ${r?"var(--color-border-hover)":"var(--color-border)"}`,borderRadius:"8px",cursor:a?"grabbing":"grab",fontSize:"13px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",transform:r?"translateX(4px)":"translateX(0)",opacity:a?.5:1,animation:`slideIn 0.3s ease-out ${t*.03}s both`},children:[oe.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"22px",height:"22px",backgroundColor:c,color:"white",borderRadius:"5px",fontSize:"10px",fontWeight:600,letterSpacing:"0.02em",boxShadow:r?`0 0 12px ${c}60`:`0 0 6px ${c}30`,transition:"box-shadow 0.2s ease"},children:_Q[e.type]}),oe.jsx("span",{style:{color:"var(--color-text-primary)",fontWeight:500,flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),u&&r&&oe.jsx("button",{onClick:d=>{d.stopPropagation(),n(e.name)},onMouseDown:d=>d.stopPropagation(),draggable:!1,title:e.type==="ordinal"?"Switch to Nominal (distinct colors)":"Switch to Ordinal (gradient colors)",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",padding:0,backgroundColor:"var(--color-bg-tertiary)",border:"1px solid var(--color-border)",borderRadius:"4px",cursor:"pointer",color:"var(--color-text-secondary)",fontSize:"10px",fontWeight:600,flexShrink:0,transition:"all 0.15s ease"},onMouseOver:d=>{d.currentTarget.style.backgroundColor="var(--color-accent-glow)",d.currentTarget.style.borderColor="var(--color-accent)",d.currentTarget.style.color="var(--color-accent)"},onMouseOut:d=>{d.currentTarget.style.backgroundColor="var(--color-bg-tertiary)",d.currentTarget.style.borderColor="var(--color-border)",d.currentTarget.style.color="var(--color-text-secondary)"},children:e.type==="ordinal"?"N":"O"}),oe.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"var(--color-text-muted)",opacity:r?1:0,transition:"opacity 0.2s ease",flexShrink:0},children:[oe.jsx("circle",{cx:"9",cy:"5",r:"1",fill:"currentColor"}),oe.jsx("circle",{cx:"9",cy:"12",r:"1",fill:"currentColor"}),oe.jsx("circle",{cx:"9",cy:"19",r:"1",fill:"currentColor"}),oe.jsx("circle",{cx:"15",cy:"5",r:"1",fill:"currentColor"}),oe.jsx("circle",{cx:"15",cy:"12",r:"1",fill:"currentColor"}),oe.jsx("circle",{cx:"15",cy:"19",r:"1",fill:"currentColor"})]})]})}const EQ=[{type:"quantitative",label:"Quantitative",color:"var(--color-quantitative)"},{type:"nominal",label:"Nominal",color:"var(--color-nominal)"},{type:"ordinal",label:"Ordinal",color:"var(--color-ordinal)"},{type:"temporal",label:"Temporal",color:"var(--color-temporal)"}];function kQ(){const{state:e}=Hf();return oe.jsxs("aside",{style:{padding:"24px",backgroundColor:"var(--color-bg-secondary)",borderRight:"1px solid var(--color-border)",height:"100%",overflow:"auto",display:"flex",flexDirection:"column"},children:[oe.jsxs("div",{style:{marginBottom:"20px"},children:[oe.jsx("h2",{style:{fontFamily:"var(--font-display)",fontSize:"15px",fontWeight:400,color:"var(--color-text-primary)",marginBottom:"4px",fontStyle:"italic"},children:"Data Fields"}),oe.jsx("p",{style:{fontSize:"11px",color:"var(--color-text-muted)",letterSpacing:"0.02em"},children:"Drag fields to encode your chart"})]}),oe.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"24px",padding:"12px",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"8px"},children:EQ.map(({type:t,label:n,color:r})=>oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[oe.jsx("span",{style:{width:"8px",height:"8px",backgroundColor:r,borderRadius:"2px",boxShadow:`0 0 8px ${r}40`}}),oe.jsx("span",{style:{fontSize:"10px",color:"var(--color-text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:500},children:n})]},t))}),oe.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",flex:1},children:e.fields.map((t,n)=>oe.jsx(wQ,{field:t,index:n},t.name))}),oe.jsxs("div",{style:{marginTop:"24px",paddingTop:"16px",borderTop:"1px solid var(--color-border)",fontSize:"10px",color:"var(--color-text-muted)",textAlign:"center",letterSpacing:"0.1em",textTransform:"uppercase"},children:[e.fields.length," fields available"]})]})}const SQ={quantitative:"var(--color-quantitative)",nominal:"var(--color-nominal)",ordinal:"var(--color-ordinal)",temporal:"var(--color-temporal)"},bQ={quantitative:"Q",nominal:"N",ordinal:"O",temporal:"T"};function AQ({channel:e,label:t}){const{state:n,assignField:r,removeField:i}=Hf(),[a,s]=qn.useState(!1),[o,l]=qn.useState(!1),[u,c]=qn.useState(!1),d=n.encodings[e],p=k=>{k.preventDefault(),k.dataTransfer.dropEffect="copy",s(!0)},g=()=>{s(!1)},m=k=>{k.preventDefault(),s(!1);const A=k.dataTransfer.getData("application/json");if(A){const T=JSON.parse(A),D="field"in T?T.field:T,b="sourceChannel"in T?T.sourceChannel:void 0;if(b===e)return;b&&i(b),r(e,D)}},x=()=>{i(e)},v=k=>{d&&(k.dataTransfer.setData("application/json",JSON.stringify({field:d,sourceChannel:e})),k.dataTransfer.effectAllowed="copyMove",c(!0))},_=k=>{c(!1),k.dataTransfer.dropEffect==="none"&&i(e)},E=d?SQ[d.type]:"var(--color-accent)";return oe.jsxs("div",{children:[oe.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",fontSize:"11px",fontWeight:500,color:d?"var(--color-text-secondary)":"var(--color-text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",transition:"color 0.2s ease"},children:[t,d&&oe.jsx("span",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:E,boxShadow:`0 0 6px ${E}`}})]}),oe.jsx("div",{onDragOver:p,onDragLeave:g,onDrop:m,style:{minHeight:"44px",padding:d?"6px":"12px",backgroundColor:a?"var(--color-accent-glow)":d?"var(--color-bg-tertiary)":"var(--color-bg-elevated)",border:`1px ${a?"solid":"dashed"} ${a?"var(--color-accent)":"var(--color-border)"}`,borderRadius:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",transform:a?"scale(1.02)":"scale(1)"},children:d?oe.jsxs("div",{draggable:!0,onDragStart:v,onDragEnd:_,style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"6px 10px",backgroundColor:"var(--color-bg-secondary)",border:"1px solid var(--color-border)",borderRadius:"6px",animation:"fadeIn 0.2s ease-out",cursor:u?"grabbing":"grab",opacity:u?.5:1,transition:"opacity 0.2s ease"},children:[oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[oe.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",backgroundColor:E,color:"white",borderRadius:"4px",fontSize:"10px",fontWeight:600,boxShadow:`0 0 8px ${E}40`},children:bQ[d.type]}),oe.jsx("span",{style:{fontSize:"12px",fontWeight:500,color:"var(--color-text-primary)"},children:d.name})]}),oe.jsx("button",{onClick:x,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"22px",height:"22px",padding:0,backgroundColor:o?"rgba(239, 68, 68, 0.15)":"transparent",border:"none",borderRadius:"4px",cursor:"pointer",color:o?"#ef4444":"var(--color-text-muted)",transition:"all 0.15s ease"},children:oe.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[oe.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:a?"var(--color-accent)":"var(--color-text-muted)",fontSize:"12px",transition:"color 0.2s ease"},children:[oe.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:a?1:.5,transition:"opacity 0.2s ease"},children:[oe.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),oe.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),oe.jsx("span",{children:a?"Drop to assign":"Drop field here"})]})})]})}const CQ=[{title:"Position",icon:oe.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[oe.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),oe.jsx("polyline",{points:"5 12 12 5 19 12"})]}),channels:[{channel:"x",label:"X Axis"},{channel:"y",label:"Y Axis"}]},{title:"Mark Properties",icon:oe.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[oe.jsx("circle",{cx:"12",cy:"12",r:"10"}),oe.jsx("circle",{cx:"12",cy:"12",r:"4"})]}),channels:[{channel:"color",label:"Color"},{channel:"size",label:"Size"},{channel:"shape",label:"Shape"}]},{title:"Faceting",icon:oe.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[oe.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),oe.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),oe.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),oe.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]}),channels:[{channel:"row",label:"Row"},{channel:"column",label:"Column"}]}];function TQ(){const{clearAll:e,state:t}=Hf(),[n,r]=qn.useState(!1),i=Object.keys(t.encodings).length>0;return oe.jsxs("aside",{style:{padding:"24px",backgroundColor:"var(--color-bg-secondary)",borderRight:"1px solid var(--color-border)",height:"100%",overflow:"auto",display:"flex",flexDirection:"column"},children:[oe.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[oe.jsxs("div",{children:[oe.jsx("h2",{style:{fontFamily:"var(--font-display)",fontSize:"15px",fontWeight:400,color:"var(--color-text-primary)",marginBottom:"4px",fontStyle:"italic"},children:"Encoding Channels"}),oe.jsx("p",{style:{fontSize:"11px",color:"var(--color-text-muted)",letterSpacing:"0.02em"},children:"Map data to visual properties"})]}),i&&oe.jsxs("button",{onClick:e,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 10px",fontSize:"11px",fontWeight:500,backgroundColor:n?"rgba(239, 68, 68, 0.15)":"rgba(239, 68, 68, 0.08)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",letterSpacing:"0.02em"},children:[oe.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[oe.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Clear"]})]}),oe.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px",flex:1},children:CQ.map((a,s)=>oe.jsxs("div",{style:{animation:`fadeIn 0.4s ease-out ${s*.1}s both`},children:[oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid var(--color-border)"},children:[oe.jsx("span",{style:{color:"var(--color-accent)",opacity:.8},children:a.icon}),oe.jsx("h3",{style:{fontSize:"10px",fontWeight:600,color:"var(--color-text-secondary)",textTransform:"uppercase",letterSpacing:"0.1em",margin:0},children:a.title})]}),oe.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:a.channels.map(({channel:o,label:l})=>oe.jsx(AQ,{channel:o,label:l},o))})]},a.title))}),oe.jsxs("div",{style:{marginTop:"24px",paddingTop:"16px",borderTop:"1px solid var(--color-border)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[oe.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:i?"var(--color-temporal)":"var(--color-text-muted)",boxShadow:i?"0 0 8px var(--color-temporal)":"none",transition:"all 0.3s ease"}}),oe.jsx("span",{style:{fontSize:"10px",color:"var(--color-text-muted)",letterSpacing:"0.1em",textTransform:"uppercase"},children:i?`${Object.keys(t.encodings).length} active`:"No encodings"})]})]})}const FQ=/("(?:[^\\"]|\\.)*")|[:,]/g;function qk(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return(function a(s,o,l){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const u=JSON.stringify(s,i);if(u===void 0)return u;const c=r-o.length-l;if(u.length<=c){const d=u.replace(FQ,(p,g)=>g||`${p} `);if(d.length<=c)return d}if(i!=null&&(s=JSON.parse(u),i=void 0),typeof s=="object"&&s!==null){const d=o+n,p=[];let g=0,m,x;if(Array.isArray(s)){m="[",x="]";const{length:v}=s;for(;g<v;g++)p.push(a(s[g],d,g===v-1?0:1)||"null")}else{m="{",x="}";const v=Object.keys(s),{length:_}=v;for(;g<_;g++){const E=v[g],k=`${JSON.stringify(E)}: `,A=a(s[E],d,k.length+(g===_-1?0:1));A!==void 0&&p.push(k+A)}}if(p.length>0)return[m,n+p.join(`,
${d}`),x].join(`
${o}`)}return u})(e,"",0)}function ta(e,t,n){return e.fields=t||[],e.fname=n,e}function Mn(e){return e==null?null:e.fname}function ri(e){return e==null?null:e.fields}function W$(e){return e.length===1?OQ(e[0]):DQ(e)}const OQ=e=>function(t){return t[e]},DQ=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function ve(e){throw Error(e)}function Co(e){const t=[],n=e.length;let r=null,i=0,a="",s,o,l;e=e+"";function u(){t.push(a+e.substring(s,o)),a="",s=o+1}for(s=o=0;o<n;++o)if(l=e[o],l==="\\")a+=e.substring(s,o++),s=o;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=o+1,r=l):l==="."&&!i?o>s?u():s=o+1:l==="["?(o>s&&u(),i=s=o+1):l==="]"&&(i||ve("Access path missing open bracket: "+e),i>0&&u(),i=0,s=o+1)}return i&&ve("Access path missing closing bracket: "+e),r&&ve("Access path missing closing quote: "+e),o>s&&(o++,u()),t}function Ga(e,t,n){const r=Co(e);return e=r.length===1?r[0]:e,ta((n&&n.get||W$)(r),[e],t||e)}const Og=Ga("id"),li=ta(e=>e,[],"identity"),yu=ta(()=>0,[],"zero"),lh=ta(()=>1,[],"one"),Ya=ta(()=>!0,[],"true"),cu=ta(()=>!1,[],"false"),w3=new Set([...Object.getOwnPropertyNames(Object.prototype).filter(e=>typeof Object.prototype[e]=="function"),"__proto__"]);function NQ(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const H$=0,E3=1,k3=2,j$=3,G$=4;function Q2(e,t,n=NQ){let r=e||H$;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=E3&&n(t||"error","ERROR",arguments),this},warn(){return r>=k3&&n(t||"warn","WARN",arguments),this},info(){return r>=j$&&n(t||"log","INFO",arguments),this},debug(){return r>=G$&&n(t||"log","DEBUG",arguments),this}}}var ke=Array.isArray;function Ge(e){return e===Object(e)}const nN=e=>e!=="__proto__";function uh(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=MQ(t.signals,n.signals);else{const i=r==="legend"?{layout:1}:r==="style"?!0:null;ch(t,r,n[r],i)}return t},{})}function ch(e,t,n,r){if(!nN(t))return;let i,a;if(Ge(n)&&!ke(n)){a=Ge(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?ch(a,i,n[i]):nN(i)&&(a[i]=n[i])}else e[t]=n}function MQ(e,t){if(e==null)return t;const n={},r=[];function i(a){n[a.name]||(n[a.name]=1,r.push(a))}return t.forEach(i),e.forEach(i),r}function Dt(e){return e[e.length-1]}function ei(e){return e==null||e===""?null:+e}const Y$=e=>t=>e*Math.exp(t),V$=e=>t=>Math.log(e*t),q$=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),X$=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,ov=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Z2(e,t,n,r){const i=n(e[0]),a=n(Dt(e)),s=(a-i)*t;return[r(i-s),r(a-s)]}function K$(e,t){return Z2(e,t,ei,li)}function J$(e,t){var n=Math.sign(e[0]);return Z2(e,t,V$(n),Y$(n))}function Q$(e,t,n){return Z2(e,t,ov(n),ov(1/n))}function Z$(e,t,n){return Z2(e,t,q$(n),X$(n))}function e_(e,t,n,r,i){const a=r(e[0]),s=r(Dt(e)),o=t!=null?r(t):(a+s)/2;return[i(o+(a-o)*n),i(o+(s-o)*n)]}function S3(e,t,n){return e_(e,t,n,ei,li)}function b3(e,t,n){const r=Math.sign(e[0]);return e_(e,t,n,V$(r),Y$(r))}function lv(e,t,n,r){return e_(e,t,n,ov(r),ov(1/r))}function A3(e,t,n,r){return e_(e,t,n,q$(r),X$(r))}function eL(e){return 1+~~(new Date(e).getMonth()/3)}function tL(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Ve(e){return e!=null?ke(e)?e:[e]:[]}function nL(e,t,n){let r=e[0],i=e[1],a;return i<r&&(a=i,i=r,r=a),a=i-r,a>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function vt(e){return typeof e=="function"}const RQ="descending";function C3(e,t,n){n=n||{},t=Ve(t)||[];const r=[],i=[],a={},s=n.comparator||IQ;return Ve(e).forEach((o,l)=>{o!=null&&(r.push(t[l]===RQ?-1:1),i.push(o=vt(o)?o:Ga(o,null,n)),(ri(o)||[]).forEach(u=>a[u]=1))}),i.length===0?null:ta(s(i,r),Object.keys(a))}const fh=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),IQ=(e,t)=>e.length===1?$Q(e[0],t[0]):LQ(e,t,e.length),$Q=(e,t)=>function(n,r){return fh(e(n),e(r))*t},LQ=(e,t,n)=>(t.push(0),function(r,i){let a,s=0,o=-1;for(;s===0&&++o<n;)a=e[o],s=fh(a(r),a(i));return s*t[o]});function ui(e){return vt(e)?e:()=>e}function T3(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function wt(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function xo(e,t){let n=0,r,i,a,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(a=s=i;n<r;++n)i=e[n],i!=null&&(i<a&&(a=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(a=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<a&&(a=i),i>s&&(s=i))}return[a,s]}function rL(e,t){const n=e.length;let r=-1,i,a,s,o,l;if(t==null){for(;++r<n;)if(a=e[r],a!=null&&a>=a){i=s=a;break}if(r===n)return[-1,-1];for(o=l=r;++r<n;)a=e[r],a!=null&&(i>a&&(i=a,o=r),s<a&&(s=a,l=r))}else{for(;++r<n;)if(a=t(e[r],r,e),a!=null&&a>=a){i=s=a;break}if(r===n)return[-1,-1];for(o=l=r;++r<n;)a=t(e[r],r,e),a!=null&&(i>a&&(i=a,o=r),s<a&&(s=a,l=r))}return[o,l]}function qe(e,t){return Object.hasOwn(e,t)}const Px={};function dh(e){let t={},n;function r(a){return qe(t,a)&&t[a]!==Px}const i={size:0,empty:0,object:t,has:r,get(a){return r(a)?t[a]:void 0},set(a,s){return r(a)||(++i.size,t[a]===Px&&--i.empty),t[a]=s,this},delete(a){return r(a)&&(--i.size,++i.empty,t[a]=Px),this},clear(){i.size=i.empty=0,i.object=t={}},test(a){return arguments.length?(n=a,i):n},clean(){const a={};let s=0;for(const o in t){const l=t[o];l!==Px&&(!n||!n(l))&&(a[o]=l,++s)}i.size=s,i.empty=0,i.object=t=a}};return e&&Object.keys(e).forEach(a=>{i.set(a,e[a])}),i}function iL(e,t,n,r,i,a){if(!n&&n!==0)return a;const s=+n;let o=e[0],l=Dt(e),u;l<o&&(u=o,o=l,l=u),u=Math.abs(t-o);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:a}function Ue(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),wt(r,n)}function rd(e,t,n,r){let i=t[0],a=t[t.length-1],s;return i>a&&(s=i,i=a,a=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=a:e<a)}function tc(e){return typeof e=="boolean"}function Du(e){return Object.prototype.toString.call(e)==="[object Date]"}function aL(e){return e&&vt(e[Symbol.iterator])}function Ut(e){return typeof e=="number"}function F3(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ye(e){return typeof e=="string"}function O3(e,t,n){e&&(e=t?Ve(e).map(o=>o.replace(/\\(.)/g,"$1")):Ve(e));const r=e&&e.length,i=n&&n.get||W$,a=o=>i(t?[o]:Co(o));let s;if(!r)s=function(){return""};else if(r===1){const o=a(e[0]);s=function(l){return""+o(l)}}else{const o=e.map(a);s=function(l){let u=""+o[0](l),c=0;for(;++c<r;)u+="|"+o[c](l);return u}}return ta(s,e,"key")}function sL(e,t){const n=e[0],r=Dt(e),i=+t;return i?i===1?r:n+i*(r-n):n}const PQ=1e4;function oL(e){e=+e||PQ;let t,n,r;const i=()=>{t={},n={},r=0},a=(s,o)=>(++r>e&&(n=t,t={},r=1),t[s]=o);return i(),{clear:i,has:s=>qe(t,s)||qe(n,s),get:s=>qe(t,s)?t[s]:qe(n,s)?a(s,n[s]):void 0,set:(s,o)=>qe(t,s)?t[s]=o:a(s,o)}}function lL(e,t,n,r){const i=t.length,a=n.length;if(!a)return t;if(!i)return n;const s=r||new t.constructor(i+a);let o=0,l=0,u=0;for(;o<i&&l<a;++u)s[u]=e(t[o],n[l])>0?n[l++]:t[o++];for(;o<i;++o,++u)s[u]=t[o];for(;l<a;++l,++u)s[u]=n[l];return s}function qp(e,t){let n="";for(;--t>=0;)n+=e;return n}function uL(e,t,n,r){const i=n||" ",a=e+"",s=t-a.length;return s<=0?a:r==="left"?qp(i,s)+a:r==="center"?qp(i,~~(s/2))+a+qp(i,Math.ceil(s/2)):a+qp(i,s)}function Dg(e){return e&&Dt(e)-e[0]||0}function Le(e){return ke(e)?`[${e.map(t=>t===null?"null":Le(t))}]`:Ge(e)||Ye(e)?JSON.stringify(e).replaceAll("\u2028","\\u2028").replaceAll("\u2029","\\u2029"):e}function D3(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const BQ=e=>Ut(e)||Du(e)?e:Date.parse(e);function N3(e,t){return t=t||BQ,e==null||e===""?null:t(e)}function M3(e){return e==null||e===""?null:e+""}function Os(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function cL(e,t,n,r){const i=r??"",a=e+"",s=a.length,o=Math.max(0,t-i.length);return s<=t?a:n==="left"?i+a.slice(s-o):n==="center"?a.slice(0,Math.ceil(o/2))+i+a.slice(s-~~(o/2)):a.slice(0,o)+i}function hu(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const a=t(e[i]);a&&n(a,i,e)}}else e.forEach(n)}var rN={},Xk={},Kk=34,kp=10,Jk=13;function fL(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function zQ(e,t){var n=fL(e);return function(r,i){return t(n(r),i,e)}}function iN(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Wi(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function UQ(e){return e<0?"-"+Wi(-e,6):e>9999?"+"+Wi(e,6):Wi(e,4)}function WQ(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":UQ(e.getUTCFullYear())+"-"+Wi(e.getUTCMonth()+1,2)+"-"+Wi(e.getUTCDate(),2)+(i?"T"+Wi(t,2)+":"+Wi(n,2)+":"+Wi(r,2)+"."+Wi(i,3)+"Z":r?"T"+Wi(t,2)+":"+Wi(n,2)+":"+Wi(r,2)+"Z":n||t?"T"+Wi(t,2)+":"+Wi(n,2)+"Z":"")}function HQ(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,p){var g,m,x=i(d,function(v,_){if(g)return g(v,_-1);m=v,g=p?zQ(v,p):fL(v)});return x.columns=m||[],x}function i(d,p){var g=[],m=d.length,x=0,v=0,_,E=m<=0,k=!1;d.charCodeAt(m-1)===kp&&--m,d.charCodeAt(m-1)===Jk&&--m;function A(){if(E)return Xk;if(k)return k=!1,rN;var D,b=x,F;if(d.charCodeAt(b)===Kk){for(;x++<m&&d.charCodeAt(x)!==Kk||d.charCodeAt(++x)===Kk;);return(D=x)>=m?E=!0:(F=d.charCodeAt(x++))===kp?k=!0:F===Jk&&(k=!0,d.charCodeAt(x)===kp&&++x),d.slice(b+1,D-1).replace(/""/g,'"')}for(;x<m;){if((F=d.charCodeAt(D=x++))===kp)k=!0;else if(F===Jk)k=!0,d.charCodeAt(x)===kp&&++x;else if(F!==n)continue;return d.slice(b,D)}return E=!0,d.slice(b,m)}for(;(_=A())!==Xk;){for(var T=[];_!==rN&&_!==Xk;)T.push(_),_=A();p&&(T=p(T,v++))==null||g.push(T)}return g}function a(d,p){return d.map(function(g){return p.map(function(m){return c(g[m])}).join(e)})}function s(d,p){return p==null&&(p=iN(d)),[p.map(c).join(e)].concat(a(d,p)).join(`
`)}function o(d,p){return p==null&&(p=iN(d)),a(d,p).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?WQ(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:l,formatRow:u,formatValue:c}}function jQ(e){return e}function GQ(e){if(e==null)return jQ;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(o,l){l||(t=n=0);var u=2,c=o.length,d=new Array(c);for(d[0]=(t+=o[0])*r+a,d[1]=(n+=o[1])*i+s;u<c;)d[u]=o[u],++u;return d}}function YQ(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function VQ(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return aN(e,n)})}:aN(e,t)}function aN(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=dL(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function dL(e,t){var n=GQ(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var p=r[c<0?~c:c],g=0,m=p.length;g<m;++g)d.push(n(p[g],g));c<0&&YQ(d,m)}function a(c){return n(c)}function s(c){for(var d=[],p=0,g=c.length;p<g;++p)i(c[p],d);return d.length<2&&d.push(d[0]),d}function o(c){for(var d=s(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(o)}function u(c){var d=c.type,p;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":p=a(c.coordinates);break;case"MultiPoint":p=c.coordinates.map(a);break;case"LineString":p=s(c.arcs);break;case"MultiLineString":p=c.arcs.map(s);break;case"Polygon":p=l(c.arcs);break;case"MultiPolygon":p=c.arcs.map(l);break;default:return null}return{type:d,coordinates:p}}return u(t)}function qQ(e,t){var n={},r={},i={},a=[],s=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],p;d.length<3&&!d[1][0]&&!d[1][1]&&(p=t[++s],t[s]=u,t[c]=p)}),t.forEach(function(u){var c=o(u),d=c[0],p=c[1],g,m;if(g=i[d])if(delete i[g.end],g.push(u),g.end=p,m=r[p]){delete r[m.start];var x=m===g?g:g.concat(m);r[x.start=g.start]=i[x.end=m.end]=x}else r[g.start]=i[g.end]=g;else if(g=r[p])if(delete r[g.start],g.unshift(u),g.start=d,m=i[d]){delete i[m.end];var v=m===g?g:m.concat(g);r[v.start=m.start]=i[v.end=g.end]=v}else r[g.start]=i[g.end]=g;else g=[u],r[g.start=d]=i[g.end=p]=g});function o(u){var c=e.arcs[u<0?~u:u],d=c[0],p;return e.transform?(p=[0,0],c.forEach(function(g){p[0]+=g[0],p[1]+=g[1]})):p=c[c.length-1],u<0?[p,d]:[d,p]}function l(u,c){for(var d in u){var p=u[d];delete c[p.start],delete p.start,delete p.end,p.forEach(function(g){n[g<0?~g:g]=1}),a.push(p)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||a.push([u])}),a}function XQ(e){return dL(e,KQ.apply(this,arguments))}function KQ(e,t,n){var r,i,a;if(arguments.length>1)r=JQ(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:qQ(e,r)}}function JQ(e,t,n){var r=[],i=[],a;function s(d){var p=d<0?~d:d;(i[p]||(i[p]=[])).push({i:d,g:a})}function o(d){d.forEach(s)}function l(d){d.forEach(o)}function u(d){d.forEach(l)}function c(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":o(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}function hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hh(e){let t,n,r;e.length!==2?(t=hl,n=(o,l)=>hl(e(o),l),r=(o,l)=>e(o)-l):(t=e===hl||e===QQ?e:ZQ,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function ZQ(){return 0}function hL(e){return e===null?NaN:+e}function*eZ(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const pL=hh(hl),Pu=pL.right,tZ=pL.left;hh(hL).center;function nZ(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i))}if(n>1)return a/(n-1)}function rZ(e,t){const n=nZ(e,t);return n&&Math.sqrt(n)}class Ci{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,o=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);o&&(n[r++]=o),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class sN extends Map{constructor(t,n=xL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(qb(this,t))}has(t){return super.has(qb(this,t))}set(t,n){return super.set(gL(this,t),n)}delete(t){return super.delete(mL(this,t))}}class uv extends Set{constructor(t,n=xL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(qb(this,t))}add(t){return super.add(gL(this,t))}delete(t){return super.delete(mL(this,t))}}function qb({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function gL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function mL({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function xL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function iZ(e,t){return Array.from(t,n=>e[n])}function aZ(e=hl){if(e===hl)return yL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function yL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const sZ=Math.sqrt(50),oZ=Math.sqrt(10),lZ=Math.sqrt(2);function cv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=sZ?10:a>=oZ?5:a>=lZ?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?cv(e,t,n*2):[o,l,u]}function Xb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?cv(t,e,n):cv(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Kb(e,t,n){return t=+t,e=+e,n=+n,cv(e,t,n)[2]}function Bu(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Kb(t,e,n):Kb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function sf(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Jb(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function vL(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?yL:aZ(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(t-u*d/l+p)),m=Math.min(r,Math.floor(t+(l-u)*d/l+p));vL(e,t,g,m,i)}const a=e[t];let s=n,o=r;for(Sp(e,n,t),i(e[r],a)>0&&Sp(e,n,r);s<o;){for(Sp(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Sp(e,n,o):(++o,Sp(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Sp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Qb(e,t,n){if(e=Float64Array.from(eZ(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Jb(e);if(t>=1)return sf(e);var r,i=(r-1)*t,a=Math.floor(i),s=sf(vL(e,a).subarray(0,a+1)),o=Jb(e.subarray(a+1));return s+(o-s)*(i-a)}}function _L(e,t,n=hL){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function uZ(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function wL(e,t){return Qb(e,.5,t)}function*cZ(e){for(const t of e)yield*t}function EL(e){return Array.from(cZ(e))}function pa(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function kL(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function fZ(e,...t){e=new uv(e),t=t.map(dZ);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function dZ(e){return e instanceof uv?e:new uv(e)}function hZ(...e){const t=new uv;for(const n of e)for(const r of n)t.add(r);return t}function pZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function bd(e){return e=fv(Math.abs(e)),e?e[1]:NaN}function gZ(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function mZ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var xZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yf(e){if(!(t=xZ.exec(e)))throw new Error("invalid format: "+e);var t;return new R3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yf.prototype=R3.prototype;function R3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}R3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yZ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var SL;function vZ(e,t){var n=fv(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(SL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+fv(e,Math.max(0,t+a-1))[0]}function oN(e,t){var n=fv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const lN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oN(e*100,t),r:oN,s:vZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uN(e){return e}var cN=Array.prototype.map,fN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bL(e){var t=e.grouping===void 0||e.thousands===void 0?uN:gZ(cN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?uN:mZ(cN.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=yf(d);var p=d.fill,g=d.align,m=d.sign,x=d.symbol,v=d.zero,_=d.width,E=d.comma,k=d.precision,A=d.trim,T=d.type;T==="n"?(E=!0,T="g"):lN[T]||(k===void 0&&(k=12),A=!0,T="g"),(v||p==="0"&&g==="=")&&(v=!0,p="0",g="=");var D=x==="$"?n:x==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",b=x==="$"?r:/[%p]/.test(T)?s:"",F=lN[T],C=/[defgprs%]/.test(T);k=k===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function N(R){var L=D,j=b,q,U,K;if(T==="c")j=F(R)+j,R="";else{R=+R;var ee=R<0||1/R<0;if(R=isNaN(R)?l:F(Math.abs(R),k),A&&(R=yZ(R)),ee&&+R==0&&m!=="+"&&(ee=!1),L=(ee?m==="("?m:o:m==="-"||m==="("?"":m)+L,j=(T==="s"?fN[8+SL/3]:"")+j+(ee&&m==="("?")":""),C){for(q=-1,U=R.length;++q<U;)if(K=R.charCodeAt(q),48>K||K>57){j=(K===46?i+R.slice(q+1):R.slice(q))+j,R=R.slice(0,q);break}}}E&&!v&&(R=t(R,1/0));var ne=L.length+R.length+j.length,z=ne<_?new Array(_-ne+1).join(p):"";switch(E&&v&&(R=t(z+R,z.length?_-j.length:1/0),z=""),g){case"<":R=L+R+j+z;break;case"=":R=L+z+R+j;break;case"^":R=z.slice(0,ne=z.length>>1)+L+R+j+z.slice(ne);break;default:R=z+L+R+j;break}return a(R)}return N.toString=function(){return d+""},N}function c(d,p){var g=u((d=yf(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(bd(p)/3)))*3,x=Math.pow(10,-m),v=fN[8+m/3];return function(_){return g(x*_)+v}}return{format:u,formatPrefix:c}}var Bx,t_,I3;_Z({thousands:",",grouping:[3],currency:["$",""]});function _Z(e){return Bx=bL(e),t_=Bx.format,I3=Bx.formatPrefix,Bx}function AL(e){return Math.max(0,-bd(Math.abs(e)))}function CL(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bd(t)/3)))*3-bd(Math.abs(e)))}function TL(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bd(t)-bd(e))+1}const Qk=new Date,Zk=new Date;function or(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>or(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Qk.setTime(+a),Zk.setTime(+s),e(Qk),e(Zk),Math.floor(n(Qk,Zk))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ad=or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ad.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?or(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ad);Ad.range;const sl=1e3,Ba=sl*60,ol=Ba*60,kl=ol*24,$3=kl*7,dN=kl*30,eS=kl*365,ll=or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sl)},(e,t)=>(t-e)/sl,e=>e.getUTCSeconds());ll.range;const n_=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sl)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getMinutes());n_.range;const r_=or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getUTCMinutes());r_.range;const i_=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sl-e.getMinutes()*Ba)},(e,t)=>{e.setTime(+e+t*ol)},(e,t)=>(t-e)/ol,e=>e.getHours());i_.range;const a_=or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ol)},(e,t)=>(t-e)/ol,e=>e.getUTCHours());a_.range;const pl=or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ba)/kl,e=>e.getDate()-1);pl.range;const Nu=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kl,e=>e.getUTCDate()-1);Nu.range;const FL=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kl,e=>Math.floor(e/kl));FL.range;function jf(e){return or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ba)/$3)}const ph=jf(0),dv=jf(1),wZ=jf(2),EZ=jf(3),Cd=jf(4),kZ=jf(5),SZ=jf(6);ph.range;dv.range;wZ.range;EZ.range;Cd.range;kZ.range;SZ.range;function Gf(e){return or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$3)}const gh=Gf(0),hv=Gf(1),bZ=Gf(2),AZ=Gf(3),Td=Gf(4),CZ=Gf(5),TZ=Gf(6);gh.range;hv.range;bZ.range;AZ.range;Td.range;CZ.range;TZ.range;const j1=or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());j1.range;const G1=or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());G1.range;const yo=or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});yo.range;const vo=or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vo.range;function OL(e,t,n,r,i,a){const s=[[ll,1,sl],[ll,5,5*sl],[ll,15,15*sl],[ll,30,30*sl],[a,1,Ba],[a,5,5*Ba],[a,15,15*Ba],[a,30,30*Ba],[i,1,ol],[i,3,3*ol],[i,6,6*ol],[i,12,12*ol],[r,1,kl],[r,2,2*kl],[n,1,$3],[t,1,dN],[t,3,3*dN],[e,1,eS]];function o(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),m=g?g.range(u,+c+1):[];return p?m.reverse():m}function l(u,c,d){const p=Math.abs(c-u)/d,g=hh(([,,v])=>v).right(s,p);if(g===s.length)return e.every(Bu(u/eS,c/eS,d));if(g===0)return Ad.every(Math.max(Bu(u,c,d),1));const[m,x]=s[p/s[g-1][2]<s[g][2]/p?g-1:g];return m.every(x)}return[o,l]}const[FZ,OZ]=OL(vo,G1,gh,FL,a_,r_),[DZ,NZ]=OL(yo,j1,ph,pl,i_,n_),$r="year",Xi="quarter",ii="month",nr="week",Ki="date",Qr="day",_o="dayofyear",wa="hours",Ea="minutes",Va="seconds",Ds="milliseconds",L3=[$r,Xi,ii,nr,Ki,Qr,_o,wa,Ea,Va,Ds],tS=L3.reduce((e,t,n)=>(e[t]=1+n,e),{});function P3(e){const t=Ve(e).slice(),n={};return t.length||ve("Missing time unit."),t.forEach(i=>{qe(tS,i)?n[i]=1:ve(`Invalid time unit: ${i}.`)}),(n[nr]||n[Qr]?1:0)+(n[Xi]||n[ii]||n[Ki]?1:0)+(n[_o]?1:0)>1&&ve(`Incompatible time units: ${e}`),t.sort((i,a)=>tS[i]-tS[a]),t}const MZ={[$r]:"%Y ",[Xi]:"Q%q ",[ii]:"%b ",[Ki]:"%d ",[nr]:"W%U ",[Qr]:"%a ",[_o]:"%j ",[wa]:"%H:00",[Ea]:"00:%M",[Va]:":%S",[Ds]:".%L",[`${$r}-${ii}`]:"%Y-%m ",[`${$r}-${ii}-${Ki}`]:"%Y-%m-%d ",[`${wa}-${Ea}`]:"%H:%M"};function DL(e,t){const n=wt({},MZ,t),r=P3(e),i=r.length;let a="",s=0,o,l;for(s=0;s<i;)for(o=r.length;o>s;--o)if(l=r.slice(s,o).join("-"),n[l]!=null){a+=n[l],s=o;break}return a.trim()}const qc=new Date;function B3(e){return qc.setFullYear(e),qc.setMonth(0),qc.setDate(1),qc.setHours(0,0,0,0),qc}function NL(e){return RL(new Date(e))}function ML(e){return Zb(new Date(e))}function RL(e){return pl.count(B3(e.getFullYear())-1,e)}function Zb(e){return ph.count(B3(e.getFullYear())-1,e)}function eA(e){return B3(e).getDay()}function RZ(e,t,n,r,i,a,s){if(0<=e&&e<100){const o=new Date(-1,t,n,r,i,a,s);return o.setFullYear(e),o}return new Date(e,t,n,r,i,a,s)}function IL(e){return LL(new Date(e))}function $L(e){return tA(new Date(e))}function LL(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Nu.count(t-1,e)}function tA(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return gh.count(t-1,e)}function nA(e){return qc.setTime(Date.UTC(e,0,1)),qc.getUTCDay()}function IZ(e,t,n,r,i,a,s){if(0<=e&&e<100){const o=new Date(Date.UTC(-1,t,n,r,i,a,s));return o.setUTCFullYear(n.y),o}return new Date(Date.UTC(e,t,n,r,i,a,s))}function PL(e,t,n,r,i){const a=t||1,s=Dt(e),o=(_,E,k)=>(k=k||_,$Z(n[k],r[k],_===s&&a,E)),l=new Date,u=Os(e),c=u[$r]?o($r):ui(2012),d=u[ii]?o(ii):u[Xi]?o(Xi):yu,p=u[nr]&&u[Qr]?o(Qr,1,nr+Qr):u[nr]?o(nr,1):u[Qr]?o(Qr,1):u[Ki]?o(Ki,1):u[_o]?o(_o,1):lh,g=u[wa]?o(wa):yu,m=u[Ea]?o(Ea):yu,x=u[Va]?o(Va):yu,v=u[Ds]?o(Ds):yu;return function(_){l.setTime(+_);const E=c(l);return i(E,d(l),p(l,E),g(l),m(l),x(l),v(l))}}function $Z(e,t,n,r){const i=n<=1?e:r?(a,s)=>r+n*Math.floor((e(a,s)-r)/n):(a,s)=>n*Math.floor(e(a,s)/n);return t?(a,s)=>t(i(a,s),s):i}function Fd(e,t,n){return t+e*7-(n+6)%7}const LZ={[$r]:e=>e.getFullYear(),[Xi]:e=>Math.floor(e.getMonth()/3),[ii]:e=>e.getMonth(),[Ki]:e=>e.getDate(),[wa]:e=>e.getHours(),[Ea]:e=>e.getMinutes(),[Va]:e=>e.getSeconds(),[Ds]:e=>e.getMilliseconds(),[_o]:e=>RL(e),[nr]:e=>Zb(e),[nr+Qr]:(e,t)=>Fd(Zb(e),e.getDay(),eA(t)),[Qr]:(e,t)=>Fd(1,e.getDay(),eA(t))},PZ={[Xi]:e=>3*e,[nr]:(e,t)=>Fd(e,0,eA(t))};function BL(e,t){return PL(e,t||1,LZ,PZ,RZ)}const BZ={[$r]:e=>e.getUTCFullYear(),[Xi]:e=>Math.floor(e.getUTCMonth()/3),[ii]:e=>e.getUTCMonth(),[Ki]:e=>e.getUTCDate(),[wa]:e=>e.getUTCHours(),[Ea]:e=>e.getUTCMinutes(),[Va]:e=>e.getUTCSeconds(),[Ds]:e=>e.getUTCMilliseconds(),[_o]:e=>LL(e),[nr]:e=>tA(e),[Qr]:(e,t)=>Fd(1,e.getUTCDay(),nA(t)),[nr+Qr]:(e,t)=>Fd(tA(e),e.getUTCDay(),nA(t))},zZ={[Xi]:e=>3*e,[nr]:(e,t)=>Fd(e,0,nA(t))};function zL(e,t){return PL(e,t||1,BZ,zZ,IZ)}const UZ={[$r]:yo,[Xi]:j1.every(3),[ii]:j1,[nr]:ph,[Ki]:pl,[Qr]:pl,[_o]:pl,[wa]:i_,[Ea]:n_,[Va]:ll,[Ds]:Ad},WZ={[$r]:vo,[Xi]:G1.every(3),[ii]:G1,[nr]:gh,[Ki]:Nu,[Qr]:Nu,[_o]:Nu,[wa]:a_,[Ea]:r_,[Va]:ll,[Ds]:Ad};function mh(e){return UZ[e]}function xh(e){return WZ[e]}function UL(e,t,n){return e?e.offset(t,n):void 0}function WL(e,t,n){return UL(mh(e),t,n)}function HL(e,t,n){return UL(xh(e),t,n)}function jL(e,t,n,r){return e?e.range(t,n,r):void 0}function GL(e,t,n,r){return jL(mh(e),t,n,r)}function YL(e,t,n,r){return jL(xh(e),t,n,r)}const Xp=1e3,Kp=Xp*60,Jp=Kp*60,s_=Jp*24,HZ=s_*7,hN=s_*30,rA=s_*365,VL=[$r,ii,Ki,wa,Ea,Va,Ds],Qp=VL.slice(0,-1),Zp=Qp.slice(0,-1),e1=Zp.slice(0,-1),jZ=e1.slice(0,-1),GZ=[$r,nr],pN=[$r,ii],qL=[$r],bp=[[Qp,1,Xp],[Qp,5,5*Xp],[Qp,15,15*Xp],[Qp,30,30*Xp],[Zp,1,Kp],[Zp,5,5*Kp],[Zp,15,15*Kp],[Zp,30,30*Kp],[e1,1,Jp],[e1,3,3*Jp],[e1,6,6*Jp],[e1,12,12*Jp],[jZ,1,s_],[GZ,1,HZ],[pN,1,hN],[pN,3,3*hN],[qL,1,rA]];function XL(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Dg(t))/n;let i=hh(o=>o[2]).right(bp,r),a,s;return i===bp.length?(a=qL,s=Bu(t[0]/rA,t[1]/rA,n)):i?(i=bp[r/bp[i-1][2]<bp[i][2]/r?i-1:i],a=i[0],s=i[1]):(a=VL,s=Math.max(Bu(t[0],t[1],n),1)),{units:a,step:s}}function nS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ap(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function KL(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Cp(i),c=Tp(i),d=Cp(a),p=Tp(a),g=Cp(s),m=Tp(s),x=Cp(o),v=Tp(o),_=Cp(l),E=Tp(l),k={a:ee,A:ne,b:z,B:ae,c:null,d:_N,e:_N,f:pee,g:See,G:Aee,H:fee,I:dee,j:hee,L:JL,m:gee,M:mee,p:W,q:M,Q:kN,s:SN,S:xee,u:yee,U:vee,V:_ee,w:wee,W:Eee,x:null,X:null,y:kee,Y:bee,Z:Cee,"%":EN},A={a:Y,A:Q,b:V,B:le,c:null,d:wN,e:wN,f:Dee,g:Uee,G:Hee,H:Tee,I:Fee,j:Oee,L:ZL,m:Nee,M:Mee,p:we,q:xe,Q:kN,s:SN,S:Ree,u:Iee,U:$ee,V:Lee,w:Pee,W:Bee,x:null,X:null,y:zee,Y:Wee,Z:jee,"%":EN},T={a:N,A:R,b:L,B:j,c:q,d:yN,e:yN,f:oee,g:xN,G:mN,H:vN,I:vN,j:ree,L:see,m:nee,M:iee,p:C,q:tee,Q:uee,s:cee,S:aee,u:KZ,U:JZ,V:QZ,w:XZ,W:ZZ,x:U,X:K,y:xN,Y:mN,Z:eee,"%":lee};k.x=D(n,k),k.X=D(r,k),k.c=D(t,k),A.x=D(n,A),A.X=D(r,A),A.c=D(t,A);function D(ie,ue){return function(Se){var B=[],Ze=-1,Pe=0,je=ie.length,Ie,Ae,it;for(Se instanceof Date||(Se=new Date(+Se));++Ze<je;)ie.charCodeAt(Ze)===37&&(B.push(ie.slice(Pe,Ze)),(Ae=gN[Ie=ie.charAt(++Ze)])!=null?Ie=ie.charAt(++Ze):Ae=Ie==="e"?" ":"0",(it=ue[Ie])&&(Ie=it(Se,Ae)),B.push(Ie),Pe=Ze+1);return B.push(ie.slice(Pe,Ze)),B.join("")}}function b(ie,ue){return function(Se){var B=Ap(1900,void 0,1),Ze=F(B,ie,Se+="",0),Pe,je;if(Ze!=Se.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(ue&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(Pe=rS(Ap(B.y,0,1)),je=Pe.getUTCDay(),Pe=je>4||je===0?hv.ceil(Pe):hv(Pe),Pe=Nu.offset(Pe,(B.V-1)*7),B.y=Pe.getUTCFullYear(),B.m=Pe.getUTCMonth(),B.d=Pe.getUTCDate()+(B.w+6)%7):(Pe=nS(Ap(B.y,0,1)),je=Pe.getDay(),Pe=je>4||je===0?dv.ceil(Pe):dv(Pe),Pe=pl.offset(Pe,(B.V-1)*7),B.y=Pe.getFullYear(),B.m=Pe.getMonth(),B.d=Pe.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),je="Z"in B?rS(Ap(B.y,0,1)).getUTCDay():nS(Ap(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(je+5)%7:B.w+B.U*7-(je+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,rS(B)):nS(B)}}function F(ie,ue,Se,B){for(var Ze=0,Pe=ue.length,je=Se.length,Ie,Ae;Ze<Pe;){if(B>=je)return-1;if(Ie=ue.charCodeAt(Ze++),Ie===37){if(Ie=ue.charAt(Ze++),Ae=T[Ie in gN?ue.charAt(Ze++):Ie],!Ae||(B=Ae(ie,Se,B))<0)return-1}else if(Ie!=Se.charCodeAt(B++))return-1}return B}function C(ie,ue,Se){var B=u.exec(ue.slice(Se));return B?(ie.p=c.get(B[0].toLowerCase()),Se+B[0].length):-1}function N(ie,ue,Se){var B=g.exec(ue.slice(Se));return B?(ie.w=m.get(B[0].toLowerCase()),Se+B[0].length):-1}function R(ie,ue,Se){var B=d.exec(ue.slice(Se));return B?(ie.w=p.get(B[0].toLowerCase()),Se+B[0].length):-1}function L(ie,ue,Se){var B=_.exec(ue.slice(Se));return B?(ie.m=E.get(B[0].toLowerCase()),Se+B[0].length):-1}function j(ie,ue,Se){var B=x.exec(ue.slice(Se));return B?(ie.m=v.get(B[0].toLowerCase()),Se+B[0].length):-1}function q(ie,ue,Se){return F(ie,t,ue,Se)}function U(ie,ue,Se){return F(ie,n,ue,Se)}function K(ie,ue,Se){return F(ie,r,ue,Se)}function ee(ie){return s[ie.getDay()]}function ne(ie){return a[ie.getDay()]}function z(ie){return l[ie.getMonth()]}function ae(ie){return o[ie.getMonth()]}function W(ie){return i[+(ie.getHours()>=12)]}function M(ie){return 1+~~(ie.getMonth()/3)}function Y(ie){return s[ie.getUTCDay()]}function Q(ie){return a[ie.getUTCDay()]}function V(ie){return l[ie.getUTCMonth()]}function le(ie){return o[ie.getUTCMonth()]}function we(ie){return i[+(ie.getUTCHours()>=12)]}function xe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ue=D(ie+="",k);return ue.toString=function(){return ie},ue},parse:function(ie){var ue=b(ie+="",!1);return ue.toString=function(){return ie},ue},utcFormat:function(ie){var ue=D(ie+="",A);return ue.toString=function(){return ie},ue},utcParse:function(ie){var ue=b(ie+="",!0);return ue.toString=function(){return ie},ue}}}var gN={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,YZ=/^%/,VZ=/[\\^$*+?|[\]().{}]/g;function Wt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function qZ(e){return e.replace(VZ,"\\$&")}function Cp(e){return new RegExp("^(?:"+e.map(qZ).join("|")+")","i")}function Tp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function XZ(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function KZ(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function JZ(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function QZ(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ZZ(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function mN(e,t,n){var r=kr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function xN(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eee(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tee(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nee(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yN(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ree(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function vN(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function iee(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function aee(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function see(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function oee(e,t,n){var r=kr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lee(e,t,n){var r=YZ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function uee(e,t,n){var r=kr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function cee(e,t,n){var r=kr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _N(e,t){return Wt(e.getDate(),t,2)}function fee(e,t){return Wt(e.getHours(),t,2)}function dee(e,t){return Wt(e.getHours()%12||12,t,2)}function hee(e,t){return Wt(1+pl.count(yo(e),e),t,3)}function JL(e,t){return Wt(e.getMilliseconds(),t,3)}function pee(e,t){return JL(e,t)+"000"}function gee(e,t){return Wt(e.getMonth()+1,t,2)}function mee(e,t){return Wt(e.getMinutes(),t,2)}function xee(e,t){return Wt(e.getSeconds(),t,2)}function yee(e){var t=e.getDay();return t===0?7:t}function vee(e,t){return Wt(ph.count(yo(e)-1,e),t,2)}function QL(e){var t=e.getDay();return t>=4||t===0?Cd(e):Cd.ceil(e)}function _ee(e,t){return e=QL(e),Wt(Cd.count(yo(e),e)+(yo(e).getDay()===4),t,2)}function wee(e){return e.getDay()}function Eee(e,t){return Wt(dv.count(yo(e)-1,e),t,2)}function kee(e,t){return Wt(e.getFullYear()%100,t,2)}function See(e,t){return e=QL(e),Wt(e.getFullYear()%100,t,2)}function bee(e,t){return Wt(e.getFullYear()%1e4,t,4)}function Aee(e,t){var n=e.getDay();return e=n>=4||n===0?Cd(e):Cd.ceil(e),Wt(e.getFullYear()%1e4,t,4)}function Cee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wt(t/60|0,"0",2)+Wt(t%60,"0",2)}function wN(e,t){return Wt(e.getUTCDate(),t,2)}function Tee(e,t){return Wt(e.getUTCHours(),t,2)}function Fee(e,t){return Wt(e.getUTCHours()%12||12,t,2)}function Oee(e,t){return Wt(1+Nu.count(vo(e),e),t,3)}function ZL(e,t){return Wt(e.getUTCMilliseconds(),t,3)}function Dee(e,t){return ZL(e,t)+"000"}function Nee(e,t){return Wt(e.getUTCMonth()+1,t,2)}function Mee(e,t){return Wt(e.getUTCMinutes(),t,2)}function Ree(e,t){return Wt(e.getUTCSeconds(),t,2)}function Iee(e){var t=e.getUTCDay();return t===0?7:t}function $ee(e,t){return Wt(gh.count(vo(e)-1,e),t,2)}function eP(e){var t=e.getUTCDay();return t>=4||t===0?Td(e):Td.ceil(e)}function Lee(e,t){return e=eP(e),Wt(Td.count(vo(e),e)+(vo(e).getUTCDay()===4),t,2)}function Pee(e){return e.getUTCDay()}function Bee(e,t){return Wt(hv.count(vo(e)-1,e),t,2)}function zee(e,t){return Wt(e.getUTCFullYear()%100,t,2)}function Uee(e,t){return e=eP(e),Wt(e.getUTCFullYear()%100,t,2)}function Wee(e,t){return Wt(e.getUTCFullYear()%1e4,t,4)}function Hee(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Td(e):Td.ceil(e),Wt(e.getUTCFullYear()%1e4,t,4)}function jee(){return"+0000"}function EN(){return"%"}function kN(e){return+e}function SN(e){return Math.floor(+e/1e3)}var z0,z3,tP,U3,nP;Gee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gee(e){return z0=KL(e),z3=z0.format,tP=z0.parse,U3=z0.utcFormat,nP=z0.utcParse,z0}function t1(e){const t={};return n=>t[n]||(t[n]=e(n))}function Yee(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let a=Vee(r,i);const s=a<r.length?r.slice(a):"";for(;--a>i;)if(r[a]!=="0"){++a;break}return r.slice(0,a)+s}}function Vee(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function rP(e){const t=t1(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=yf(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Yee(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,a,s){s=yf(s??",f");const o=Bu(r,i,a),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=CL(o,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=TL(o,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=AL(o))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let iA;iP();function iP(){return iA=rP({format:t_,formatPrefix:I3})}function aP(e){return rP(bL(e))}function pv(e){return arguments.length?iA=aP(e):iA}function bN(e,t,n){n=n||{},Ge(n)||ve(`Invalid time multi-format specifier: ${n}`);const r=t(Va),i=t(Ea),a=t(wa),s=t(Ki),o=t(nr),l=t(ii),u=t(Xi),c=t($r),d=e(n[Ds]||".%L"),p=e(n[Va]||":%S"),g=e(n[Ea]||"%I:%M"),m=e(n[wa]||"%I %p"),x=e(n[Ki]||n[Qr]||"%a %d"),v=e(n[nr]||"%b %d"),_=e(n[ii]||"%B"),E=e(n[Xi]||"%B"),k=e(n[$r]||"%Y");return A=>(r(A)<A?d:i(A)<A?p:a(A)<A?g:s(A)<A?m:l(A)<A?o(A)<A?x:v:c(A)<A?u(A)<A?_:E:k)(A)}function sP(e){const t=t1(e.format),n=t1(e.utcFormat);return{timeFormat:r=>Ye(r)?t(r):bN(t,mh,r),utcFormat:r=>Ye(r)?n(r):bN(n,xh,r),timeParse:t1(e.parse),utcParse:t1(e.utcParse)}}let aA;oP();function oP(){return aA=sP({format:z3,parse:tP,utcFormat:U3,utcParse:nP})}function lP(e){return sP(KL(e))}function Y1(e){return arguments.length?aA=lP(e):aA}const sA=(e,t)=>wt({},e,t);function uP(e,t){const n=e?aP(e):pv(),r=t?lP(t):Y1();return sA(n,r)}function W3(e,t){const n=arguments.length;return n&&n!==2&&ve("defaultLocale expects either zero or two arguments."),n?sA(pv(e),Y1(t)):sA(pv(),Y1())}function qee(){return iP(),oP(),W3()}const Xee=/^(data:|([A-Za-z]+:)?\/\/)/,Kee=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Jee=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,AN="file://";function Qee(e){return t=>({options:t||{},sanitize:ete,load:Zee,fileAccess:!1,file:tte(),http:rte})}async function Zee(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t==null?void 0:t.http)}async function ete(e,t){t=wt({},this.options,t);const n=this.fileAccess,r={href:null};let i,a,s;const o=Kee.test(e.replace(Jee,""));(e==null||typeof e!="string"||!o)&&ve("Sanitize failure, invalid URI: "+Le(e));const l=Xee.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),a=(i=e.startsWith(AN))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(AN.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),a=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!a}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function tte(e){return nte}async function nte(){ve("No file system access.")}async function rte(e,t){const n=wt({},this.options.http,t),r=t&&t.response,i=await fetch(e,n);return i.ok?vt(i[r])?i[r]():i.text():ve(i.status+""+i.statusText)}const ite=e=>e!=null&&e===e,ate=e=>e==="true"||e==="false"||e===!0||e===!1,ste=e=>!Number.isNaN(Date.parse(e)),cP=e=>!Number.isNaN(+e)&&!(e instanceof Date),ote=e=>cP(e)&&Number.isInteger(+e),oA={boolean:D3,integer:ei,number:ei,date:N3,string:M3,unknown:li},zx=[ate,ote,cP,ste],lte=["boolean","integer","number","date"];function fP(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=zx.length,i=zx.map((a,s)=>s+1);for(let a=0,s=0,o,l;a<n;++a)for(l=t?e[a][t]:e[a],o=0;o<r;++o)if(i[o]&&ite(l)&&!zx[o](l)&&(i[o]=0,++s,s===zx.length))return"string";return lte[i.reduce((a,s)=>a===0?s:a,0)-1]}function dP(e,t){return t.reduce((n,r)=>(n[r]=fP(e,r),n),{})}function CN(e){const t=function(n,r){const i={delimiter:e};return H3(n,r?wt(r,i):i)};return t.responseType="text",t}function H3(e,t){return t.header&&(e=t.header.map(Le).join(t.delimiter)+`
`+e),HQ(t.delimiter).parse(e+"")}H3.responseType="text";function ute(e){return typeof Buffer=="function"&&vt(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function j3(e,t){const n=t&&t.property?Ga(t.property):li;return Ge(e)&&!ute(e)?cte(n(e),t):n(JSON.parse(e))}j3.responseType="json";function cte(e,t){return!ke(e)&&aL(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const fte={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function hP(e,t){let n,r,i,a;return e=j3(e,t),t&&t.feature?(n=VQ,i=t.feature):t&&t.mesh?(n=XQ,i=t.mesh,a=fte[t.filter]):ve("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,a):ve("Invalid TopoJSON object: "+i),r&&r.features||[r]}hP.responseType="json";const Ry={dsv:H3,csv:CN(","),tsv:CN("	"),json:j3,topojson:hP};function G3(e,t){return arguments.length>1?(Ry[e]=t,this):qe(Ry,e)?Ry[e]:null}function pP(e){const t=G3(e);return t&&t.responseType||"text"}function gP(e,t,n,r){t=t||{};const i=G3(t.type||"json");return i||ve("Unknown data format type: "+t.type),e=i(e,t),t.parse&&dte(e,t.parse,n,r),qe(e,"columns")&&delete e.columns,e}function dte(e,t,n,r){if(!e.length)return;const i=Y1();n=n||i.timeParse,r=r||i.utcParse;let a=e.columns||Object.keys(e[0]),s,o,l,u,c,d;t==="auto"&&(t=dP(e,a)),a=Object.keys(t);const p=a.map(g=>{const m=t[g];let x,v;if(m&&(m.startsWith("date:")||m.startsWith("utc:")))return x=m.split(/:(.+)?/,2),v=x[1],(v[0]==="'"&&v[v.length-1]==="'"||v[0]==='"'&&v[v.length-1]==='"')&&(v=v.slice(1,-1)),(x[0]==="utc"?r:n)(v);if(!oA[m])throw Error("Illegal format pattern: "+g+":"+m);return oA[m]});for(l=0,c=e.length,d=a.length;l<c;++l)for(s=e[l],u=0;u<d;++u)o=a[u],s[o]=p[u](s[o])}const o_=Qee();function l_(e){const t=e||li,n=[],r={};return n.add=i=>{const a=t(i);return r[a]||(r[a]=1,n.push(i)),n},n.remove=i=>{const a=t(i);if(r[a]){r[a]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function Iy(e,t){try{await t(e)}catch(n){e.error(n)}}const mP=Symbol("vega_id");let hte=1;function u_(e){return!!(e&&st(e))}function st(e){return e[mP]}function xP(e,t){return e[mP]=t,e}function jt(e){const t=e===Object(e)?e:{data:e};return st(t)?t:xP(t,hte++)}function Y3(e){return c_(e,jt({}))}function c_(e,t){for(const n in e)t[n]=e[n];return t}function yP(e,t){return xP(t,st(e))}function Yf(e,t){return e?t?(n,r)=>e(n,r)||st(t(n))-st(t(r)):(n,r)=>e(n,r)||st(n)-st(r):null}function vP(e){return e&&e.constructor===Vf}function Vf(){const e=[],t=[],n=[],r=[],i=[];let a=null,s=!1;return{constructor:Vf,insert(o){const l=Ve(o),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(o){const l=vt(o)?r:t,u=Ve(o),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(o,l,u){const c={field:l,value:ui(u)};return vt(o)?(c.filter=o,i.push(c)):(c.tuple=o,n.push(c)),this},encode(o,l){return vt(o)?i.push({filter:o,field:l}):n.push({tuple:o,field:l}),this},clean(o){return a=o,this},reflow(){return s=!0,this},pulse(o,l){const u={},c={};let d,p,g,m,x,v;for(d=0,p=l.length;d<p;++d)u[st(l[d])]=1;for(d=0,p=t.length;d<p;++d)x=t[d],u[st(x)]=-1;for(d=0,p=r.length;d<p;++d)m=r[d],l.forEach(E=>{m(E)&&(u[st(E)]=-1)});for(d=0,p=e.length;d<p;++d)x=e[d],v=st(x),u[v]?u[v]=1:o.add.push(jt(e[d]));for(d=0,p=l.length;d<p;++d)x=l[d],u[st(x)]<0&&o.rem.push(x);function _(E,k,A){A?E[k]=A(E):o.encode=k,s||(c[st(E)]=E)}for(d=0,p=n.length;d<p;++d)g=n[d],x=g.tuple,m=g.field,v=u[st(x)],v>0&&(_(x,m,g.value),o.modifies(m));for(d=0,p=i.length;d<p;++d)g=i[d],m=g.filter,l.forEach(E=>{m(E)&&u[st(E)]>0&&_(E,g.field,g.value)}),o.modifies(g.field);if(s)o.mod=t.length||r.length?l.filter(E=>u[st(E)]>0):l.slice();else for(v in c)o.mod.push(c[v]);return(a||a==null&&(t.length||r.length))&&o.clean(!0),o}}}const $y="_:mod:_";function f_(){Object.defineProperty(this,$y,{writable:!0,value:{}})}f_.prototype={set(e,t,n,r){const i=this,a=i[e],s=i[$y];return t!=null&&t>=0?(a[t]!==n||r)&&(a[t]=n,s[t+":"+e]=-1,s[e]=-1):(a!==n||r)&&(i[e]=n,s[e]=ke(n)?1+n.length:-1),i},modified(e,t){const n=this[$y];if(arguments.length){if(ke(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[$y]={},this}};let pte=0;const gte="pulse",mte=new f_,xte=1,yte=2;function rn(e,t,n,r){this.id=++pte,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function TN(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}rn.prototype={targets(){return this._targets||(this._targets=l_(Og))},set(e){return this.value!==e?(this.value=e,1):0},skip:TN(xte),modified:TN(yte),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new f_,i=this._argops=this._argops||[],a=[];let s,o,l,u;const c=(d,p,g)=>{g instanceof rn?(g!==this&&(t&&g.targets().add(this),a.push(g)),i.push({op:g,name:d,index:p})):r.set(d,p,g)};for(s in e)if(o=e[s],s===gte)Ve(o).forEach(d=>{d instanceof rn?d!==this&&(d.targets().add(this),a.push(d)):ve("Pulse parameters must be operator instances.")}),this.source=o;else if(ke(o))for(r.set(s,-1,Array(l=o.length)),u=0;u<l;++u)c(s,u,o[u]);else c(s,-1,o);return this.marshall().clear(),n&&(i.initonly=!0),a},marshall(e){const t=this._argval||mte,n=this._argops;let r,i,a,s;if(n){const o=n.length;for(i=0;i<o;++i)r=n[i],a=r.op,s=a.modified()&&a.stamp===e,t.set(r.name,r.index,a.value,s);if(n.initonly){for(i=0;i<o;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function vte(e,t,n,r){let i=1,a;return e instanceof rn?a=e:e&&e.prototype instanceof rn?a=new e:vt(e)?a=new rn(null,e):(i=0,a=new rn(e,t)),this.rank(a),i&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a}function _te(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let wte=0;function d_(e,t,n){this.id=++wte,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function fu(e,t,n){return new d_(e,t,n)}d_.prototype={_filter:Ya,_apply:li,targets(){return this._targets||(this._targets=l_(Og))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=fu(e);return this.targets().add(t),t},apply(e){const t=fu(null,e);return this.targets().add(t),t},merge(){const e=fu();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=fu();return this.targets().add(fu(null,null,T3(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(fu(null,null,()=>n=!0)),t.targets().add(fu(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Ya,this._targets=null}};function Ete(e,t,n,r){const i=this,a=fu(n,r),s=function(u){u.dataflow=i;try{a.receive(u)}catch(c){i.error(c)}finally{i.run()}};let o;typeof e=="string"&&typeof document<"u"?o=document.querySelectorAll(e):o=Ve(e);const l=o.length;for(let u=0;u<l;++u)o[u].addEventListener(t,s);return a}function kte(e,t){const n=this.locale();return gP(e,t,n.timeParse,n.utcParse)}function Ste(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function bte(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:pP(t&&t.type)});try{i=n.parse(i,t)}catch(a){r=-2,n.warn("Data ingestion failed",e,a)}}catch(a){r=-1,n.warn("Loading failed",e,a)}return{data:i,status:r}}async function Ate(e,t,n){const r=this,i=r._pending||Cte(r);i.requests+=1;const a=await r.request(t,n);return r.pulse(e,r.changeset().remove(Ya).insert(a.data||[])),i.done(),a}function Cte(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Tte={skip:!0};function Fte(e,t,n,r,i){return(e instanceof rn?Dte:Ote)(this,e,t,n,r,i),this}function Ote(e,t,n,r,i,a){const s=wt({},a,Tte);let o,l;vt(n)||(n=ui(n)),r===void 0?o=u=>e.touch(n(u)):vt(r)?(l=new rn(null,r,i,!1),o=u=>{l.evaluate(u);const c=n(u),d=l.value;vP(d)?e.pulse(c,d,a):e.update(c,d,s)}):o=u=>e.update(n(u),r,s),t.apply(o)}function Dte(e,t,n,r,i,a){if(r===void 0)t.targets().add(n);else{const s=a||{},o=new rn(null,Nte(n,r),i,!1);o.modified(s.force),o.rank=t.rank,t.targets().add(o),n&&(o.skip(!0),o.value=n.value,o.targets().add(n),e.connect(n,[o]))}}function Nte(e,t){return t=vt(t)?t:ui(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function Mte(e){e.rank=++this._rank}function Rte(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&ve("Cycle detected in dataflow graph.")}const gv={},no=1,pu=2,tl=4,Ite=no|pu,FN=no|tl,U0=no|pu|tl,ON=8,Fp=16,DN=32,NN=64;function Mu(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function iS(e,t){const n=[];return hu(e,t,r=>n.push(r)),n}function MN(e,t){const n={};return e.visit(t,r=>{n[st(r)]=1}),r=>n[st(r)]?null:r}function Ux(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Mu.prototype={StopPropagation:gv,ADD:no,REM:pu,MOD:tl,ADD_REM:Ite,ADD_MOD:FN,ALL:U0,REFLOW:ON,SOURCE:Fp,NO_SOURCE:DN,NO_FIELDS:NN,fork(e){return new Mu(this.dataflow).init(this,e)},clone(){const e=this.fork(U0);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(U0|Fp)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Mu(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&NN)&&(n.fields=e.fields),t&no?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&pu?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&tl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&DN?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||U0;return t&no&&this.add.length||t&pu&&this.rem.length||t&tl&&this.mod.length},reflow(e){if(e)return this.fork(U0).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(tl,MN(this,no))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return ke(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?ke(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&no&&(n.addF=Ux(n.addF,t)),e&pu&&(n.remF=Ux(n.remF,t)),e&tl&&(n.modF=Ux(n.modF,t)),e&Fp&&(n.srcF=Ux(n.srcF,t)),n},materialize(e){e=e||U0;const t=this;return e&no&&t.addF&&(t.add=iS(t.add,t.addF),t.addF=null),e&pu&&t.remF&&(t.rem=iS(t.rem,t.remF),t.remF=null),e&tl&&t.modF&&(t.mod=iS(t.mod,t.modF),t.modF=null),e&Fp&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&Fp)return hu(n.source,n.srcF,r),n;e&no&&hu(n.add,n.addF,r),e&pu&&hu(n.rem,n.remF,r),e&tl&&hu(n.mod,n.modF,r);const i=n.source;if(e&ON&&i){const a=n.add.length+n.mod.length;a===i.length||(a?hu(i,MN(n,FN),r):hu(i,n.srcF,r))}return n}};function V3(e,t,n,r){const i=this;let a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const o=i.fields||(i.fields={});for(const l in s.fields)o[l]=1}s.changed(i.ADD)&&(a|=i.ADD),s.changed(i.REM)&&(a|=i.REM),s.changed(i.MOD)&&(a|=i.MOD)}this.changes=a}Ue(V3,Mu,{fork(e){const t=new Mu(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?ke(e)?e.some(r=>n[r]):n[e]:0},filter(){ve("MultiPulse does not support filtering.")},materialize(){ve("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}});async function $te(e,t,n){const r=this,i=[];if(r._pulse)return _P(r);if(r._pending&&await r._pending,t&&await Iy(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const a=++r._clock;r._pulse=new Mu(r,a,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=l_(Og);let s=0,o,l,u;try{for(;r._heap.size()>0;){if(o=r._heap.pop(),o.rank!==o.qrank){r._enqueue(o,!0);continue}l=o.run(r._getPulse(o,e)),l.then?l=await l:l.async&&(i.push(l.async),l=gv),l!==gv&&o._targets&&o._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${a}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,p)=>p.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await Iy(r,c[d].callback)}return n&&await Iy(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(p){r.error(p)}})})),r}async function Lte(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function Pte(e,t,n){return this._pulse?_P(this):(this.evaluate(e,t,n),this)}function Bte(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function _P(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function zte(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Ute(e,t){const n=e.source,r=this._clock;return n&&ke(n)?new V3(this,r,n.map(i=>i.pulse),t):this._input[e.id]||Wte(this._pulse,n&&n.pulse)}function Wte(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==gv&&(e.source=t.source),e)}const q3={skip:!1,force:!1};function Hte(e,t){const n=t||q3;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function jte(e,t,n){const r=n||q3;return(e.set(t)||r.force)&&this.touch(e,r),this}function Gte(e,t,n){this.touch(e,n||q3);const r=new Mu(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Yte(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),wP(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,Vte(t,0,e)):r=n,r}}}function wP(e,t,n,r){let i,a;const s=e[n];for(;n>t;){if(a=n-1>>1,i=e[a],r(s,i)<0){e[n]=i,n=a;continue}break}return e[n]=s}function Vte(e,t,n){const r=t,i=e.length,a=e[t];let s=(t<<1)+1,o;for(;s<i;)o=s+1,o<i&&n(e[s],e[o])>=0&&(s=o),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=a,wP(e,r,t,n)}function fd(){this.logger(Q2()),this.logLevel(E3),this._clock=0,this._rank=0,this._locale=W3();try{this._loader=o_()}catch{}this._touched=l_(Og),this._input={},this._pulse=null,this._heap=Yte((e,t)=>e.qrank-t.qrank),this._postrun=[]}function Op(e){return function(){return this._log[e].apply(this,arguments)}}fd.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Op("error"),warn:Op("warn"),info:Op("info"),debug:Op("debug"),logLevel:Op("level"),cleanThreshold:1e4,add:vte,connect:_te,rank:Mte,rerank:Rte,pulse:Gte,touch:Hte,update:jte,changeset:Vf,ingest:Ste,parse:kte,preload:Ate,request:bte,events:Ete,on:Fte,evaluate:$te,run:Pte,runAsync:Lte,runAfter:Bte,_enqueue:zte,_getPulse:Ute};function ye(e,t){rn.call(this,e,null,t)}Ue(ye,rn,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Od={};function EP(e){const t=kP(e);return t&&t.Definition||null}function kP(e){return e=e&&e.toLowerCase(),qe(Od,e)?Od[e]:null}function*SP(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function X3(e,t,n){const r=Float64Array.from(SP(e,n));return r.sort(hl),t.map(i=>_L(r,i))}function K3(e,t){return X3(e,[.25,.5,.75],t)}function J3(e,t){const n=e.length,r=rZ(e,t),i=K3(e,t),a=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function bP(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let a=e.extent[0],s=e.extent[1],o,l,u,c,d,p;const g=e.span||s-a||Math.abs(a)||1;if(e.step)o=e.step;else if(e.steps){for(c=g/t,d=0,p=e.steps.length;d<p&&e.steps[d]<c;++d);o=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,o=Math.max(u,Math.pow(n,Math.round(Math.log(g)/r)-l));Math.ceil(g/o)>t;)o*=n;for(d=0,p=i.length;d<p;++d)c=o/i[d],c>=u&&g/c<=t&&(o=c)}c=Math.log(o);const m=c>=0?0:~~(-c/r)+1,x=Math.pow(n,-m-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(a/o+x)*o,a=a<c?c-o:c,s=Math.ceil(s/o)*o),{start:a,stop:s===a?a+o:s,step:o}}var qa=Math.random;function qte(e){qa=e}function AP(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(SP(e,r)),a=i.length,s=t;let o,l,u,c;for(u=0,c=Array(s);u<s;++u){for(o=0,l=0;l<a;++l)o+=i[~~(qa()*a)];c[u]=o/a}return c.sort(hl),[Qb(c,n/2),Qb(c,1-n/2)]}function CP(e,t,n,r){r=r||(p=>p);const i=e.length,a=new Float64Array(i);let s=0,o=1,l=r(e[0]),u=l,c=l+t,d;for(;o<i;++o){if(d=r(e[o]),d>=c){for(u=(l+u)/2;s<o;++s)a[s]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;s<o;++s)a[s]=u;return n?Xte(a,t+t/4):a}function Xte(e,t){const n=e.length;let r=0,i=1,a,s;for(;e[r]===e[i];)++i;for(;i<n;){for(a=i+1;e[i]===e[a];)++a;if(e[i]-e[i-1]<t){for(s=i+(r+a-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=a}return e}function Kte(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function Jte(e,t){t==null&&(t=e,e=0);let n,r,i;const a={min(s){return arguments.length?(n=s||0,i=r-n,a):n},max(s){return arguments.length?(r=s||0,i=r-n,a):r},sample(){return n+Math.floor(i*qa())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const o=Math.floor(s);return o<n?0:o>=r?1:(o-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return a.min(e).max(t)}const TP=Math.sqrt(2*Math.PI),Qte=Math.SQRT2;let Dp=NaN;function h_(e,t){e=e||0,t=t??1;let n=0,r=0,i,a;if(Dp===Dp)n=Dp,Dp=NaN;else{do n=qa()*2-1,r=qa()*2-1,i=n*n+r*r;while(i===0||i>1);a=Math.sqrt(-2*Math.log(i)/i),n*=a,Dp=r*a}return e+n*t}function Q3(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*TP)}function p_(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let a;if(i>37)a=0;else{const s=Math.exp(-i*i/2);let o;i<7.07106781186547?(o=.0352624965998911*i+.700383064443688,o=o*i+6.37396220353165,o=o*i+33.912866078383,o=o*i+112.079291497871,o=o*i+221.213596169931,o=o*i+220.206867912376,a=s*o,o=.0883883476483184*i+1.75566716318264,o=o*i+16.064177579207,o=o*i+86.7807322029461,o=o*i+296.564248779674,o=o*i+637.333633378831,o=o*i+793.826512519948,o=o*i+440.413735824752,a=a/o):(o=i+.65,o=i+4/o,o=i+3/o,o=i+2/o,o=i+1/o,a=s/o/2.506628274631)}return r>0?1-a:a}function g_(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*Qte*Zte(2*e-1)}function Zte(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function Z3(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>h_(n,r),pdf:a=>Q3(a,n,r),cdf:a=>p_(a,n,r),icdf:a=>g_(a,n,r)};return i.mean(e).stdev(t)}function eC(e,t){const n=Z3();let r=0;const i={data(a){return arguments.length?(e=a,r=a?a.length:0,i.bandwidth(t)):e},bandwidth(a){return arguments.length?(t=a,!t&&e&&(t=J3(e)),i):t},sample(){return e[~~(qa()*r)]+t*n.sample()},pdf(a){let s=0,o=0;for(;o<r;++o)s+=n.pdf((a-e[o])/t);return s/t/r},cdf(a){let s=0,o=0;for(;o<r;++o)s+=n.cdf((a-e[o])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function tC(e,t){return e=e||0,t=t??1,Math.exp(e+h_()*t)}function nC(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*TP*e)}function rC(e,t,n){return p_(Math.log(e),t,n)}function iC(e,t,n){return Math.exp(g_(e,t,n))}function FP(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>tC(n,r),pdf:a=>nC(a,n,r),cdf:a=>rC(a,n,r),icdf:a=>iC(a,n,r)};return i.mean(e).stdev(t)}function OP(e,t){let n=0,r;function i(s){const o=[];let l=0,u;for(u=0;u<n;++u)l+=o[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)o[u]/=l;return o}const a={weights(s){return arguments.length?(r=i(t=s||[]),a):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),a.weights(t)):e},sample(){const s=qa();let o=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){o=e[u];break}return o.sample()},pdf(s){let o=0,l=0;for(;l<n;++l)o+=r[l]*e[l].pdf(s);return o},cdf(s){let o=0,l=0;for(;l<n;++l)o+=r[l]*e[l].cdf(s);return o},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function aC(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*qa()}function sC(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function oC(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function lC(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function DP(e,t){let n,r;const i={min(a){return arguments.length?(n=a||0,i):n},max(a){return arguments.length?(r=a??1,i):r},sample:()=>aC(n,r),pdf:a=>sC(a,n,r),cdf:a=>oC(a,n,r),icdf:a=>lC(a,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function uC(e,t,n){let r=0,i=0;for(const a of e){const s=n(a);t(a)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Ng(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}function m_(e,t,n,r){e=e.filter(g=>{let m=t(g),x=n(g);return m!=null&&(m=+m)>=m&&x!=null&&(x=+x)>=x}),r&&e.sort((g,m)=>t(g)-t(m));const i=e.length,a=new Float64Array(i),s=new Float64Array(i);let o=0,l=0,u=0,c,d,p;for(p of e)a[o]=c=+t(p),s[o]=d=+n(p),++o,l+=(c-l)/o,u+=(d-u)/o;for(o=0;o<i;++o)a[o]-=l,s[o]-=u;return[a,s,l,u]}function Mg(e,t,n,r){let i=-1,a,s;for(const o of e)a=t(o),s=n(o),a!=null&&(a=+a)>=a&&s!=null&&(s=+s)>=s&&r(a,s,++i)}function yh(e,t,n,r,i){let a=0,s=0;return Mg(e,t,n,(o,l)=>{const u=l-i(o),c=l-r;a+=u*u,s+=c*c}),1-a/s}function cC(e,t,n){let r=0,i=0,a=0,s=0,o=0;Mg(e,t,n,(c,d)=>{++o,r+=(c-r)/o,i+=(d-i)/o,a+=(c*d-a)/o,s+=(c*c-s)/o});const l=Ng(r,i,a,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:yh(e,t,n,i,u)}}function NP(e,t,n){let r=0,i=0,a=0,s=0,o=0;Mg(e,t,n,(c,d)=>{++o,c=Math.log(c),r+=(c-r)/o,i+=(d-i)/o,a+=(c*d-a)/o,s+=(c*c-s)/o});const l=Ng(r,i,a,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:yh(e,t,n,i,u)}}function MP(e,t,n){const[r,i,a,s]=m_(e,t,n);let o=0,l=0,u=0,c=0,d=0,p,g,m;Mg(e,t,n,(E,k)=>{p=r[d++],g=Math.log(k),m=p*k,o+=(k*g-o)/d,l+=(m-l)/d,u+=(m*g-u)/d,c+=(p*m-c)/d});const[x,v]=Ng(l/s,o/s,u/s,c/s),_=E=>Math.exp(x+v*(E-a));return{coef:[Math.exp(x-v*a),v],predict:_,rSquared:yh(e,t,n,s,_)}}function RP(e,t,n){let r=0,i=0,a=0,s=0,o=0,l=0;Mg(e,t,n,(d,p)=>{const g=Math.log(d),m=Math.log(p);++l,r+=(g-r)/l,i+=(m-i)/l,a+=(g*m-a)/l,s+=(g*g-s)/l,o+=(p-o)/l});const u=Ng(r,i,a,s),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:yh(e,t,n,o,c)}}function fC(e,t,n){const[r,i,a,s]=m_(e,t,n),o=r.length;let l=0,u=0,c=0,d=0,p=0,g,m,x,v;for(g=0;g<o;)m=r[g],x=i[g++],v=m*m,l+=(v-l)/g,u+=(v*m-u)/g,c+=(v*v-c)/g,d+=(m*x-d)/g,p+=(v*x-p)/g;const _=c-l*l,E=l*_-u*u,k=(p*l-d*u)/E,A=(d*_-p*u)/E,T=-k*l,D=b=>(b=b-a,k*b*b+A*b+T+s);return{coef:[T-A*a+k*a*a+s,A-2*k*a,k],predict:D,rSquared:yh(e,t,n,s,D)}}function IP(e,t,n,r){if(r===0)return uC(e,t,n);if(r===1)return cC(e,t,n);if(r===2)return fC(e,t,n);const[i,a,s,o]=m_(e,t,n),l=i.length,u=[],c=[],d=r+1;let p,g,m,x,v;for(p=0;p<d;++p){for(m=0,x=0;m<l;++m)x+=Math.pow(i[m],p)*a[m];for(u.push(x),v=new Float64Array(d),g=0;g<d;++g){for(m=0,x=0;m<l;++m)x+=Math.pow(i[m],p+g);v[g]=x}c.push(v)}c.push(u);const _=tne(c),E=k=>{k-=s;let A=o+_[0]+_[1]*k+_[2]*k*k;for(p=3;p<d;++p)A+=_[p]*Math.pow(k,p);return A};return{coef:ene(d,_,-s,o),predict:E,rSquared:yh(e,t,n,o,E)}}function ene(e,t,n,r){const i=Array(e);let a,s,o,l;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(o=t[a],l=1,i[a]+=o,s=1;s<=a;++s)l*=(a+1-s)/s,i[a-s]+=o*Math.pow(n,s)*l;return i[0]+=r,i}function tne(e){const t=e.length-1,n=[];let r,i,a,s,o;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(a=r;a<t+1;++a)o=e[a][r],e[a][r]=e[a][s],e[a][s]=o;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(o=0,a=i+1;a<t;++a)o+=e[a][i]*n[a];n[i]=(e[t][i]-o)/e[i][i]}return n}const RN=2,IN=1e-12;function $P(e,t,n,r){const[i,a,s,o]=m_(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),p=new Float64Array(l).fill(1);for(let g=-1;++g<=RN;){const m=[0,u-1];for(let v=0;v<l;++v){const _=i[v],E=m[0],k=m[1],A=_-i[E]>i[k]-_?E:k;let T=0,D=0,b=0,F=0,C=0;const N=1/Math.abs(i[A]-_||1);for(let j=E;j<=k;++j){const q=i[j],U=a[j],K=nne(Math.abs(_-q)*N)*p[j],ee=q*K;T+=K,D+=ee,b+=U*K,F+=U*ee,C+=q*ee}const[R,L]=Ng(D/T,b/T,F/T,C/T);c[v]=R+L*_,d[v]=Math.abs(a[v]-c[v]),rne(i,v+1,m)}if(g===RN)break;const x=wL(d);if(Math.abs(x)<IN)break;for(let v=0,_,E;v<l;++v)_=d[v]/(6*x),p[v]=_>=1?IN:(E=1-_*_)*E}return ine(i,c,s,o)}function nne(e){return(e=1-e*e*e)*e*e}function rne(e,t,n){const r=e[t];let i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}function ine(e,t,n,r){const i=e.length,a=[];let s=0,o=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++o:(o=0,l[1]+=r,l=[u,t[s]],a.push(l));return l[1]+=r,a}const ane=.5*Math.PI/180;function x_(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=x=>[x,e(x)],a=t[0],s=t[1],o=s-a,l=o/r,u=[i(a)],c=[];if(n===r){for(let x=1;x<r;++x)u.push(i(a+x/n*o));return u.push(i(s)),u}else{c.push(i(s));for(let x=n;--x>0;)c.push(i(a+x/n*o))}let d=u[0],p=c[c.length-1];const g=1/o,m=sne(d[1],c);for(;p;){const x=i((d[0]+p[0])/2);x[0]-d[0]>=l&&one(d,x,p,g,m)>ane?c.push(x):(d=p,u.push(p),c.pop()),p=c[c.length-1]}return u}function sne(e,t){let n=e,r=e;const i=t.length;for(let a=0;a<i;++a){const s=t[a][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function one(e,t,n,r,i){const a=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(a-s)}function lne(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function lA(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:lne(e)}function LP(e,t,n){return n||e+(t?"_"+t:"")}const aS=()=>{},une={init:aS,add:aS,rem:aS,idx:0},V1={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},Rg=Object.keys(V1).filter(e=>e!=="__count__");function cne(e,t){return(n,r)=>wt({name:e,aggregate_param:r,out:n||e},une,t)}[...Rg,"__count__"].forEach(e=>{V1[e]=cne(e,V1[e])});function PP(e,t,n){return V1[e](n,t)}function BP(e,t){return e.idx-t.idx}function fne(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=V1[i]())})};return e.forEach(n),Object.values(t).sort(BP)}function dne(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function hne(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function pne(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function gne(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function zP(e,t){const n=t||li,r=fne(e),i=e.slice().sort(BP);function a(s){this._ops=r,this._out=i,this.cell=s,this.init()}return a.prototype.init=dne,a.prototype.add=hne,a.prototype.rem=pne,a.prototype.set=gne,a.prototype.get=n,a.fields=e.map(s=>s.out),a}function dC(e){this._key=e?Ga(e):st,this.reset()}const zr=dC.prototype;zr.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};zr.add=function(e){this._add.push(e)};zr.rem=function(e){this._rem.push(e)};zr.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,a=Array(r-i),s={};let o,l,u;for(o=0;o<i;++o)s[n(t[o])]=1;for(o=0,l=0;o<r;++o)s[n(u=e[o])]?s[n(u)]=0:a[l++]=u;return this._rem=[],this._add=a};zr.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,a;for(;--r>=0;)a=e(t[r])+"",qe(n,a)||(n[a]=1,++i);return i};zr.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=rL(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};zr.argmin=function(e){return this.extent(e)[0]||{}};zr.argmax=function(e){return this.extent(e)[1]||{}};zr.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};zr.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};zr.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=K3(this.values(),e),this._get=e),this._q};zr.q1=function(e){return this.quartile(e)[0]};zr.q2=function(e){return this.quartile(e)[1]};zr.q3=function(e){return this.quartile(e)[2]};zr.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=AP(this.values(),1e3,.05,e),this._get=e),this._ci};zr.ci0=function(e){return this.ci(e)[0]};zr.ci1=function(e){return this.ci(e)[1]};function zu(e){ye.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}zu.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Rg},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Ue(zu,ye,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,a=>n.add(a))):(n.value=n.value||n.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function a(o){let l,u,c,d;for(l in o)for(c=o[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}a(e._prev),a(t);function s(o,l,u){const c=n[u],d=r[u++];for(const p in d){const g=o?o+"|"+p:p;l[c]=d[p],u<i?s(g,l,u):t[g]||e.cell(g,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(E){const k=Ve(ri(E)),A=k.length;let T=0,D;for(;T<A;++T)r[D=k[T]]||(r[D]=1,t.push(D))}this._dims=Ve(e.groupby),this._dnames=this._dims.map(E=>{const k=Mn(E);return i(E),n.push(k),k}),this.cellkey=e.key?e.key:lA(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const a=e.fields||[null],s=e.ops||["count"],o=e.aggregate_params||[null],l=e.as||[],u=a.length,c={};let d,p,g,m,x,v,_;for(u!==s.length&&ve("Unmatched number of fields and aggregate ops."),_=0;_<u;++_){if(d=a[_],p=s[_],g=o[_]||null,d==null&&p!=="count"&&ve("Null aggregate field specified."),x=Mn(d),v=LP(p,x,l[_]),n.push(v),p==="count"){this._counts.push(v);continue}m=c[x],m||(i(d),m=c[x]=[],m.field=d,this._measures.push(m)),p!=="count"&&(this._countOnly=!1),m.push(PP(p,g,v))}return this._measures=this._measures.map(E=>zP(E,E.field)),Object.create(null)},cellkey:lA(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let a=0;a<i;++a)n.agg[a]=new r[a](n)}return n.store&&(n.data=new dC),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,a={};for(let s=0;s<i;++s)a[n[s]]=r[s](e);return t?yP(t.tuple,a):jt(a)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,a=r.length;i<a;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,a=e.add,s=e.rem,o=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,d=this._alen;c<d;++c)a.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?s:o).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const mne=1e-14;function hC(e){ye.call(this,null,e)}hC.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Ue(hC,ye,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,a=r.step,s=e.as||["bin0","bin1"],o=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(ri(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[o]=d,c[l]=d==null?null:i+a*(1+(d-i)/a)}:c=>c[o]=r(c)),t.modifies(n?s:o)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=bP(e),r=n.step;let i=n.start,a=i+Math.ceil((n.stop-i)/r)*r,s,o;(s=e.anchor)!=null&&(o=s-(i+r*Math.floor((s-i)/r)),i+=o,a+=o);const l=function(u){let c=ei(t(u));return c==null?null:c<i?-1/0:c>a?1/0:(c=Math.max(i,Math.min(c,a-r)),i+r*Math.floor(mne+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=ta(l,ri(t),e.name||"bin_"+Mn(t))}});function UP(e,t,n){const r=e;let i=t||[],a=n||[],s={},o=0;return{add:l=>a.push(l),remove:l=>s[r(l)]=++o,size:()=>i.length,data:(l,u)=>(o&&(i=i.filter(c=>!s[r(c)]),s={},o=0),u&&l&&i.sort(l),a.length&&(i=l?lL(l,i,a.sort(l)):i.concat(a),a=[]),i)}}function pC(e){ye.call(this,[],e)}pC.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Ue(pC,ye,{transform(e,t){const n=t.fork(t.ALL),r=UP(st,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(Yf(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function WP(e){rn.call(this,null,xne,e)}Ue(WP,rn);function xne(e){return this.value&&!e.modified()?this.value:C3(e.fields,e.orders)}function gC(e){ye.call(this,null,e)}gC.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function yne(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Ue(gC,ye,{transform(e,t){const n=d=>p=>{for(var g=yne(o(p),e.case,a)||[],m,x=0,v=g.length;x<v;++x)s.test(m=g[x])||d(m)},r=this._parameterCheck(e,t),i=this._counts,a=this._match,s=this._stop,o=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],a=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let o,l,u;for(o in n)l=r[o],u=n[o]||0,!l&&u?(r[o]=l=jt({}),l[i]=o,l[a]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[o]=null,r[o]=null):l[a]!==u&&(l[a]=u,s.mod.push(l));return s.modifies(t)}});function mC(e){ye.call(this,null,e)}mC.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Ue(mC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],a=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let o=this.value;return s?(o&&(n.rem=o),o=t.materialize(t.SOURCE).source,n.add=this.value=vne(o,i,a,e.filter||Ya)):n.mod=o,n.source=this.value,n.modifies(r)}});function vne(e,t,n,r){for(var i=[],a={},s=e.length,o=0,l,u;o<s;++o)for(a[t]=u=e[o],l=0;l<s;++l)a[n]=e[l],r(a)&&(i.push(jt(a)),a={},a[t]=u);return i}const $N={kde:eC,mixture:OP,normal:Z3,lognormal:FP,uniform:DP},_ne="distributions",LN="function",wne="field";function HP(e,t){const n=e[LN];qe($N,n)||ve("Unknown distribution function: "+n);const r=$N[n]();for(const i in e)i===wne?r.data((e.from||t()).map(e[i])):i===_ne?r[i](e[i].map(a=>HP(a,t))):typeof r[i]===LN&&r[i](e[i]);return r}function xC(e){ye.call(this,null,e)}const jP=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Ene={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:jP},{name:"weights",type:"number",array:!0}]};xC.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:jP.concat(Ene)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ue(xC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=HP(e.distribution,kne(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&ve("Invalid density method: "+s),!e.extent&&!r.data&&ve("Missing density extent parameter."),s=r[s];const o=e.as||["value","density"],l=e.extent||xo(r.data()),u=x_(s,l,i,a).map(c=>{const d={};return d[o[0]]=c[0],d[o[1]]=c[1],jt(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function kne(e){return()=>e.materialize(e.SOURCE).source}function GP(e,t){return e?e.map((n,r)=>t[r]||Mn(n)):null}function yC(e,t,n){const r=[],i=d=>d(l);let a,s,o,l,u,c;if(t==null)r.push(e.map(n));else for(a={},s=0,o=e.length;s<o;++s)l=e[s],u=t.map(i),c=a[u],c||(a[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const YP="bin";function vC(e){ye.call(this,null,e)}vC.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:YP}]};const Sne=(e,t)=>Dg(xo(e,t))/30;Ue(vC,ye,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=yC(t.source,e.groupby,li),i=e.smooth||!1,a=e.field,s=e.step||Sne(n,a),o=Yf((m,x)=>a(m)-a(x)),l=e.as||YP,u=r.length;let c=1/0,d=-1/0,p=0,g;for(;p<u;++p){const m=r[p].sort(o);g=-1;for(const x of CP(m,s,i,a))x<c&&(c=x),x>d&&(d=x),m[++g][l]=x}return this.value={start:c,stop:d,step:s},t.reflow(!0).modifies(l)}});function VP(e){rn.call(this,null,bne,e),this.modified(!0)}Ue(VP,rn);function bne(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:ta(n=>t(n,e),ri(t),Mn(t))}function _C(e){ye.call(this,[void 0,void 0],e)}_C.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Ue(_C,ye,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let a=n[0],s=n[1];if((i||a==null)&&(a=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,o=>{const l=ei(r(o));l!=null&&(l<a&&(a=l),l>s&&(s=l))}),!Number.isFinite(a)||!Number.isFinite(s)){let o=Mn(r);o&&(o=` for field "${o}"`),t.dataflow.warn(`Infinite extent${o}: [${a}, ${s}]`),a=s=void 0}this.value=[a,s]}});function wC(e,t){rn.call(this,e),this.parent=t,this.count=0}Ue(wC,rn,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function y_(e){ye.call(this,{},e),this._keys=dh();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Ue(y_,ye,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let a=qe(i,e)&&i[e],s,o;return a?a.value.stamp<n.stamp&&(a.init(n),this.activate(a)):(o=r||(o=this._group[e])&&o.tuple,s=n.dataflow,a=new wC(n.fork(n.NO_SOURCE),this),s.add(a).connect(t(s,e,o)),i[e]=a,this.activate(a)),a},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,a=this._keys,s=e.modified("key"),o=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=st(l),c=a.get(u);c!==void 0&&(a.delete(u),o(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);a.set(st(l),u),o(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=st(l),c=a.get(u),d=r(l);c===d?o(d).mod(l):(a.set(u,d),o(c).rem(l),o(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{o(a.get(st(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=st(l),c=a.get(u),d=r(l);c!==d&&(a.set(u,d),o(c).rem(l),o(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),a.clean()}):a.empty>n.cleanThreshold&&n.runAfter(a.clean),t}});function qP(e){rn.call(this,null,Ane,e)}Ue(qP,rn);function Ane(e){return this.value&&!e.modified()?this.value:ke(e.name)?Ve(e.name).map(t=>Ga(t)):Ga(e.name,e.as)}function EC(e){ye.call(this,dh(),e)}EC.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Ue(EC,ye,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),a=i.add,s=i.rem,o=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const p=st(d);r.has(p)?r.delete(p):s.push(d)}),t.visit(t.ADD,d=>{l(d,e)?a.push(d):r.set(st(d),1)});function c(d){const p=st(d),g=l(d,e),m=r.get(p);g&&m?(r.delete(p),a.push(d)):!g&&!m?(r.set(p,1),s.push(d)):u&&g&&!m&&o.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function kC(e){ye.call(this,[],e)}kC.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Ue(kC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=GP(r,e.as||[]),a=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,o=>{const l=r.map(m=>m(o)),u=l.reduce((m,x)=>Math.max(m,x.length),0);let c=0,d,p,g;for(;c<u;++c){for(p=Y3(o),d=0;d<s;++d)p[i[d]]=(g=l[d][c])==null?null:g;a&&(p[a]=c),n.add.push(p)}}),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)}});function SC(e){ye.call(this,[],e)}SC.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Ue(SC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Mn),a=e.as||["key","value"],s=a[0],o=a[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=Y3(u),d[s]=i[c],d[o]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(a)}});function bC(e){ye.call(this,null,e)}bC.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Ue(bC,ye,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,s=>s[r]=n(s,e))}});function XP(e){ye.call(this,[],e)}Ue(XP,ye,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,a=e.size-i.length,s,o,l;if(a>0){for(s=[];--a>=0;)s.push(l=jt(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else o=i.slice(0,-a),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,i=i.slice(-a);return n.source=this.value=i,n}});const Wx={value:"value",median:wL,mean:uZ,min:Jb,max:sf},Cne=[];function AC(e){ye.call(this,[],e)}AC.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Tne(e){var t=e.method||Wx.value,n;if(Wx[t]==null)ve("Unrecognized imputation method: "+t);else return t===Wx.value?(n=e.value!==void 0?e.value:0,()=>n):Wx[t]}function Fne(e){const t=e.field;return n=>n?t(n):NaN}Ue(AC,ye,{transform(e,t){var n=t.fork(t.ALL),r=Tne(e),i=Fne(e),a=Mn(e.field),s=Mn(e.key),o=(e.groupby||[]).map(Mn),l=One(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,p,g,m,x,v,_,E,k,A,T;for(v=0,k=l.length;v<k;++v)for(p=l[v],m=p.values,g=NaN,E=0;E<d;++E)if(p[E]==null){for(x=l.domain[E],T={_impute:!0},_=0,A=m.length;_<A;++_)T[o[_]]=m[_];T[s]=x,T[a]=Number.isNaN(g)?g=r(p,i):g,u.push(jt(T))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function One(e,t,n,r){var i=_=>_(v),a=[],s=r?r.slice():[],o={},l={},u,c,d,p,g,m,x,v;for(s.forEach((_,E)=>o[_]=E+1),p=0,x=e.length;p<x;++p)v=e[p],m=n(v),g=o[m]||(o[m]=s.push(m)),c=(u=t?t.map(i):Cne)+"",(d=l[c])||(d=l[c]=[],a.push(d),d.values=u),d[g-1]=v;return a.domain=s,a}function CC(e){zu.call(this,e)}CC.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Rg},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Ue(CC,zu,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(i=n.value=n.value||this.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),n.changes(),t.visit(t.SOURCE,a=>{wt(a,i[n.cellkey(a)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function TC(e){ye.call(this,null,e)}TC.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ue(TC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=yC(r,e.groupby,e.field),a=(e.groupby||[]).map(Mn),s=e.bandwidth,o=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,p=e.steps||e.maxsteps||200;o!=="pdf"&&o!=="cdf"&&ve("Invalid density method: "+o),e.resolve==="shared"&&(c||(c=xo(r,e.field)),d=p=e.steps||p),i.forEach(g=>{const m=eC(g,s)[o],x=e.counts?g.length:1,v=c||xo(g);x_(m,v,d,p).forEach(_=>{const E={};for(let k=0;k<a.length;++k)E[a[k]]=g.dims[k];E[l[0]]=_[0],E[l[1]]=_[1]*x,u.push(jt(E))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function KP(e){rn.call(this,null,Dne,e)}Ue(KP,rn);function Dne(e){return this.value&&!e.modified()?this.value:O3(e.fields,e.flat)}function JP(e){ye.call(this,[],e),this._pending=null}Ue(JP,ye,{transform(e,t){const n=t.dataflow;return this._pending?sS(this,t,this._pending):Nne(e)?t.StopPropagation:e.values?sS(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Ve(i.data),a=>a.touch(this)))}:n.request(e.url,e.format).then(r=>sS(this,t,Ve(r.data)))}});function Nne(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function sS(e,t,n){n.forEach(jt);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function FC(e){ye.call(this,{},e)}FC.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Ue(FC,ye,{transform(e,t){const n=e.fields,r=e.index,i=e.values,a=e.default==null?null:e.default,s=e.modified(),o=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,d,p,g;return i?(p=i.length,o>1&&!c&&ve('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==o*p&&ve('The "as" parameter has too few output field names.'),c=c||i.map(Mn),d=function(m){for(var x=0,v=0,_,E;x<o;++x)if(E=r.get(n[x](m)),E==null)for(_=0;_<p;++_,++v)m[c[v]]=a;else for(_=0;_<p;++_,++v)m[c[v]]=i[_](E)}):(c||ve("Missing output field names."),d=function(m){for(var x=0,v;x<o;++x)v=r.get(n[x](m)),m[c[x]]=v??a}),s?u=t.reflow(!0):(g=n.some(m=>t.modified(m.fields)),l|=g?t.MOD:0),t.visit(l,d),u.modifies(c)}});function QP(e){rn.call(this,null,Mne,e)}Ue(QP,rn);function Mne(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,a,s;for(a=0;a<n;++a)s=t[a],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function ZP(e){rn.call(this,null,Rne,e)}Ue(ZP,rn);function Rne(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function eB(e){ye.call(this,null,e)}Ue(eB,ye,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function OC(e){zu.call(this,e)}OC.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Rg,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Ue(OC,zu,{_transform:zu.prototype.transform,transform(e,t){return this._transform(Ine(e,t),t)}});function Ine(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",a=ri(n).concat(ri(r)),s=Lne(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(o=>$ne(o,n,r,a)),as:s.map(o=>o+""),modified:e.modified.bind(e)}}function $ne(e,t,n,r){return ta(i=>t(i)===e?n(i):NaN,r,e+"")}function Lne(e,t,n){const r={},i=[];return n.visit(n.SOURCE,a=>{const s=e(a);r[s]||(r[s]=1,i.push(s))}),i.sort(fh),t?i.slice(0,t):i}function tB(e){y_.call(this,e)}Ue(tB,y_,{transform(e,t){const n=e.subflow,r=e.field,i=a=>this.subflow(st(a),n,t,a);return(e.modified("field")||r&&t.modified(ri(r)))&&ve("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,a=>{const s=i(a);r(a).forEach(o=>s.mod(o))}),t.visit(t.ADD,a=>{const s=i(a);r(a).forEach(o=>s.add(jt(o)))}),t.visit(t.REM,a=>{const s=i(a);r(a).forEach(o=>s.rem(o))})):(t.visit(t.MOD,a=>i(a).mod(a)),t.visit(t.ADD,a=>i(a).add(a)),t.visit(t.REM,a=>i(a).rem(a))),t.clean()&&t.runAfter(()=>this.clean()),t}});function DC(e){ye.call(this,null,e)}DC.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Ue(DC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=GP(e.fields,e.as||[]),a=r?(o,l)=>Pne(o,l,r,i):c_;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,o=>{const l=st(o);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,o=>{const l=a(o,jt({}));s[st(o)]=l,n.add.push(l)}),t.visit(t.MOD,o=>{n.mod.push(a(o,s[st(o)]))}),n}});function Pne(e,t,n,r){for(let i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}function nB(e){ye.call(this,null,e)}Ue(nB,ye,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function NC(e){ye.call(this,null,e)}NC.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const Bne=1e-14;Ue(NC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,a=yC(i,e.groupby,e.field),s=(e.groupby||[]).map(Mn),o=[],l=e.step||.01,u=e.probs||pa(l/2,1-Bne,l),c=u.length;return a.forEach(d=>{const p=X3(d,u);for(let g=0;g<c;++g){const m={};for(let x=0;x<s.length;++x)m[s[x]]=d.dims[x];m[r[0]]=u[g],m[r[1]]=p[g],o.push(jt(m))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n}});function rB(e){ye.call(this,null,e)}Ue(rB,ye,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const a=st(i);n.rem.push(r[a]),r[a]=null}),t.visit(t.ADD,i=>{const a=Y3(i);r[st(i)]=a,n.add.push(a)}),t.visit(t.MOD,i=>{const a=r[st(i)];for(const s in i)a[s]=i[s],n.modifies(s);n.mod.push(a)})),n}});function MC(e){ye.call(this,[],e),this.count=0}MC.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Ue(MC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value.reduce((c,d)=>(c[st(d)]=1,c),{});let s=this.value,o=this.count,l=0;function u(c){let d,p;s.length<i?s.push(c):(p=~~((o+1)*qa()),p<s.length&&p>=l&&(d=s[p],a[st(d)]&&n.rem.push(d),s[p]=c)),++o}if(t.rem.length&&(t.visit(t.REM,c=>{const d=st(c);a[d]&&(a[d]=-1,n.rem.push(c)),--o}),s=s.filter(c=>a[st(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=o=s.length,t.visit(t.SOURCE,c=>{a[st(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let d=0;d<c;++d)a[st(s[d])]=-1,n.rem.push(s[d]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{a[st(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!a[st(c)])),this.count=o,this.value=n.source=s,n}});function RC(e){ye.call(this,null,e)}RC.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Ue(RC,ye,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=pa(e.start,e.stop,e.step||1).map(i=>{const a={};return a[r]=i,jt(a)}),n.add=t.add.concat(this.value),n}});function iB(e){ye.call(this,null,e),this.modified(!0)}Ue(iB,ye,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function IC(e){ye.call(this,null,e)}const aB=["unit0","unit1"];IC.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:L3,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:aB}]};Ue(IC,ye,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",a=this._floor(e,t),s=(i?xh:mh)(a.unit).offset,o=e.as||aB,l=o[0],u=o[1],c=a.step;let d=a.start||1/0,p=a.stop||-1/0,g=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(ri(n)))&&(t=t.reflow(!0),g=t.SOURCE,d=1/0,p=-1/0),t.visit(g,m=>{const x=n(m);let v,_;x==null?(m[l]=null,r&&(m[u]=null)):(m[l]=v=_=a(x),r&&(m[u]=_=s(v,c)),v<d&&(d=v),_>p&&(p=_))}),a.start=d,a.stop=p,t.modifies(r?o:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:XL({extent:e.extent||xo(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=P3(r),s=this.value||{},o=(n?zL:BL)(a,i);return o.unit=Dt(a),o.units=a,o.step=i,o.start=s.start,o.stop=s.stop,this.value=o}});function sB(e){ye.call(this,dh(),e)}Ue(sB,ye,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,a=o=>i.set(r(o),o);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,o=>i.delete(r(o))),t.visit(t.ADD,a)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function oB(e){ye.call(this,null,e)}Ue(oB,ye,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Yf(e.sort)):t.source).map(e.field))}});function zne(e,t,n,r){const i=q1[e](t,n);return{init:i.init||yu,update:function(a,s){s[r]=i.next(a)}}}const q1={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=q1.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||ve("ntile num must be greater than zero.");const n=q1.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||ve("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=Une(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function Une(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Wne=Object.keys(q1);function lB(e){const t=Ve(e.ops),n=Ve(e.fields),r=Ve(e.params),i=Ve(e.aggregate_params),a=Ve(e.as),s=this.outputs=[],o=this.windows=[],l={},u={},c=[],d=[];let p=!0;function g(m){Ve(ri(m)).forEach(x=>l[x]=1)}g(e.sort),t.forEach((m,x)=>{const v=n[x],_=r[x],E=i[x]||null,k=Mn(v),A=LP(m,k,a[x]);if(g(v),s.push(A),qe(q1,m))o.push(zne(m,v,_,A));else{if(v==null&&m!=="count"&&ve("Null aggregate field specified."),m==="count"){c.push(A);return}p=!1;let T=u[k];T||(T=u[k]=[],T.field=v,d.push(T)),T.push(PP(m,E,A))}}),(c.length||d.length)&&(this.cell=Hne(d,c,p)),this.inputs=Object.keys(l)}const uB=lB.prototype;uB.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};uB.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,a=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<a;++s)r[s].update(e,t)};function Hne(e,t,n){e=e.map(l=>zP(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),s=0;s<i;++s)a[s]=new e[s](r);if(r.store)var o=r.data=new dC;return r.add=function(l){if(r.num+=1,!n){o&&o.add(l);for(let u=0;u<i;++u)a[u].add(a[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){o&&o.rem(l);for(let u=0;u<i;++u)a[u].rem(a[u].get(l),l)}},r.set=function(l){let u,c;for(o&&o.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=a.length;u<c;++u)a[u].set(l)},r.init=function(){r.num=0,o&&o.reset();for(let l=0;l<i;++l)a[l].init()},r}function $C(e){ye.call(this,{},e),this._mlen=0,this._mods=[]}$C.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Wne.concat(Rg)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Ue($C,ye,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Yf(e.sort),i=lA(e.groupby),a=o=>this.group(i(o));let s=this.state;(!s||n)&&(s=this.state=new lB(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,o=>a(o).add(o))):(t.visit(t.REM,o=>a(o).remove(o)),t.visit(t.ADD,o=>a(o).add(o)));for(let o=0,l=this._mlen;o<l;++o)jne(this._mods[o],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=UP(st),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function jne(e,t,n,r){const i=r.sort,a=i&&!r.ignorePeers,s=r.frame||[null,0],o=e.data(n),l=o.length,u=a?hh(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:o,compare:i||ui(-1)};t.init();for(let d=0;d<l;++d)Gne(c,s,d,l),a&&Yne(c,u),t.update(c,o[d])}function Gne(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Yne(e,t){const n=e.i0,r=e.i1-1,i=e.compare,a=e.data,s=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<s&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}const Vne=Object.freeze(Object.defineProperty({__proto__:null,aggregate:zu,bin:hC,collect:pC,compare:WP,countpattern:gC,cross:mC,density:xC,dotbin:vC,expression:VP,extent:_C,facet:y_,field:qP,filter:EC,flatten:kC,fold:SC,formula:bC,generate:XP,impute:AC,joinaggregate:CC,kde:TC,key:KP,load:JP,lookup:FC,multiextent:QP,multivalues:ZP,params:eB,pivot:OC,prefacet:tB,project:DC,proxy:nB,quantile:NC,relay:rB,sample:MC,sequence:RC,sieve:iB,subflow:wC,timeunit:IC,tupleindex:sB,values:oB,window:$C},Symbol.toStringTag,{value:"Module"}));function Vt(e){return function(){return e}}const PN=Math.abs,Gr=Math.atan2,Mc=Math.cos,qne=Math.max,oS=Math.min,Ks=Math.sin,ef=Math.sqrt,qr=1e-12,Dd=Math.PI,mv=Dd/2,cB=2*Dd;function Xne(e){return e>1?0:e<-1?Dd:Math.acos(e)}function BN(e){return e>=1?mv:e<=-1?-mv:Math.asin(e)}const uA=Math.PI,cA=2*uA,Gc=1e-6,Kne=cA-Gc;function fB(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Jne(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fB;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let LC=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fB:Jne(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,c=s-t,d=o-n,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Gc)if(!(Math.abs(d*l-u*c)>Gc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-s,m=i-o,x=l*l+u*u,v=g*g+m*m,_=Math.sqrt(x),E=Math.sqrt(p),k=a*Math.tan((uA-Math.acos((x+p-v)/(2*_*E)))/2),A=k/E,T=k/_;Math.abs(A-1)>Gc&&this._append`L${t+A*c},${n+A*d}`,this._append`A${a},${a},0,0,${+(d*g>c*m)},${this._x1=t+T*l},${this._y1=n+T*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,c=n+l,d=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Gc||Math.abs(this._y1-c)>Gc)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%cA+cA),p>Kne?this._append`A${r},${r},0,1,${d},${t-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:p>Gc&&this._append`A${r},${r},0,${+(p>=uA)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function v_(){return new LC}v_.prototype=LC.prototype;function __(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new LC(t)}function Qne(e){return e.innerRadius}function Zne(e){return e.outerRadius}function ere(e){return e.startAngle}function tre(e){return e.endAngle}function nre(e){return e&&e.padAngle}function rre(e,t,n,r,i,a,s,o){var l=n-e,u=r-t,c=s-i,d=o-a,p=d*l-c*u;if(!(p*p<qr))return p=(c*(t-a)-d*(e-i))/p,[e+p*l,t+p*u]}function Hx(e,t,n,r,i,a,s){var o=e-n,l=t-r,u=(s?a:-a)/ef(o*o+l*l),c=u*l,d=-u*o,p=e+c,g=t+d,m=n+c,x=r+d,v=(p+m)/2,_=(g+x)/2,E=m-p,k=x-g,A=E*E+k*k,T=i-a,D=p*x-m*g,b=(k<0?-1:1)*ef(qne(0,T*T*A-D*D)),F=(D*k-E*b)/A,C=(-D*E-k*b)/A,N=(D*k+E*b)/A,R=(-D*E+k*b)/A,L=F-v,j=C-_,q=N-v,U=R-_;return L*L+j*j>q*q+U*U&&(F=N,C=R),{cx:F,cy:C,x01:-c,y01:-d,x11:F*(i/T-1),y11:C*(i/T-1)}}function ire(){var e=Qne,t=Zne,n=Vt(0),r=null,i=ere,a=tre,s=nre,o=null,l=__(u);function u(){var c,d,p=+e.apply(this,arguments),g=+t.apply(this,arguments),m=i.apply(this,arguments)-mv,x=a.apply(this,arguments)-mv,v=PN(x-m),_=x>m;if(o||(o=c=l()),g<p&&(d=g,g=p,p=d),!(g>qr))o.moveTo(0,0);else if(v>cB-qr)o.moveTo(g*Mc(m),g*Ks(m)),o.arc(0,0,g,m,x,!_),p>qr&&(o.moveTo(p*Mc(x),p*Ks(x)),o.arc(0,0,p,x,m,_));else{var E=m,k=x,A=m,T=x,D=v,b=v,F=s.apply(this,arguments)/2,C=F>qr&&(r?+r.apply(this,arguments):ef(p*p+g*g)),N=oS(PN(g-p)/2,+n.apply(this,arguments)),R=N,L=N,j,q;if(C>qr){var U=BN(C/p*Ks(F)),K=BN(C/g*Ks(F));(D-=U*2)>qr?(U*=_?1:-1,A+=U,T-=U):(D=0,A=T=(m+x)/2),(b-=K*2)>qr?(K*=_?1:-1,E+=K,k-=K):(b=0,E=k=(m+x)/2)}var ee=g*Mc(E),ne=g*Ks(E),z=p*Mc(T),ae=p*Ks(T);if(N>qr){var W=g*Mc(k),M=g*Ks(k),Y=p*Mc(A),Q=p*Ks(A),V;if(v<Dd)if(V=rre(ee,ne,Y,Q,W,M,z,ae)){var le=ee-V[0],we=ne-V[1],xe=W-V[0],ie=M-V[1],ue=1/Ks(Xne((le*xe+we*ie)/(ef(le*le+we*we)*ef(xe*xe+ie*ie)))/2),Se=ef(V[0]*V[0]+V[1]*V[1]);R=oS(N,(p-Se)/(ue-1)),L=oS(N,(g-Se)/(ue+1))}else R=L=0}b>qr?L>qr?(j=Hx(Y,Q,ee,ne,g,L,_),q=Hx(W,M,z,ae,g,L,_),o.moveTo(j.cx+j.x01,j.cy+j.y01),L<N?o.arc(j.cx,j.cy,L,Gr(j.y01,j.x01),Gr(q.y01,q.x01),!_):(o.arc(j.cx,j.cy,L,Gr(j.y01,j.x01),Gr(j.y11,j.x11),!_),o.arc(0,0,g,Gr(j.cy+j.y11,j.cx+j.x11),Gr(q.cy+q.y11,q.cx+q.x11),!_),o.arc(q.cx,q.cy,L,Gr(q.y11,q.x11),Gr(q.y01,q.x01),!_))):(o.moveTo(ee,ne),o.arc(0,0,g,E,k,!_)):o.moveTo(ee,ne),!(p>qr)||!(D>qr)?o.lineTo(z,ae):R>qr?(j=Hx(z,ae,W,M,p,-R,_),q=Hx(ee,ne,Y,Q,p,-R,_),o.lineTo(j.cx+j.x01,j.cy+j.y01),R<N?o.arc(j.cx,j.cy,R,Gr(j.y01,j.x01),Gr(q.y01,q.x01),!_):(o.arc(j.cx,j.cy,R,Gr(j.y01,j.x01),Gr(j.y11,j.x11),!_),o.arc(0,0,p,Gr(j.cy+j.y11,j.cx+j.x11),Gr(q.cy+q.y11,q.cx+q.x11),_),o.arc(q.cx,q.cy,R,Gr(q.y11,q.x11),Gr(q.y01,q.x01),!_))):o.arc(0,0,p,T,A,_)}if(o.closePath(),c)return o=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Dd/2;return[Mc(d)*c,Ks(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Vt(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Vt(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Vt(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Vt(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Vt(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Vt(+c),u):a},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Vt(+c),u):s},u.context=function(c){return arguments.length?(o=c??null,u):o},u}function dB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hB(e){this._context=e}hB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function PC(e){return new hB(e)}function pB(e){return e[0]}function gB(e){return e[1]}function mB(e,t){var n=Vt(!0),r=null,i=PC,a=null,s=__(o);e=typeof e=="function"?e:e===void 0?pB:Vt(e),t=typeof t=="function"?t:t===void 0?gB:Vt(t);function o(l){var u,c=(l=dB(l)).length,d,p=!1,g;for(r==null&&(a=i(g=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,u,l),+t(d,u,l));if(g)return a=null,g+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Vt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Vt(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Vt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function xB(e,t,n){var r=null,i=Vt(!0),a=null,s=PC,o=null,l=__(u);e=typeof e=="function"?e:e===void 0?pB:Vt(+e),t=typeof t=="function"?t:Vt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?gB:Vt(+n);function u(d){var p,g,m,x=(d=dB(d)).length,v,_=!1,E,k=new Array(x),A=new Array(x);for(a==null&&(o=s(E=l())),p=0;p<=x;++p){if(!(p<x&&i(v=d[p],p,d))===_)if(_=!_)g=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=p-1;m>=g;--m)o.point(k[m],A[m]);o.lineEnd(),o.areaEnd()}_&&(k[p]=+e(v,p,d),A[p]=+t(v,p,d),o.point(r?+r(v,p,d):k[p],n?+n(v,p,d):A[p]))}if(E)return o=null,E+""||null}function c(){return mB().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Vt(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Vt(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Vt(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Vt(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Vt(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Vt(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Vt(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}const are={draw(e,t){const n=ef(t/Dd);e.moveTo(n,0),e.arc(0,0,n,0,cB)}};function sre(e,t){let n=null,r=__(i);e=typeof e=="function"?e:Vt(e||are),t=typeof t=="function"?t:Vt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Vt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Vt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Uu(){}function xv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function w_(e){this._context=e}w_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ore(e){return new w_(e)}function yB(e){this._context=e}yB.prototype={areaStart:Uu,areaEnd:Uu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lre(e){return new yB(e)}function vB(e){this._context=e}vB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ure(e){return new vB(e)}function _B(e,t){this._basis=new w_(e),this._beta=t}_B.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,s=t[n]-i,o=-1,l;++o<=n;)l=o/n,this._basis.point(this._beta*e[o]+(1-this._beta)*(r+l*a),this._beta*t[o]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const cre=(function e(t){function n(r){return t===1?new w_(r):new _B(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function yv(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function BC(e,t){this._context=e,this._k=(1-t)/6}BC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:yv(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:yv(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const fre=(function e(t){function n(r){return new BC(r,t)}return n.tension=function(r){return e(+r)},n})(0);function zC(e,t){this._context=e,this._k=(1-t)/6}zC.prototype={areaStart:Uu,areaEnd:Uu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:yv(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const dre=(function e(t){function n(r){return new zC(r,t)}return n.tension=function(r){return e(+r)},n})(0);function UC(e,t){this._context=e,this._k=(1-t)/6}UC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yv(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hre=(function e(t){function n(r){return new UC(r,t)}return n.tension=function(r){return e(+r)},n})(0);function WC(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>qr){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>qr){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function wB(e,t){this._context=e,this._alpha=t}wB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:WC(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pre=(function e(t){function n(r){return t?new wB(r,t):new BC(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function EB(e,t){this._context=e,this._alpha=t}EB.prototype={areaStart:Uu,areaEnd:Uu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:WC(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gre=(function e(t){function n(r){return t?new EB(r,t):new zC(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function kB(e,t){this._context=e,this._alpha=t}kB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:WC(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mre=(function e(t){function n(r){return t?new kB(r,t):new UC(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function SB(e){this._context=e}SB.prototype={areaStart:Uu,areaEnd:Uu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xre(e){return new SB(e)}function zN(e){return e<0?-1:1}function UN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(zN(a)+zN(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function WN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function lS(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function vv(e){this._context=e}vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lS(this,this._t0,WN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lS(this,WN(this,n=UN(this,e,t)),n);break;default:lS(this,this._t0,n=UN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function bB(e){this._context=new AB(e)}(bB.prototype=Object.create(vv.prototype)).point=function(e,t){vv.prototype.point.call(this,t,e)};function AB(e){this._context=e}AB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function yre(e){return new vv(e)}function vre(e){return new bB(e)}function CB(e){this._context=e}CB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=HN(e),i=HN(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function HN(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function _re(e){return new CB(e)}function E_(e,t){this._context=e,this._t=t}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function wre(e){return new E_(e,.5)}function Ere(e){return new E_(e,0)}function kre(e){return new E_(e,1)}function Ru(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Sre=()=>typeof Image<"u"?Image:null;function To(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fA=Symbol("implicit");function HC(){var e=new sN,t=[],n=[],r=fA;function i(a){let s=e.get(a);if(s===void 0){if(r!==fA)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new sN;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return HC(t,n).unknown(r)},To.apply(i,arguments),i}function vh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ig(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rc(){}var vf=.7,Nd=1/vf,dd="\\s*([+-]?\\d+)\\s*",X1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bre=/^#([0-9a-f]{3,8})$/,Are=new RegExp(`^rgb\\(${dd},${dd},${dd}\\)$`),Cre=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),Tre=new RegExp(`^rgba\\(${dd},${dd},${dd},${X1}\\)$`),Fre=new RegExp(`^rgba\\(${co},${co},${co},${X1}\\)$`),Ore=new RegExp(`^hsl\\(${X1},${co},${co}\\)$`),Dre=new RegExp(`^hsla\\(${X1},${co},${co},${X1}\\)$`),jN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vh(rc,K1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GN,formatHex:GN,formatHex8:Nre,formatHsl:Mre,formatRgb:YN,toString:YN});function GN(){return this.rgb().formatHex()}function Nre(){return this.rgb().formatHex8()}function Mre(){return TB(this).formatHsl()}function YN(){return this.rgb().formatRgb()}function K1(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bre.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?VN(t):n===3?new gr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Are.exec(e))?new gr(t[1],t[2],t[3],1):(t=Cre.exec(e))?new gr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Tre.exec(e))?jx(t[1],t[2],t[3],t[4]):(t=Fre.exec(e))?jx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ore.exec(e))?KN(t[1],t[2]/100,t[3]/100,1):(t=Dre.exec(e))?KN(t[1],t[2]/100,t[3]/100,t[4]):jN.hasOwnProperty(e)?VN(jN[e]):e==="transparent"?new gr(NaN,NaN,NaN,0):null}function VN(e){return new gr(e>>16&255,e>>8&255,e&255,1)}function jx(e,t,n,r){return r<=0&&(e=t=n=NaN),new gr(e,t,n,r)}function jC(e){return e instanceof rc||(e=K1(e)),e?(e=e.rgb(),new gr(e.r,e.g,e.b,e.opacity)):new gr}function Wu(e,t,n,r){return arguments.length===1?jC(e):new gr(e,t,n,r??1)}function gr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vh(gr,Wu,Ig(rc,{brighter(e){return e=e==null?Nd:Math.pow(Nd,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vf:Math.pow(vf,e),new gr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gr(of(this.r),of(this.g),of(this.b),_v(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qN,formatHex:qN,formatHex8:Rre,formatRgb:XN,toString:XN}));function qN(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function Rre(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function XN(){const e=_v(this.opacity);return`${e===1?"rgb(":"rgba("}${of(this.r)}, ${of(this.g)}, ${of(this.b)}${e===1?")":`, ${e})`}`}function _v(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function of(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tf(e){return e=of(e),(e<16?"0":"")+e.toString(16)}function KN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ys(e,t,n,r)}function TB(e){if(e instanceof ys)return new ys(e.h,e.s,e.l,e.opacity);if(e instanceof rc||(e=K1(e)),!e)return new ys;if(e instanceof ys)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ys(s,o,l,e.opacity)}function wv(e,t,n,r){return arguments.length===1?TB(e):new ys(e,t,n,r??1)}function ys(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vh(ys,wv,Ig(rc,{brighter(e){return e=e==null?Nd:Math.pow(Nd,e),new ys(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vf:Math.pow(vf,e),new ys(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new gr(uS(e>=240?e-240:e+120,i,r),uS(e,i,r),uS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ys(JN(this.h),Gx(this.s),Gx(this.l),_v(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_v(this.opacity);return`${e===1?"hsl(":"hsla("}${JN(this.h)}, ${Gx(this.s)*100}%, ${Gx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JN(e){return e=(e||0)%360,e<0?e+360:e}function Gx(e){return Math.max(0,Math.min(1,e||0))}function uS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const FB=Math.PI/180,OB=180/Math.PI,Ev=18,DB=.96422,NB=1,MB=.82521,RB=4/29,hd=6/29,IB=3*hd*hd,Ire=hd*hd*hd;function $B(e){if(e instanceof fo)return new fo(e.l,e.a,e.b,e.opacity);if(e instanceof ul)return LB(e);e instanceof gr||(e=jC(e));var t=hS(e.r),n=hS(e.g),r=hS(e.b),i=cS((.2225045*t+.7168786*n+.0606169*r)/NB),a,s;return t===n&&n===r?a=s=i:(a=cS((.4360747*t+.3850649*n+.1430804*r)/DB),s=cS((.0139322*t+.0971045*n+.7141733*r)/MB)),new fo(116*i-16,500*(a-i),200*(i-s),e.opacity)}function kv(e,t,n,r){return arguments.length===1?$B(e):new fo(e,t,n,r??1)}function fo(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}vh(fo,kv,Ig(rc,{brighter(e){return new fo(this.l+Ev*(e??1),this.a,this.b,this.opacity)},darker(e){return new fo(this.l-Ev*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=DB*fS(t),e=NB*fS(e),n=MB*fS(n),new gr(dS(3.1338561*t-1.6168667*e-.4906146*n),dS(-.9787684*t+1.9161415*e+.033454*n),dS(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function cS(e){return e>Ire?Math.pow(e,1/3):e/IB+RB}function fS(e){return e>hd?e*e*e:IB*(e-RB)}function dS(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function hS(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $re(e){if(e instanceof ul)return new ul(e.h,e.c,e.l,e.opacity);if(e instanceof fo||(e=$B(e)),e.a===0&&e.b===0)return new ul(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*OB;return new ul(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Sv(e,t,n,r){return arguments.length===1?$re(e):new ul(e,t,n,r??1)}function ul(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function LB(e){if(isNaN(e.h))return new fo(e.l,0,0,e.opacity);var t=e.h*FB;return new fo(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}vh(ul,Sv,Ig(rc,{brighter(e){return new ul(this.h,this.c,this.l+Ev*(e??1),this.opacity)},darker(e){return new ul(this.h,this.c,this.l-Ev*(e??1),this.opacity)},rgb(){return LB(this).rgb()}}));var PB=-.14861,GC=1.78277,YC=-.29227,k_=-.90649,J1=1.97294,QN=J1*k_,ZN=J1*GC,eM=GC*YC-k_*PB;function Lre(e){if(e instanceof lf)return new lf(e.h,e.s,e.l,e.opacity);e instanceof gr||(e=jC(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(eM*r+QN*t-ZN*n)/(eM+QN-ZN),a=r-i,s=(J1*(n-i)-YC*a)/k_,o=Math.sqrt(s*s+a*a)/(J1*i*(1-i)),l=o?Math.atan2(s,a)*OB-120:NaN;return new lf(l<0?l+360:l,o,i,e.opacity)}function dA(e,t,n,r){return arguments.length===1?Lre(e):new lf(e,t,n,r??1)}function lf(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vh(lf,dA,Ig(rc,{brighter(e){return e=e==null?Nd:Math.pow(Nd,e),new lf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vf:Math.pow(vf,e),new lf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*FB,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new gr(255*(t+n*(PB*r+GC*i)),255*(t+n*(YC*r+k_*i)),255*(t+n*(J1*r)),this.opacity)}}));function BB(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function zB(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return BB((n-r/t)*t,s,i,a,o)}}function UB(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return BB((n-r/t)*t,i,a,s,o)}}const S_=e=>()=>e;function WB(e,t){return function(n){return e+n*t}}function Pre(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function b_(e,t){var n=t-e;return n?WB(e,n>180||n<-180?n-360*Math.round(n/360):n):S_(isNaN(e)?t:e)}function Bre(e){return(e=+e)==1?mr:function(t,n){return n-t?Pre(t,n,e):S_(isNaN(t)?n:t)}}function mr(e,t){var n=t-e;return n?WB(e,n):S_(isNaN(e)?t:e)}const hA=(function e(t){var n=Bre(t);function r(i,a){var s=n((i=Wu(i)).r,(a=Wu(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=mr(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r})(1);function HB(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=Wu(t[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=e(r),i=e(i),a=e(a),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=a(l),o+""}}}var zre=HB(zB),Ure=HB(UB);function VC(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function jB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wre(e,t){return(jB(t)?VC:GB)(e,t)}function GB(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ic(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function YB(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ms(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function VB(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ic(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var pA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pS=new RegExp(pA.source,"g");function Hre(e){return function(){return e}}function jre(e){return function(t){return e(t)+""}}function qB(e,t){var n=pA.lastIndex=pS.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=pA.exec(e))&&(i=pS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ms(r,i)})),n=pS.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?jre(l[0].x):Hre(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function ic(e,t){var n=typeof t,r;return t==null||n==="boolean"?S_(t):(n==="number"?ms:n==="string"?(r=K1(t))?(t=r,hA):qB:t instanceof K1?hA:t instanceof Date?YB:jB(t)?VC:Array.isArray(t)?GB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VB:ms)(e,t)}function Gre(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Yre(e,t){var n=b_(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function $g(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var tM=180/Math.PI,gA={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function XB(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*tM,skewX:Math.atan(l)*tM,scaleX:s,scaleY:o}}var Yx;function Vre(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gA:XB(t.a,t.b,t.c,t.d,t.e,t.f)}function qre(e){return e==null||(Yx||(Yx=document.createElementNS("http://www.w3.org/2000/svg","g")),Yx.setAttribute("transform",e),!(e=Yx.transform.baseVal.consolidate()))?gA:(e=e.matrix,XB(e.a,e.b,e.c,e.d,e.e,e.f))}function KB(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,d,p,g,m){if(u!==d||c!==p){var x=g.push("translate(",null,t,null,n);m.push({i:x-4,x:ms(u,d)},{i:x-2,x:ms(c,p)})}else(d||p)&&g.push("translate("+d+t+p+n)}function s(u,c,d,p){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ms(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function o(u,c,d,p){u!==c?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ms(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,p,g,m){if(u!==d||c!==p){var x=g.push(i(g)+"scale(",null,",",null,")");m.push({i:x-4,x:ms(u,d)},{i:x-2,x:ms(c,p)})}else(d!==1||p!==1)&&g.push(i(g)+"scale("+d+","+p+")")}return function(u,c){var d=[],p=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,d,p),s(u.rotate,c.rotate,d,p),o(u.skewX,c.skewX,d,p),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,p),u=c=null,function(g){for(var m=-1,x=p.length,v;++m<x;)d[(v=p[m]).i]=v.x(g);return d.join("")}}}var Xre=KB(Vre,"px, ","px)","deg)"),Kre=KB(qre,", ",")",")"),Jre=1e-12;function nM(e){return((e=Math.exp(e))+1/e)/2}function Qre(e){return((e=Math.exp(e))-1/e)/2}function Zre(e){return((e=Math.exp(2*e))-1)/(e+1)}const eie=(function e(t,n,r){function i(a,s){var o=a[0],l=a[1],u=a[2],c=s[0],d=s[1],p=s[2],g=c-o,m=d-l,x=g*g+m*m,v,_;if(x<Jre)_=Math.log(p/u)/t,v=function(b){return[o+b*g,l+b*m,u*Math.exp(t*b*_)]};else{var E=Math.sqrt(x),k=(p*p-u*u+r*x)/(2*u*n*E),A=(p*p-u*u-r*x)/(2*p*n*E),T=Math.log(Math.sqrt(k*k+1)-k),D=Math.log(Math.sqrt(A*A+1)-A);_=(D-T)/t,v=function(b){var F=b*_,C=nM(T),N=u/(n*E)*(C*Zre(t*F+T)-Qre(T));return[o+N*g,l+N*m,u*C/nM(t*F+T)]}}return v.duration=_*1e3*t/Math.SQRT2,v}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return e(s,o,l)},i})(Math.SQRT2,2,4);function JB(e){return function(t,n){var r=e((t=wv(t)).h,(n=wv(n)).h),i=mr(t.s,n.s),a=mr(t.l,n.l),s=mr(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const tie=JB(b_);var nie=JB(mr);function rie(e,t){var n=mr((e=kv(e)).l,(t=kv(t)).l),r=mr(e.a,t.a),i=mr(e.b,t.b),a=mr(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function QB(e){return function(t,n){var r=e((t=Sv(t)).h,(n=Sv(n)).h),i=mr(t.c,n.c),a=mr(t.l,n.l),s=mr(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const iie=QB(b_);var aie=QB(mr);function ZB(e){return(function t(n){n=+n;function r(i,a){var s=e((i=dA(i)).h,(a=dA(a)).h),o=mr(i.s,a.s),l=mr(i.l,a.l),u=mr(i.opacity,a.opacity);return function(c){return i.h=s(c),i.s=o(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r})(1)}const sie=ZB(b_);var oie=ZB(mr);function qC(e,t){t===void 0&&(t=e,e=ic);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function lie(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const uie=Object.freeze(Object.defineProperty({__proto__:null,interpolate:ic,interpolateArray:Wre,interpolateBasis:zB,interpolateBasisClosed:UB,interpolateCubehelix:sie,interpolateCubehelixLong:oie,interpolateDate:YB,interpolateDiscrete:Gre,interpolateHcl:iie,interpolateHclLong:aie,interpolateHsl:tie,interpolateHslLong:nie,interpolateHue:Yre,interpolateLab:rie,interpolateNumber:ms,interpolateNumberArray:VC,interpolateObject:VB,interpolateRgb:hA,interpolateRgbBasis:zre,interpolateRgbBasisClosed:Ure,interpolateRound:$g,interpolateString:qB,interpolateTransformCss:Xre,interpolateTransformSvg:Kre,interpolateZoom:eie,piecewise:qC,quantize:lie},Symbol.toStringTag,{value:"Module"}));function cie(e){return function(){return e}}function mA(e){return+e}var rM=[0,1];function Vi(e){return e}function xA(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cie(isNaN(t)?NaN:.5)}function fie(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function die(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=xA(i,r),a=n(s,a)):(r=xA(r,i),a=n(a,s)),function(o){return a(r(o))}}function hie(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=xA(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Pu(e,o,1,r)-1;return a[l](i[l](o))}}function Lg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function A_(){var e=rM,t=rM,n=ic,r,i,a,s=Vi,o,l,u;function c(){var p=Math.min(e.length,t.length);return s!==Vi&&(s=fie(e[0],e[p-1])),o=p>2?hie:die,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(r),t,n)))(r(s(p)))}return d.invert=function(p){return s(i((u||(u=o(t,e.map(r),ms)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,mA),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),n=$g,c()},d.clamp=function(p){return arguments.length?(s=p?!0:Vi,c()):s!==Vi},d.interpolate=function(p){return arguments.length?(n=p,c()):n},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,g){return r=p,i=g,c()}}function ez(){return A_()(Vi,Vi)}function tz(e,t,n,r){var i=Bu(e,t,n),a;switch(r=yf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=CL(i,s))&&(r.precision=a),I3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=TL(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=AL(i))&&(r.precision=a-(r.type==="%")*2);break}}return t_(r)}function qf(e){var t=e.domain;return e.ticks=function(n){var r=t();return Xb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return tz(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Kb(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function nz(){var e=ez();return e.copy=function(){return Lg(e,nz())},To.apply(e,arguments),qf(e)}function rz(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,mA),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return rz(e).unknown(t)},e=arguments.length?Array.from(e,mA):[0,1],qf(n)}function iz(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function iM(e){return Math.log(e)}function aM(e){return Math.exp(e)}function pie(e){return-Math.log(-e)}function gie(e){return-Math.exp(-e)}function mie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xie(e){return e===10?mie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sM(e){return(t,n)=>-e(-t,n)}function XC(e){const t=e(iM,aM),n=t.domain;let r=10,i,a;function s(){return i=yie(r),a=xie(r),n()[0]<0?(i=sM(i),a=sM(a),e(pie,gie)):e(iM,aM),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),g=i(c),m,x;const v=o==null?10:+o;let _=[];if(!(r%1)&&g-p<v){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(m=1;m<r;++m)if(x=p<0?m/a(-p):m*a(p),!(x<u)){if(x>c)break;_.push(x)}}else for(;p<=g;++p)for(m=r-1;m>=1;--m)if(x=p>0?m/a(-p):m*a(p),!(x<u)){if(x>c)break;_.push(x)}_.length*2<v&&(_=Xb(u,c,v))}else _=Xb(p,g,Math.min(g-p,v)).map(a);return d?_.reverse():_},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=yf(l)).precision==null&&(l.trim=!0),l=t_(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(iz(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function az(){const e=XC(A_()).domain([1,10]);return e.copy=()=>Lg(e,az()).base(e.base()),To.apply(e,arguments),e}function oM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function KC(e){var t=1,n=e(oM(t),lM(t));return n.constant=function(r){return arguments.length?e(oM(t=+r),lM(t)):t},qf(n)}function sz(){var e=KC(A_());return e.copy=function(){return Lg(e,sz()).constant(e.constant())},To.apply(e,arguments)}function uM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _ie(e){return e<0?-e*e:e*e}function JC(e){var t=e(Vi,Vi),n=1;function r(){return n===1?e(Vi,Vi):n===.5?e(vie,_ie):e(uM(n),uM(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},qf(t)}function QC(){var e=JC(A_());return e.copy=function(){return Lg(e,QC()).exponent(e.exponent())},To.apply(e,arguments),e}function wie(){return QC.apply(null,arguments).exponent(.5)}function oz(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=_L(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Pu(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(hl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return oz().domain(e).range(t).unknown(r)},To.apply(a,arguments)}function lz(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Pu(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return lz().domain([e,t]).range(i).unknown(a)},To.apply(qf(s),arguments)}function uz(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Pu(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return uz().domain(e).range(t).unknown(n)},To.apply(i,arguments)}function Eie(e){return new Date(e)}function kie(e){return e instanceof Date?+e:+new Date(+e)}function ZC(e,t,n,r,i,a,s,o,l,u){var c=ez(),d=c.invert,p=c.domain,g=u(".%L"),m=u(":%S"),x=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),E=u("%b %d"),k=u("%B"),A=u("%Y");function T(D){return(l(D)<D?g:o(D)<D?m:s(D)<D?x:a(D)<D?v:r(D)<D?i(D)<D?_:E:n(D)<D?k:A)(D)}return c.invert=function(D){return new Date(d(D))},c.domain=function(D){return arguments.length?p(Array.from(D,kie)):p().map(Eie)},c.ticks=function(D){var b=p();return e(b[0],b[b.length-1],D??10)},c.tickFormat=function(D,b){return b==null?T:u(b)},c.nice=function(D){var b=p();return(!D||typeof D.range!="function")&&(D=t(b[0],b[b.length-1],D??10)),D?p(iz(b,D)):c},c.copy=function(){return Lg(c,ZC(e,t,n,r,i,a,s,o,l,u))},c}function Sie(){return To.apply(ZC(DZ,NZ,yo,j1,ph,pl,i_,n_,ll,z3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bie(){return To.apply(ZC(FZ,OZ,vo,G1,gh,Nu,a_,r_,ll,U3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function C_(){var e=0,t=1,n,r,i,a,s=Vi,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(p){var g,m;return arguments.length?([g,m]=p,s=d(g,m),u):[s(0),s(1)]}}return u.range=c(ic),u.rangeRound=c($g),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function ac(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eT(){var e=qf(C_()(Vi));return e.copy=function(){return ac(e,eT())},nc.apply(e,arguments)}function cz(){var e=XC(C_()).domain([1,10]);return e.copy=function(){return ac(e,cz()).base(e.base())},nc.apply(e,arguments)}function fz(){var e=KC(C_());return e.copy=function(){return ac(e,fz()).constant(e.constant())},nc.apply(e,arguments)}function tT(){var e=JC(C_());return e.copy=function(){return ac(e,tT()).exponent(e.exponent())},nc.apply(e,arguments)}function Aie(){return tT.apply(null,arguments).exponent(.5)}function T_(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=Vi,c,d=!1,p;function g(x){return isNaN(x=+x)?p:(x=.5+((x=+c(x))-a)*(r*x<r*a?o:l),u(d?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,n]=x,i=c(e=+e),a=c(t=+t),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,g):[e,t,n]},g.clamp=function(x){return arguments.length?(d=!!x,g):d},g.interpolator=function(x){return arguments.length?(u=x,g):u};function m(x){return function(v){var _,E,k;return arguments.length?([_,E,k]=v,u=qC(x,[_,E,k]),g):[u(0),u(.5),u(1)]}}return g.range=m(ic),g.rangeRound=m($g),g.unknown=function(x){return arguments.length?(p=x,g):p},function(x){return c=x,i=x(e),a=x(t),s=x(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,g}}function dz(){var e=qf(T_()(Vi));return e.copy=function(){return ac(e,dz())},nc.apply(e,arguments)}function hz(){var e=XC(T_()).domain([.1,1,10]);return e.copy=function(){return ac(e,hz()).base(e.base())},nc.apply(e,arguments)}function pz(){var e=KC(T_());return e.copy=function(){return ac(e,pz()).constant(e.constant())},nc.apply(e,arguments)}function nT(){var e=JC(T_());return e.copy=function(){return ac(e,nT()).exponent(e.exponent())},nc.apply(e,arguments)}function Cie(){return nT.apply(null,arguments).exponent(.5)}function Fo(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Tie=Fo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Fie=Fo("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Oie=Fo("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Die=Fo("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Nie=Fo("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Mie=Fo("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Rie=Fo("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Iie=Fo("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),$ie=Fo("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Lie=Fo("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function rT(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const Pie="identity",Md="linear",Sl="log",Pg="pow",Bg="sqrt",F_="symlog",_f="time",wf="utc",ho="sequential",_h="diverging",Rd="quantile",O_="quantize",D_="threshold",iT="ordinal",yA="point",gz="band",aT="bin-ordinal",lr="continuous",zg="discrete",Ug="discretizing",Za="interpolating",sT="temporal";function Bie(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function zie(e){return function(t){const n=e.range();let r=t[0],i=t[1],a=-1,s,o,l,u;for(i<r&&(o=r,r=i,i=o),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(a<0&&(a=l),s=l);if(!(a<0))return r=e.invertExtent(n[a]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function oT(){const e=HC().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,a,s=!1,o=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,p=r[1]<r[0],g=r[1-p],m=rT(d,o,l);let x=r[p-0];i=(g-x)/(m||1),s&&(i=Math.floor(i)),x+=(g-x-i*(d-o))*u,a=i*(1-o),s&&(x=Math.round(x),a=Math.round(a));const v=pa(d).map(_=>x+i*_);return n(p?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,c()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),o=l,c()):o},e.paddingInner=function(d){return arguments.length?(o=Math.max(0,Math.min(1,d)),c()):o},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const p=r[1]<r[0],g=p?n().reverse():n(),m=g.length-1;let x=+d[0],v=+d[1],_,E,k;if(!(x!==x||v!==v)&&(v<x&&(k=x,x=v,v=k),!(v<g[0]||x>r[1-p])))return _=Math.max(0,Pu(g,x)-1),E=x===v?_:Pu(g,v)-1,x-g[_]>a+1e-10&&++_,p&&(k=_,_=m-E,E=m-k),_>E?void 0:t().slice(_,E+1)},e.invert=function(d){const p=e.invertRange([d,d]);return p&&p[0]},e.copy=function(){return oT().domain(t()).range(r).round(s).paddingInner(o).paddingOuter(l).align(u)},c()}function mz(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return mz(t())},e}function Uie(){return mz(oT().paddingInner(1))}var Wie=Array.prototype.map;function Hie(e){return Wie.call(e,ei)}const jie=Array.prototype.slice;function xz(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Pu(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=Hie(r),n):e.slice()},n.range=function(r){return arguments.length?(t=jie.call(r),n):t.slice()},n.tickFormat=function(r,i){return tz(e[0],Dt(e),r??10,i)},n.copy=function(){return xz().domain(n.domain()).range(n.range())},n}const bv=new Map,yz=Symbol("vega_scale");function vz(e){return e[yz]=!0,e}function cM(e){return e&&e[yz]===!0}function Gie(e,t,n){const r=function(){const a=t();return a.invertRange||(a.invertRange=a.invert?Bie(a):a.invertExtent?zie(a):void 0),a.type=e,vz(a)};return r.metadata=Os(Ve(n)),r}function Ht(e,t,n){return arguments.length>1?(bv.set(e,Gie(e,t,n)),this):_z(e)?bv.get(e):void 0}Ht(Pie,rz);Ht(Md,nz,lr);Ht(Sl,az,[lr,Sl]);Ht(Pg,QC,lr);Ht(Bg,wie,lr);Ht(F_,sz,lr);Ht(_f,Sie,[lr,sT]);Ht(wf,bie,[lr,sT]);Ht(ho,eT,[lr,Za]);Ht(`${ho}-${Md}`,eT,[lr,Za]);Ht(`${ho}-${Sl}`,cz,[lr,Za,Sl]);Ht(`${ho}-${Pg}`,tT,[lr,Za]);Ht(`${ho}-${Bg}`,Aie,[lr,Za]);Ht(`${ho}-${F_}`,fz,[lr,Za]);Ht(`${_h}-${Md}`,dz,[lr,Za]);Ht(`${_h}-${Sl}`,hz,[lr,Za,Sl]);Ht(`${_h}-${Pg}`,nT,[lr,Za]);Ht(`${_h}-${Bg}`,Cie,[lr,Za]);Ht(`${_h}-${F_}`,pz,[lr,Za]);Ht(Rd,oz,[Ug,Rd]);Ht(O_,lz,Ug);Ht(D_,uz,Ug);Ht(aT,xz,[zg,Ug]);Ht(iT,HC,zg);Ht(gz,oT,zg);Ht(yA,Uie,zg);function _z(e){return bv.has(e)}function Xf(e,t){const n=bv.get(e);return n&&n.metadata[t]}function lT(e){return Xf(e,lr)}function Id(e){return Xf(e,zg)}function vA(e){return Xf(e,Ug)}function wz(e){return Xf(e,Sl)}function Yie(e){return Xf(e,sT)}function Ez(e){return Xf(e,Za)}function kz(e){return Xf(e,Rd)}const Vie=["clamp","base","constant","exponent"];function Sz(e,t){const n=t[0],r=Dt(t)-n;return function(i){return e(n+i*r)}}function N_(e,t,n){return qC(uT(t||"rgb",n),e)}function bz(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Az(e,t,n){const r=n-t;let i,a,s;return!r||!Number.isFinite(r)?ui(.5):(i=(a=e.type).indexOf("-"),a=i<0?a:a.slice(i+1),s=Ht(a)().domain([t,n]).range([0,1]),Vie.forEach(o=>e[o]?s[o](e[o]()):0),s)}function uT(e,t){const n=uie[qie(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function qie(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const Xie={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Kie={accent:Fie,category10:Tie,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:Oie,observable10:Die,paired:Nie,pastel1:Mie,pastel2:Rie,set1:Iie,set2:$ie,set3:Lie,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function Cz(e){if(ke(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function Tz(e,t){for(const n in e)cT(n,t(e[n]))}const fM={};Tz(Kie,Cz);Tz(Xie,e=>N_(Cz(e)));function cT(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(fM[e]=t,this):fM[e]}const Ly="symbol",Jie="discrete",Qie="gradient",Zie=e=>ke(e)?e.map(t=>String(t)):String(e),eae=(e,t)=>e[1]-t[1],tae=(e,t)=>t[1]-e[1];function fT(e,t,n){let r;return Ut(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(Dg(e.domain())/n||1)+1))),Ge(t)&&(r=t.step,t=t.interval),Ye(t)&&(t=e.type===_f?mh(t):e.type==wf?xh(t):ve("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Fz(e,t,n){let r=e.range(),i=r[0],a=Dt(r),s=eae;if(i>a&&(r=a,a=i,i=r,s=tae),i=Math.floor(i),a=Math.ceil(a),t=t.map(o=>[o,e(o)]).filter(o=>i<=o[1]&&o[1]<=a).sort(s).map(o=>o[0]),n>0&&t.length>1){const o=[t[0],Dt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=o)}return t}function dT(e,t){return e.bins?Fz(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function Oz(e,t,n,r,i,a){const s=t.type;let o=Zie;if(s===_f||i===_f)o=e.timeFormat(r);else if(s===wf||i===wf)o=e.utcFormat(r);else if(wz(s)){const l=e.formatFloat(r);if(a||t.bins)o=l;else{const u=Dz(t,n,!1);o=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();o=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(o=e.format(r));return o}function Dz(e,t,n){const r=dT(e,t),i=e.base(),a=Math.log(i),s=Math.max(1,i*t/r.length),o=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/a));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(o):o}const _A={[Rd]:"quantiles",[O_]:"thresholds",[D_]:"domain"},Nz={[Rd]:"quantiles",[O_]:"domain"};function Mz(e,t){return e.bins?iae(e.bins):e.type===Sl?Dz(e,t,!0):_A[e.type]?rae(e[_A[e.type]]()):dT(e,t)}function nae(e,t,n){const r=t[Nz[t.type]](),i=r.length;let a=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)a=Math.min(a,r[s]-r[s-1]);return e.formatSpan(0,a,30,n)}function rae(e){const t=[-1/0].concat(e);return t.max=1/0,t}function iae(e){const t=e.slice(0,-1);return t.max=Dt(e),t}const aae=e=>_A[e.type]||e.bins;function Rz(e,t,n,r,i,a,s){const o=Nz[t.type]&&a!==_f&&a!==wf?nae(e,t,i):Oz(e,t,n,i,a,s);return r===Ly&&aae(t)?sae(o):r===Jie?oae(o):lae(o)}const sae=e=>(t,n,r)=>{const i=dM(r[n+1],dM(r.max,1/0)),a=hM(t,e),s=hM(i,e);return a&&s?a+"  "+s:s?"< "+s:" "+a},dM=(e,t)=>e??t,oae=e=>(t,n)=>n?e(t):null,lae=e=>t=>e(t),hM=(e,t)=>Number.isFinite(e)?t(e):null;function uae(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Dt(t),a=i-r;if(e.type===D_){const s=n?a/n:.1;r-=s,i+=s,a=i-r}return s=>(s-r)/a}function cae(e,t,n,r){const i=r||t.type;return Ye(n)&&Yie(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===_f?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===wf?e.utcFormat("%A, %d %B %Y, %X UTC"):Rz(e,t,5,null,n,r,!0)}function Iz(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=cae(e,t,n.format,n.formatType);if(vA(t.type)){const a=Mz(t).slice(1).map(i),s=a.length;return`${s} boundar${s===1?"y":"ies"}: ${a.join(", ")}`}else if(Id(t.type)){const a=t.domain(),s=a.length,o=s>r?a.slice(0,r-2).map(i).join(", ")+", ending with "+a.slice(-1).map(i):a.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${o}`}else{const a=t.domain();return`values from ${i(a[0])} to ${i(Dt(a))}`}}let $z=0;function fae(){$z=0}const Av="p_";function hT(e){return e&&e.gradient}function Lz(e,t,n){const r=e.gradient;let i=e.id,a=r==="radial"?Av:"";return i||(i=e.id="gradient_"+$z++,r==="radial"?(e.x1=Js(e.x1,.5),e.y1=Js(e.y1,.5),e.r1=Js(e.r1,0),e.x2=Js(e.x2,.5),e.y2=Js(e.y2,.5),e.r2=Js(e.r2,.5),a=Av):(e.x1=Js(e.x1,0),e.y1=Js(e.y1,0),e.x2=Js(e.x2,1),e.y2=Js(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+a+i+")"}function Js(e,t){return e??t}function Pz(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,a){return n.push({offset:i,color:a}),r}}}const pM={basis:{curve:ore},"basis-closed":{curve:lre},"basis-open":{curve:ure},bundle:{curve:cre,tension:"beta",value:.85},cardinal:{curve:fre,tension:"tension",value:0},"cardinal-open":{curve:hre,tension:"tension",value:0},"cardinal-closed":{curve:dre,tension:"tension",value:0},"catmull-rom":{curve:pre,tension:"alpha",value:.5},"catmull-rom-closed":{curve:gre,tension:"alpha",value:.5},"catmull-rom-open":{curve:mre,tension:"alpha",value:.5},linear:{curve:PC},"linear-closed":{curve:xre},monotone:{horizontal:vre,vertical:yre},natural:{curve:_re},step:{curve:wre},"step-after":{curve:kre},"step-before":{curve:Ere}};function pT(e,t,n){var r=qe(pM,e)&&pM[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const dae={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},hae=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,pae=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,gae=/^((\s+,?\s*)|(,\s*))/,mae=/^[01]/;function $d(e){const t=[];return(e.match(hae)||[]).forEach(r=>{let i=r[0];const a=i.toLowerCase(),s=dae[a],o=xae(a,s,r.slice(1).trim()),l=o.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...o.slice(0,s)]),l!==s){a==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...o.slice(u,u+s)])}}),t}function xae(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let a=0;a<t;++a){const s=e==="a"&&(a===3||a===4)?mae:pae,o=n.slice(i).match(s);if(o===null)throw Error("Invalid SVG path, incorrect parameter type");i+=o[0].length,r.push(+o[0]);const l=n.slice(i).match(gae);l!==null&&(i+=l[0].length)}return r}const Hu=Math.PI/180,yae=1e-14,Xc=Math.PI/2,ao=Math.PI*2,W0=Math.sqrt(3)/2;var gS={},mS={},Bz=[].join;function vae(e,t,n,r,i,a,s,o,l){const u=Bz.call(arguments);if(gS[u])return gS[u];const c=s*Hu,d=Math.sin(c),p=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const g=p*(o-e)*.5+d*(l-t)*.5,m=p*(l-t)*.5-d*(o-e)*.5;let x=g*g/(n*n)+m*m/(r*r);x>1&&(x=Math.sqrt(x),n*=x,r*=x);const v=p/n,_=d/n,E=-d/r,k=p/r,A=v*o+_*l,T=E*o+k*l,D=v*e+_*t,b=E*e+k*t;let C=1/((D-A)*(D-A)+(b-T)*(b-T))-.25;C<0&&(C=0);let N=Math.sqrt(C);a==i&&(N=-N);const R=.5*(A+D)-N*(b-T),L=.5*(T+b)+N*(D-A),j=Math.atan2(T-L,A-R);let U=Math.atan2(b-L,D-R)-j;U<0&&a===1?U+=ao:U>0&&a===0&&(U-=ao);const K=Math.ceil(Math.abs(U/(Xc+.001))),ee=[];for(let ne=0;ne<K;++ne){const z=j+ne*U/K,ae=j+(ne+1)*U/K;ee[ne]=[R,L,z,ae,n,r,d,p]}return gS[u]=ee}function _ae(e){const t=Bz.call(e);if(mS[t])return mS[t];var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],u=e[7];const c=u*s,d=-l*o,p=l*s,g=u*o,m=Math.cos(i),x=Math.sin(i),v=Math.cos(a),_=Math.sin(a),E=.5*(a-i),k=Math.sin(E*.5),A=8/3*k*k/Math.sin(E),T=n+m-A*x,D=r+x+A*m,b=n+v,F=r+_,C=b+A*_,N=F-A*v;return mS[t]=[c*T+d*D,p*T+g*D,c*C+d*N,p*C+g*N,c*b+d*F,p*b+g*F]}const Na=["l",0,0,0,0,0,0,0];function wae(e,t,n){const r=Na[0]=e[0];if(r==="a"||r==="A")Na[1]=t*e[1],Na[2]=n*e[2],Na[3]=e[3],Na[4]=e[4],Na[5]=e[5],Na[6]=t*e[6],Na[7]=n*e[7];else if(r==="h"||r==="H")Na[1]=t*e[1];else if(r==="v"||r==="V")Na[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)Na[i]=(i%2==1?t:n)*e[i];return Na}function Q1(e,t,n,r,i,a){var s,o=null,l=0,u=0,c=0,d=0,p,g,m,x,v=0,_=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),a==null&&(a=i),e.beginPath&&e.beginPath();for(var E=0,k=t.length;E<k;++E){switch(s=t[E],(i!==1||a!==1)&&(s=wae(s,i,a)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],v=l,_=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],v=l,_=u,e.moveTo(l+n,u+r);break;case"c":p=l+s[5],g=u+s[6],c=l+s[3],d=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,d+r,p+n,g+r),l=p,u=g;break;case"C":l=s[5],u=s[6],c=s[3],d=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,d+r,l+n,u+r);break;case"s":p=l+s[3],g=u+s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+s[1]+n,u+s[2]+r,p+n,g+r),c=l+s[1],d=u+s[2],l=p,u=g;break;case"S":p=s[3],g=s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,s[1]+n,s[2]+r,p+n,g+r),l=p,u=g,c=s[1],d=s[2];break;case"q":p=l+s[3],g=u+s[4],c=l+s[1],d=u+s[2],e.quadraticCurveTo(c+n,d+r,p+n,g+r),l=p,u=g;break;case"Q":p=s[3],g=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,p+n,g+r),l=p,u=g,c=s[1],d=s[2];break;case"t":p=l+s[1],g=u+s[2],o[0].match(/[QqTt]/)===null?(c=l,d=u):o[0]==="t"?(c=2*l-m,d=2*u-x):o[0]==="q"&&(c=2*l-c,d=2*u-d),m=c,x=d,e.quadraticCurveTo(c+n,d+r,p+n,g+r),l=p,u=g,c=l+s[1],d=u+s[2];break;case"T":p=s[1],g=s[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,p+n,g+r),l=p,u=g;break;case"a":gM(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":gM(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=v,u=_,e.closePath();break}o=s}}function gM(e,t,n,r){const i=vae(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let a=0;a<i.length;++a){const s=_ae(i[a]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const mM=.5773502691896257,xM={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,ao)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=W0*n,i=r-n*mM,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=W0*n,i=r-n*mM;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=W0*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=W0*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=W0*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=W0*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function zz(e){return qe(xM,e)?xM[e]:Eae(e)}var xS={};function Eae(e){if(!qe(xS,e)){const t=$d(e);xS[e]={draw:function(n,r){Q1(n,t,0,0,Math.sqrt(r)/2)}}}return xS[e]}const lu=.448084975506;function kae(e){return e.x}function Sae(e){return e.y}function bae(e){return e.width}function Aae(e){return e.height}function Jo(e){return typeof e=="function"?e:()=>+e}function Vx(e,t,n){return Math.max(t,Math.min(e,n))}function Uz(){var e=kae,t=Sae,n=bae,r=Aae,i=Jo(0),a=i,s=i,o=i,l=null;function u(c,d,p){var g,m=d??+e.call(this,c),x=p??+t.call(this,c),v=+n.call(this,c),_=+r.call(this,c),E=Math.min(v,_)/2,k=Vx(+i.call(this,c),0,E),A=Vx(+a.call(this,c),0,E),T=Vx(+s.call(this,c),0,E),D=Vx(+o.call(this,c),0,E);if(l||(l=g=v_()),k<=0&&A<=0&&T<=0&&D<=0)l.rect(m,x,v,_);else{var b=m+v,F=x+_;l.moveTo(m+k,x),l.lineTo(b-A,x),l.bezierCurveTo(b-lu*A,x,b,x+lu*A,b,x+A),l.lineTo(b,F-D),l.bezierCurveTo(b,F-lu*D,b-lu*D,F,b-D,F),l.lineTo(m+T,F),l.bezierCurveTo(m+lu*T,F,m,F-lu*T,m,F-T),l.lineTo(m,x+k),l.bezierCurveTo(m,x+lu*k,m+lu*k,x,m+k,x),l.closePath()}if(g)return l=null,g+""||null}return u.x=function(c){return arguments.length?(e=Jo(c),u):e},u.y=function(c){return arguments.length?(t=Jo(c),u):t},u.width=function(c){return arguments.length?(n=Jo(c),u):n},u.height=function(c){return arguments.length?(r=Jo(c),u):r},u.cornerRadius=function(c,d,p,g){return arguments.length?(i=Jo(c),a=d!=null?Jo(d):i,o=p!=null?Jo(p):i,s=g!=null?Jo(g):a,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function Wz(){var e,t,n,r,i=null,a,s,o,l;function u(d,p,g){const m=g/2;if(a){var x=o-p,v=d-s;if(x||v){var _=Math.hypot(x,v),E=(x/=_)*l,k=(v/=_)*l,A=Math.atan2(v,x);i.moveTo(s-E,o-k),i.lineTo(d-x*m,p-v*m),i.arc(d,p,m,A-Math.PI,A),i.lineTo(s+E,o+k),i.arc(s,o,l,A,A+Math.PI)}else i.arc(d,p,m,0,ao);i.closePath()}else a=1;s=d,o=p,l=m}function c(d){var p,g=d.length,m,x=!1,v;for(i==null&&(i=v=v_()),p=0;p<=g;++p)!(p<g&&r(m=d[p],p,d))===x&&(x=!x)&&(a=0),x&&u(+e(m,p,d),+t(m,p,d),+n(m,p,d));if(v)return i=null,v+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function Wg(e,t){return e??t}const Hg=e=>e.x||0,jg=e=>e.y||0,Cae=e=>e.width||0,Tae=e=>e.height||0,Fae=e=>(e.x||0)+(e.width||0),Oae=e=>(e.y||0)+(e.height||0),Dae=e=>e.startAngle||0,Nae=e=>e.endAngle||0,Mae=e=>e.padAngle||0,Rae=e=>e.innerRadius||0,Iae=e=>e.outerRadius||0,$ae=e=>e.cornerRadius||0,Lae=e=>Wg(e.cornerRadiusTopLeft,e.cornerRadius)||0,Pae=e=>Wg(e.cornerRadiusTopRight,e.cornerRadius)||0,Bae=e=>Wg(e.cornerRadiusBottomRight,e.cornerRadius)||0,zae=e=>Wg(e.cornerRadiusBottomLeft,e.cornerRadius)||0,Uae=e=>Wg(e.size,64),Wae=e=>e.size||1,M_=e=>e.defined!==!1,Hae=e=>zz(e.shape||"circle"),jae=ire().startAngle(Dae).endAngle(Nae).padAngle(Mae).innerRadius(Rae).outerRadius(Iae).cornerRadius($ae),Gae=xB().x(Hg).y1(jg).y0(Oae).defined(M_),Yae=xB().y(jg).x1(Hg).x0(Fae).defined(M_),Vae=mB().x(Hg).y(jg).defined(M_),qae=Uz().x(Hg).y(jg).width(Cae).height(Tae).cornerRadius(Lae,Pae,Bae,zae),Xae=sre().type(Hae).size(Uae),Kae=Wz().x(Hg).y(jg).defined(M_).size(Wae);function gT(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Jae(e,t){return jae.context(e)(t)}function Qae(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?Yae:Gae).curve(pT(r,n.orient,n.tension)).context(e)(t)}function Zae(e,t){const n=t[0],r=n.interpolate||"linear";return Vae.curve(pT(r,n.orient,n.tension)).context(e)(t)}function wh(e,t,n,r){return qae.context(e)(t,n,r)}function ese(e,t){return(t.mark.shape||t.shape).context(e)(t)}function tse(e,t){return Xae.context(e)(t)}function nse(e,t){return Kae.context(e)(t)}var Hz=1;function rse(){Hz=1}function mT(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+Hz++),s=i.clipping[a]||(i.clipping[a]={id:a});return vt(r)?s.path=r(null):gT(n)?s.path=wh(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+a+")"}function Kn(e){this.clear(),e&&this.union(e)}Kn.prototype={clone(){return new Kn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:a,y2:s}=this,o=Math.cos(e),l=Math.sin(e),u=t-t*o+n*l,c=n-t*l-n*o;return[o*r-l*i+u,l*r+o*i+c,o*r-l*s+u,l*r+o*s+c,o*a-l*i+u,l*a+o*i+c,o*a-l*s+u,l*a+o*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function R_(e){this.mark=e,this.bounds=this.bounds||new Kn}function I_(e){R_.call(this,e),this.items=this.items||[]}Ue(I_,R_);class jz{constructor(t){this._pending=0,this._loader=t||o_()}pending(){return this._pending}sanitizeURL(t){const n=this;return yM(n),n._loader.sanitize(t,{context:"href"}).then(r=>(Np(n),r)).catch(()=>(Np(n),null))}loadImage(t){const n=this,r=Sre();return yM(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const a=i.href;if(!a||!r)throw{url:a};const s=new r,o=qe(i,"crossOrigin")?i.crossOrigin:"anonymous";return o!=null&&(s.crossOrigin=o),s.onload=()=>Np(n),s.onerror=()=>Np(n),s.src=a,s}).catch(i=>(Np(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function yM(e){e._pending+=1}function Np(e){e._pending-=1}function Ol(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?ise(t,r):0))}return e}function ise(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const ase=ao-1e-8;let $_,Py,By,nf,wA,zy,EA,kA;const _u=(e,t)=>$_.add(e,t),Uy=(e,t)=>_u(Py=e,By=t),vM=e=>_u(e,$_.y1),_M=e=>_u($_.x1,e),Kc=(e,t)=>wA*e+EA*t,Jc=(e,t)=>zy*e+kA*t,yS=(e,t)=>_u(Kc(e,t),Jc(e,t)),vS=(e,t)=>Uy(Kc(e,t),Jc(e,t));function Gg(e,t){return $_=e,t?(nf=t*Hu,wA=kA=Math.cos(nf),zy=Math.sin(nf),EA=-zy):(wA=kA=1,nf=zy=EA=0),sse}const sse={beginPath(){},closePath(){},moveTo:vS,lineTo:vS,rect(e,t,n,r){nf?(yS(e+n,t),yS(e+n,t+r),yS(e,t+r),vS(e,t)):(_u(e+n,t+r),Uy(e,t))},quadraticCurveTo(e,t,n,r){const i=Kc(e,t),a=Jc(e,t),s=Kc(n,r),o=Jc(n,r);wM(Py,i,s,vM),wM(By,a,o,_M),Uy(s,o)},bezierCurveTo(e,t,n,r,i,a){const s=Kc(e,t),o=Jc(e,t),l=Kc(n,r),u=Jc(n,r),c=Kc(i,a),d=Jc(i,a);EM(Py,s,l,c,vM),EM(By,o,u,d,_M),Uy(c,d)},arc(e,t,n,r,i,a){if(r+=nf,i+=nf,Py=n*Math.cos(i)+e,By=n*Math.sin(i)+t,Math.abs(i-r)>ase)_u(e-n,t-n),_u(e+n,t+n);else{const s=u=>_u(n*Math.cos(u)+e,n*Math.sin(u)+t);let o,l;if(s(r),s(i),i!==r)if(r=r%ao,r<0&&(r+=ao),i=i%ao,i<0&&(i+=ao),i<r&&(a=!a,o=r,r=i,i=o),a)for(i-=ao,o=r-r%Xc,l=0;l<4&&o>i;++l,o-=Xc)s(o);else for(o=r-r%Xc+Xc,l=0;l<4&&o<i;++l,o=o+Xc)s(o)}}};function wM(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function EM(e,t,n,r,i){const a=r-e+3*t-3*n,s=e+n-2*t,o=e-t;let l=0,u=0,c;Math.abs(a)>yae?(c=s*s+o*a,c>=0&&(c=Math.sqrt(c),l=(-s+c)/a,u=(-s-c)/a)):l=.5*o/s,0<l&&l<1&&i(kM(l,e,t,n,r)),0<u&&u<1&&i(kM(u,e,t,n,r))}function kM(e,t,n,r,i){const a=1-e,s=a*a,o=e*e;return s*a*t+3*s*e*n+3*a*o*r+o*e*i}var Iu=(Iu=Ru(1,1))?Iu.getContext("2d"):null;const SA=new Kn;function xT(e){return function(t,n){if(!Iu)return!0;e(Iu,t),SA.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:a,y2:s}=SA;for(let o=i;o<=s;++o)for(let l=r;l<=a;++l)if(Iu.isPointInPath(l,o))return!0;return!1}}function yT(e,t){return t.contains(e.x||0,e.y||0)}function Gz(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(SA.set(n,r,n+i,r+a))}function Yz(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,a=e.y2!=null?e.y2:r;return id(t,n,r,i,a)}function id(e,t,n,r,i){const{x1:a,y1:s,x2:o,y2:l}=e,u=r-t,c=i-n;let d=0,p=1,g,m,x,v;for(v=0;v<4;++v){if(v===0&&(g=-u,m=-(a-t)),v===1&&(g=u,m=o-t),v===2&&(g=-c,m=-(s-n)),v===3&&(g=c,m=l-n),Math.abs(g)<1e-10&&m<0)return!1;if(x=m/g,g<0){if(x>p)return!1;x>d&&(d=x)}else if(g>0){if(x<d)return!1;x<p&&(p=x)}}return!0}function Ld(e,t){e.globalCompositeOperation=t.blend||"source-over"}function ds(e,t){return e??t}function SM(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function ose(e,t,n){const r=n.width(),i=n.height();let a;if(t.gradient==="radial")a=e.createRadialGradient(n.x1+ds(t.x1,.5)*r,n.y1+ds(t.y1,.5)*i,Math.max(r,i)*ds(t.r1,0),n.x1+ds(t.x2,.5)*r,n.y1+ds(t.y2,.5)*i,Math.max(r,i)*ds(t.r2,.5));else{const s=ds(t.x1,0),o=ds(t.y1,0),l=ds(t.x2,1),u=ds(t.y2,0);if(s===l||o===u||r===i)a=e.createLinearGradient(n.x1+s*r,n.y1+o*i,n.x1+l*r,n.y1+u*i);else{const c=Ru(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=SM(d.createLinearGradient(s,o,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return SM(a,t.stops)}function Vz(e,t,n){return hT(n)?ose(e,n,t.bounds):n}function Cv(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=Vz(e,t,t.fill),!0):!1}var lse=[];function Pd(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=Vz(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||lse),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function use(e,t){return e.zindex-t.zindex||e.index-t.index}function vT(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,a;for(i=0,a=t.length;i<a;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(use)}function Ns(e,t){var n=e.items,r,i;if(!n||!n.length)return;const a=vT(e);if(a&&a.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=a}for(r=0,i=n.length;r<i;++r)t(n[r])}function Tv(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const a=vT(e);for(a&&a.length&&(n=a),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===a){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function _T(e){return function(t,n,r){Ns(n,i=>{(!r||r.intersects(i.bounds))&&qz(e,t,i,i)})}}function cse(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&qz(e,t,n.items[0],n.items)}}function qz(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Ld(t,n),n.fill&&Cv(t,n,i)&&t.fill(),n.stroke&&Pd(t,n,i)&&t.stroke()))}function L_(e){return e=e||Ya,function(t,n,r,i,a,s){return r*=t.pixelRatio,i*=t.pixelRatio,Tv(n,o=>{const l=o.bounds;if(!(l&&!l.contains(a,s)||!l)&&e(t,o,r,i,a,s))return o})}}function Yg(e,t){return function(n,r,i,a){var s=Array.isArray(r)?r[0]:r,o=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:o&&n.isPointInPath(i,a)||l&&n.isPointInStroke(i,a)}}function wT(e){return L_(Yg(e))}function uf(e,t){return"translate("+e+","+t+")"}function ET(e){return"rotate("+e+")"}function fse(e,t){return"scale("+e+","+t+")"}function Xz(e){return uf(e.x||0,e.y||0)}function dse(e){return uf(e.x||0,e.y||0)+(e.angle?" "+ET(e.angle):"")}function hse(e){return uf(e.x||0,e.y||0)+(e.angle?" "+ET(e.angle):"")+(e.scaleX||e.scaleY?" "+fse(e.scaleX||1,e.scaleY||1):"")}function kT(e,t,n){function r(s,o){s("transform",dse(o)),s("d",t(null,o))}function i(s,o){return t(Gg(s,o.angle),o),Ol(s,o).translate(o.x||0,o.y||0)}function a(s,o){var l=o.x||0,u=o.y||0,c=o.angle||0;s.translate(l,u),c&&s.rotate(c*=Hu),s.beginPath(),t(s,o),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:_T(a),pick:wT(a),isect:n||xT(a)}}var pse=kT("arc",Jae);function gse(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,a=1/0,s,o;--i>=0;)e[i].defined!==!1&&(o=Math.abs(e[i][r]-n),o<a&&(a=o,s=e[i]));return s}function mse(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,a,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],a=e[r].y-t[1],s=i*i+a*a,s<n))return e[r];return null}function xse(e,t){for(var n=e.length,r,i,a;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],a=r*r+i*i,r=e[n].size||1,a<r*r))return e[n];return null}function ST(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(Gg(l),c),Ol(l,c[0]))}function a(l,u){l.beginPath(),t(l,u)}const s=Yg(a);function o(l,u,c,d,p,g){var m=u.items,x=u.bounds;return!m||!m.length||x&&!x.contains(p,g)?null:(c*=l.pixelRatio,d*=l.pixelRatio,s(l,m,c,d)?m[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:cse(a),pick:o,isect:yT,tip:n}}var yse=ST("area",Qae,gse);function vse(e,t){var n=t.clip;e.save(),vt(n)?(e.beginPath(),n(e),e.clip()):Kz(e,t.group)}function Kz(e,t){e.beginPath(),gT(t)?wh(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Jz(e){const t=ds(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function _se(e,t){e("transform",Xz(t))}function Qz(e,t){const n=Jz(t);e("d",wh(null,t,n,n))}function wse(e,t){e("class","background"),e("aria-hidden",!0),Qz(e,t)}function Ese(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Qz(e,t):e("d","")}function kse(e,t,n){const r=t.clip?mT(n,t,t):null;e("clip-path",r)}function Sse(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Ol(e,t),e.translate(t.x||0,t.y||0)}function Z1(e,t,n,r){const i=Jz(t);e.beginPath(),wh(e,t,(n||0)+i,(r||0)+i)}const bse=Yg(Z1),Ase=Yg(Z1,!1),Cse=Yg(Z1,!0);function Tse(e,t,n,r){Ns(t,i=>{const a=i.x||0,s=i.y||0,o=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(Z1(e,i,a,s),Ld(e,i),i.fill&&Cv(e,i,l)&&e.fill(),i.stroke&&!o&&Pd(e,i,l)&&e.stroke()),e.save(),e.translate(a,s),i.clip&&Kz(e,i),n&&n.translate(-a,-s),Ns(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(a,s),e.restore(),o&&i.stroke&&l&&(Z1(e,i,a,s),Ld(e,i),Pd(e,i,l)&&e.stroke())})}function Fse(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;const s=n*e.pixelRatio,o=r*e.pixelRatio;return Tv(t,l=>{let u,c,d;const p=l.bounds;if(p&&!p.contains(i,a))return;c=l.x||0,d=l.y||0;const g=c+(l.width||0),m=d+(l.height||0),x=l.clip;if(x&&(i<c||i>g||a<d||a>m))return;if(e.save(),e.translate(c,d),c=i-c,d=a-d,x&&gT(l)&&!Cse(e,l,s,o))return e.restore(),null;const v=l.strokeForeground,_=t.interactive!==!1;return _&&v&&l.stroke&&Ase(e,l,s,o)?(e.restore(),l):(u=Tv(l,E=>Ose(E,c,d)?this.pick(E,n,r,c,d):null),!u&&_&&(l.fill||!v&&l.stroke)&&bse(e,l,s,o)&&(u=l),e.restore(),u||null)})}function Ose(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var Dse={type:"group",tag:"g",nested:!1,attr:_se,bound:Sse,draw:Tse,pick:Fse,isect:Gz,content:kse,background:wse,foreground:Ese},eg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function bT(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function AT(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function CT(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function P_(e,t){return e==="center"?t/2:e==="right"?t:0}function B_(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function Nse(e,t,n){const r=bT(t,n),i=AT(t,r),a=CT(t,r),s=(t.x||0)-P_(t.align,i),o=(t.y||0)-B_(t.baseline,a),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,eg["xmlns:xlink"],"xlink:href"),e("transform",uf(s,o)),e("width",i),e("height",a),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function Mse(e,t){const n=t.image,r=AT(t,n),i=CT(t,n),a=(t.x||0)-P_(t.align,r),s=(t.y||0)-B_(t.baseline,i);return e.set(a,s,a+r,s+i)}function Rse(e,t,n){Ns(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=bT(r,this);let a=AT(r,i),s=CT(r,i);if(a===0||s===0)return;let o=(r.x||0)-P_(r.align,a),l=(r.y||0)-B_(r.baseline,s),u,c,d,p;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(p=a/c,l+=(s-p)/2,s=p):(p=s*c,o+=(a-p)/2,a=p))),(i.complete||i.toDataURL)&&(Ld(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,o,l,a,s))})}var Ise={type:"image",tag:"image",nested:!1,attr:Nse,bound:Mse,draw:Rse,pick:L_(),isect:Ya,get:bT,xOffset:P_,yOffset:B_},$se=ST("line",Zae,mse);function Lse(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",hse(t)),e("d",t.path)}function Wy(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,s=t.scaleY||1,o=(t.angle||0)*Hu,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=$d(n)).path=n),o&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(o),Q1(e,l,0,0,a,s),e.rotate(-o),e.translate(-r,-i)):Q1(e,l,r,i,a,s)}function Pse(e,t){return Wy(Gg(e,t.angle),t)?e.set(0,0,0,0):Ol(e,t,!0)}var Bse={type:"path",tag:"path",nested:!1,attr:Lse,bound:Pse,draw:_T(Wy),pick:wT(Wy),isect:xT(Wy)};function zse(e,t){e("d",wh(null,t))}function Use(e,t){var n,r;return Ol(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function bM(e,t){e.beginPath(),wh(e,t)}var Wse={type:"rect",tag:"path",nested:!1,attr:zse,bound:Use,draw:_T(bM),pick:wT(bM),isect:Gz};function Hse(e,t){e("transform",Xz(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function jse(e,t){var n,r;return Ol(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function Zz(e,t,n){var r,i,a,s;return t.stroke&&Pd(e,t,n)?(r=t.x||0,i=t.y||0,a=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,s),!0):!1}function Gse(e,t,n){Ns(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&Zz(e,r,i)&&(Ld(e,r),e.stroke())}})}function Yse(e,t,n,r){return e.isPointInStroke?Zz(e,t,1)&&e.isPointInStroke(n,r):!1}var Vse={type:"rule",tag:"line",nested:!1,attr:Hse,bound:jse,draw:Gse,pick:L_(Yse),isect:Yz},qse=kT("shape",ese),Xse=kT("symbol",tse,yT);const AM=oL();var xa={height:Oo,measureWidth:TT,estimateWidth:Fv,width:Fv,canvas:eU};eU(!0);function eU(e){xa.width=e&&Iu?TT:Fv}function Fv(e,t){return tU(Gu(e,t),Oo(e))}function tU(e,t){return~~(.8*e.length*t)}function TT(e,t){return Oo(e)<=0||!(t=Gu(e,t))?0:nU(t,z_(e))}function nU(e,t){const n=`(${t}) ${e}`;let r=AM.get(n);return r===void 0&&(Iu.font=t,r=Iu.measureText(e).width,AM.set(n,r)),r}function Oo(e){return e.fontSize!=null?+e.fontSize||0:11}function ju(e){return e.lineHeight!=null?e.lineHeight:Oo(e)+2}function Kse(e){return ke(e)?e.length>1?e:e[0]:e}function Vg(e){return Kse(e.lineBreak&&e.text&&!ke(e.text)?e.text.split(e.lineBreak):e.text)}function FT(e){const t=Vg(e);return(ke(t)?t.length-1:0)*ju(e)}function Gu(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?Qse(e,n):n}function Jse(e){if(xa.width===TT){const t=z_(e);return n=>nU(n,t)}else if(xa.width===Fv){const t=Oo(e);return n=>tU(n,t)}else return t=>xa.width(e,t)}function Qse(e,t){var n=+e.limit,r=Jse(e);if(r(t)<n)return t;var i=e.ellipsis||"",a=e.dir==="rtl",s=0,o=t.length,l;if(n-=r(i),a){for(;s<o;)l=s+o>>>1,r(t.slice(l))>n?s=l+1:o=l;return i+t.slice(s)}else{for(;s<o;)l=1+(s+o>>>1),r(t.slice(0,l))<n?s=l:o=l-1;return t.slice(0,s)+i}}function qg(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function z_(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Oo(e)+"px "+qg(e,t)}function OT(e){var t=e.baseline,n=Oo(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*ju(e):t==="line-bottom"?.29*n-.5*ju(e):0)}const Zse={left:"start",center:"middle",right:"end"},w1=new Kn;function U_(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Xc,t+=r*Math.cos(i),n+=r*Math.sin(i)),w1.x1=t,w1.y1=n,w1}function eoe(e,t){var n=t.dx||0,r=(t.dy||0)+OT(t),i=U_(t),a=i.x1,s=i.y1,o=t.angle||0,l;e("text-anchor",Zse[t.align]||"start"),o?(l=uf(a,s)+" "+ET(o),(n||r)&&(l+=" "+uf(n,r))):l=uf(a+n,s+r),e("transform",l)}function DT(e,t,n){var r=xa.height(t),i=t.align,a=U_(t),s=a.x1,o=a.y1,l=t.dx||0,u=(t.dy||0)+OT(t)-Math.round(.8*r),c=Vg(t),d;if(ke(c)?(r+=ju(t)*(c.length-1),d=c.reduce((p,g)=>Math.max(p,xa.width(t,g)),0)):d=xa.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=s,u+=o,l+d,u+r),t.angle&&!n)e.rotate(t.angle*Hu,s,o);else if(n===2)return e.rotatedPoints(t.angle*Hu,s,o);return e}function toe(e,t,n){Ns(t,r=>{var i=r.opacity==null?1:r.opacity,a,s,o,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=z_(r),e.textAlign=r.align||"left",a=U_(r),s=a.x1,o=a.y1,r.angle&&(e.save(),e.translate(s,o),e.rotate(r.angle*Hu),s=o=0),s+=r.dx||0,o+=(r.dy||0)+OT(r),c=Vg(r),Ld(e,r),ke(c))for(u=ju(r),l=0;l<c.length;++l)d=Gu(r,c[l]),r.fill&&Cv(e,r,i)&&e.fillText(d,s,o),r.stroke&&Pd(e,r,i)&&e.strokeText(d,s,o),o+=u;else d=Gu(r,c),r.fill&&Cv(e,r,i)&&e.fillText(d,s,o),r.stroke&&Pd(e,r,i)&&e.strokeText(d,s,o);r.angle&&e.restore()}})}function noe(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=U_(t),o=s.x1,l=s.y1,u=DT(w1,t,1),c=-t.angle*Hu,d=Math.cos(c),p=Math.sin(c),g=d*i-p*a+(o-d*o+p*l),m=p*i+d*a+(l-p*o-d*l);return u.contains(g,m)}function roe(e,t){const n=DT(w1,e,2);return id(t,n[0],n[1],n[2],n[3])||id(t,n[0],n[1],n[4],n[5])||id(t,n[4],n[5],n[6],n[7])||id(t,n[2],n[3],n[6],n[7])}var ioe={type:"text",tag:"text",nested:!1,attr:eoe,bound:DT,draw:toe,pick:L_(noe),isect:roe},aoe=ST("trail",nse,xse),ka={arc:pse,area:yse,group:Dse,image:Ise,line:$se,path:Bse,rect:Wse,rule:Vse,shape:qse,symbol:Xse,text:ioe,trail:aoe};function bA(e,t,n){var r=ka[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Kn),e,n)}var CM={mark:null};function rU(e,t,n){var r=ka[e.marktype],i=r.bound,a=e.items,s=a&&a.length,o,l,u,c;if(r.nested)return s?u=a[0]:(CM.mark=e,u=CM),c=bA(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Kn,s)for(o=0,l=a.length;o<l;++o)t.union(bA(a[o],i,n));return e.bounds=t}const soe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function iU(e,t){return JSON.stringify(e,soe,t)}function aU(e){const t=typeof e=="string"?JSON.parse(e):e;return sU(t)}function sU(e){var t=e.marktype,n=e.items,r,i,a;if(n)for(i=0,a=n.length;i<a;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&sU(n[i]);return t&&rU(e),e}class oU{constructor(t){arguments.length?this.root=aU(t):(this.root=TM({marktype:"group",name:"root",role:"frame"}),this.root.items=[new I_(this.root)])}toJSON(t){return iU(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=TM(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function TM(e,t){const n={bounds:new Kn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function wu(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function NT(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function tr(e,t,n,r){var i=e.childNodes[t],a;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(a=i||null,i=wu(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function La(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function lU(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function W_(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function ooe(e,t,n,r){var i=e&&e.mark,a,s;if(i&&(a=ka[i.marktype]).tip){for(s=W_(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=a.tip(i.items,s)}return e}let MT=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||o_(),this._tooltip=n||loe}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const a=new MouseEvent(t.type,t),s=wu(null,"a");for(const o in i)s.setAttribute(o,i[o]);s.dispatchEvent(a)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=ooe(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,a=t.bounds,s=a.width(),o=a.height();let l=a.x1+i[0]+r.left,u=a.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:o,left:l,top:u,right:l+s,bottom:u+o}}};function loe(e,t,n,r){e.element().setAttribute("title",r||"")}class Xg{constructor(t){this._el=null,this._bgcolor=null,this._loader=new jz(t)}initialize(t,n,r,i,a){return this._el=t,this.resize(n,r,i,a)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const a=r._call;r._ready=r._loader.ready().then(s=>{s&&a(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const uoe="keydown",coe="keypress",foe="keyup",uU="dragenter",Hy="dragleave",cU="dragover",AA="pointerdown",doe="pointerup",Ov="pointermove",jy="pointerout",fU="pointerover",CA="mousedown",hoe="mouseup",dU="mousemove",Dv="mouseout",hU="mouseover",Nv="click",poe="dblclick",goe="wheel",pU="mousewheel",Mv="touchstart",Rv="touchmove",Iv="touchend",moe=[uoe,coe,foe,uU,Hy,cU,AA,doe,Ov,jy,fU,CA,hoe,dU,Dv,hU,Nv,poe,goe,pU,Mv,Rv,Iv],TA=Ov,E1=Dv,FA=Nv;class Kg extends MT{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=moe,this.pointermove=OM([Ov,dU],[fU,hU],[jy,Dv]),this.dragover=OM([cU],[uU],[Hy]),this.pointerout=DM([jy,Dv]),this.dragleave=DM([Hy])}initialize(t,n,r){return this._canvas=t&&NT(t,"canvas"),[Nv,CA,AA,Ov,jy,Hy].forEach(i=>FM(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(pU,t)}pointerdown(t){this._down=this._active,this.fire(AA,t)}mousedown(t){this._down=this._active,this.fire(CA,t)}click(t){this._down===this._active&&(this.fire(Nv,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Mv,t,!0)}touchmove(t){this.fire(Rv,t,!0)}touchend(t){this.fire(Iv,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,a=this._handlers[t];if(n.vegaType=t,t===FA&&i&&i.href?this.handleHref(n,i,i.href):(t===TA||t===E1)&&this.handleTooltip(n,i,t!==E1),a)for(let s=0,o=a.length;s<o;++s)a[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(FM(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],a=this._handlerIndex(i,t,n);return a>=0&&i.splice(a,1),this}pickEvent(t){const n=W_(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,a){const s=this.context();return ka[t.marktype].pick.call(this,s,t,n,r,i,a)}}const xoe=e=>e===Mv||e===Rv||e===Iv?[Mv,Rv,Iv]:[e];function FM(e,t){xoe(t).forEach(n=>yoe(e,n))}function yoe(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function n1(e,t,n){t.forEach(r=>e.fire(r,n))}function OM(e,t,n){return function(r){const i=this._active,a=this.pickEvent(r);a===i?n1(this,e,r):((!i||!i.exit)&&n1(this,n,r),this._active=a,n1(this,t,r),n1(this,e,r))}}function DM(e){return function(t){n1(this,e,t),this._active=null}}function voe(){return typeof window<"u"&&window.devicePixelRatio||1}function _oe(e,t,n,r,i,a){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,o=e.getContext("2d"),l=s?voe():i;e.width=t*l,e.height=n*l;for(const u in a)o[u]=a[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),o.pixelRatio=l,o.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class $v extends Xg{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Kn,this._tempb=new Kn}initialize(t,n,r,i,a,s){return this._options=s||{},this._canvas=this._options.externalContext?null:Ru(1,1,this._options.type),t&&this._canvas&&(La(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,a)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)_oe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const a=this._options.externalContext;a||ve("CanvasRenderer is missing a valid canvas or context"),a.scale(this._scale,this._scale),a.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,a=this._width,s=this._height,o=this._dirty,l=woe(i,a,s);r.save();const u=this._redraw||o.empty()?(this._redraw=!1,l.expand(1)):Eoe(r,l.intersect(o),i);return this.clear(-i[0],-i[1],a,s),this.draw(r,t,u,n),r.restore(),o.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const a=ka[n.marktype];n.clip&&vse(t,n),a.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const a=this._options,s=this.context();a.type!=="pdf"&&!a.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const woe=(e,t,n)=>new Kn().set(0,0,t,n).translate(-e[0],-e[1]);function Eoe(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class gU extends MT{constructor(t,n){super(t,n);const r=this;r._hrefHandler=_S(r,(i,a)=>{a&&a.href&&r.handleHref(i,a,a.href)}),r._tooltipHandler=_S(r,(i,a)=>{r.handleTooltip(i,a,i.type!==E1)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(FA,this._hrefHandler),i.removeEventListener(TA,this._tooltipHandler),i.removeEventListener(E1,this._tooltipHandler)),this._svg=i=t&&NT(t,"svg"),i&&(i.addEventListener(FA,this._hrefHandler),i.addEventListener(TA,this._tooltipHandler),i.addEventListener(E1,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:_S(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],a=this._handlerIndex(i,t,n);return a>=0&&(this._svg&&this._svg.removeEventListener(r,i[a].listener),i.splice(a,1)),this}}const _S=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},mU="aria-hidden",RT="aria-label",IT="role",$T="aria-roledescription",xU="graphics-object",LT="graphics-symbol",yU=(e,t,n)=>({[IT]:e,[$T]:t,[RT]:n||void 0}),koe=Os(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),NM={axis:{desc:"axis",caption:Aoe},legend:{desc:"legend",caption:Coe},"title-text":{desc:"title",caption:e=>`Title text '${RM(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${RM(e)}'`}},MM={ariaRole:IT,ariaRoleDescription:$T,description:RT};function vU(e,t){const n=t.aria===!1;if(e(mU,n||void 0),n||t.description==null)for(const r in MM)e(MM[r],void 0);else{const r=t.mark.marktype;e(RT,t.description),e(IT,t.ariaRole||(r==="group"?xU:LT)),e($T,t.ariaRoleDescription||`${r} mark`)}}function _U(e){return e.aria===!1?{[mU]:!0}:koe[e.role]?null:NM[e.role]?boe(e,NM[e.role]):Soe(e)}function Soe(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return yU(n?xU:LT,`${t} mark container`,e.description)}function boe(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return yU(t.role||LT,t.desc,n.description||r(n))}catch{return null}}function RM(e){return Ve(e.text).join(" ")}function Aoe(e){const t=e.datum,n=e.orient,r=t.title?wU(e):null,i=e.context,a=i.scales[t.scale].value,s=i.dataflow.locale(),o=a.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${Id(o)?"discrete":o} scale with ${Iz(s,a,e)}`}function Coe(e){const t=e.datum,n=t.title?wU(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,a=Object.keys(i),s=e.context,o=s.scales[i[a[0]]].value,l=s.dataflow.locale();return Foe(r)+(n?` titled '${n}'`:"")+` for ${Toe(a)} with ${Iz(l,o,e)}`}function wU(e){try{return Ve(Dt(e.items).items[0].text).join(" ")}catch{return null}}function Toe(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Dt(e)}function Foe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const EU=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ooe=e=>EU(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function PT(){let e="",t="",n="";const r=[],i=()=>t=n="",a=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${Ooe(u)}"`),o),o={open(l,...u){a(l),t="<"+l;for(const c of u)for(const d in c)s(d,c[d]);return o},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),o},attr:s,text:l=>(n+=EU(l),o),toString:()=>e};return o}const kU=e=>SU(PT(),e)+"";function SU(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):SU(e,r)}return e.close()}const Lv={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Pv={blend:"mix-blend-mode"},bU={fill:"none","stroke-miterlimit":10},Mp=0,IM="http://www.w3.org/2000/xmlns/",er=eg.xmlns;class BT extends Xg{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,a){return this._defs={},this._clearDefs(),t&&(this._svg=tr(t,0,"svg",er),this._svg.setAttributeNS(IM,"xmlns",er),this._svg.setAttributeNS(IM,"xmlns:xlink",eg["xmlns:xlink"]),this._svg.setAttribute("version",eg.version),this._svg.setAttribute("class","marks"),La(t,1),this._root=tr(this._svg,Mp,"g",er),Eu(this._root,bU),La(this._svg,Mp+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,a)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Eu(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=tr(t,Mp,"rect",er),Eu(r,{width:this._width,height:this._height,fill:n}));const i=kU(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),La(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,a,s,o,l,u;for(o=0,l=t.length;o<l;++o)if(r=t[o],i=r.mark,i.marktype!==a&&(a=i.marktype,s=ka[a]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,$M(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,$M(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const a=this._svg,s=n.marktype,o=ka[s],l=n.interactive===!1?"none":null,u=o.tag==="g",c=LM(n,t,r,"g",a);if(s!=="group"&&i!=null&&!i.includes(s))return La(c,0),n._svg;c.setAttribute("class",lU(n));const d=_U(n);for(const x in d)mi(c,x,d[x]);u||mi(c,"pointer-events",l),mi(c,"clip-path",n.clip?mT(this,n,n.group):null);let p=null,g=0;const m=x=>{const v=this.isDirty(x),_=LM(x,c,p,o.tag,a);v&&(this._update(o,_,x),u&&Moe(this,_,x,i)),p=_,++g};return o.nested?n.items.length&&m(n.items[0]):Ns(n,m),La(c,g),c}_update(t,n,r){cl=n,Kr=n.__values__,vU(k1,r),t.attr(k1,r,this);const i=Ioe[t.type];i&&i.call(this,t,n,r),cl&&this.style(cl,r)}style(t,n){if(n!=null){for(const r in Lv){let i=r==="font"?qg(n):n[r];if(i===Kr[r])continue;const a=Lv[r];i==null?t.removeAttribute(a):(hT(i)&&(i=Lz(i,this._defs.gradient,AU())),t.setAttribute(a,i+"")),Kr[r]=i}for(const r in Pv)Gy(t,Pv[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const a in n.gradient)r||(n.el=r=tr(t,Mp+1,"defs",er)),i=Doe(r,n.gradient[a],i);for(const a in n.clipping)r||(n.el=r=tr(t,Mp+1,"defs",er)),i=Noe(r,n.clipping[a],i);r&&(i===0?(t.removeChild(r),n.el=null):La(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function $M(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function Doe(e,t,n){let r,i,a;if(t.gradient==="radial"){let s=tr(e,n++,"pattern",er);Eu(s,{id:Av+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=tr(s,0,"rect",er),Eu(s,{width:1,height:1,fill:`url(${AU()}#${t.id})`}),e=tr(e,n++,"radialGradient",er),Eu(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=tr(e,n++,"linearGradient",er),Eu(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)a=tr(e,r,"stop",er),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return La(e,r),n}function Noe(e,t,n){let r;return e=tr(e,n,"clipPath",er),e.setAttribute("id",t.id),t.path?(r=tr(e,0,"path",er),r.setAttribute("d",t.path)):(r=tr(e,0,"rect",er),Eu(r,{x:0,y:0,width:t.width,height:t.height})),La(e,1),n+1}function Moe(e,t,n,r){t=t.lastChild.previousSibling;let i,a=0;Ns(n,s=>{i=e.mark(t,s,i,r),++a}),La(t,1+a)}function LM(e,t,n,r,i){let a=e._svg,s;if(!a&&(s=t.ownerDocument,a=wu(s,r,er),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},r==="g"))){const o=wu(s,"path",er);a.appendChild(o),o.__data__=e;const l=wu(s,"g",er);a.appendChild(l),l.__data__=e;const u=wu(s,"path",er);a.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(a.ownerSVGElement!==i||Roe(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function Roe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let cl=null,Kr=null;const Ioe={group(e,t,n){const r=cl=t.childNodes[2];Kr=r.__values__,e.foreground(k1,n,this),Kr=t.__values__,cl=t.childNodes[1],e.content(k1,n,this);const i=cl=t.childNodes[0];e.background(k1,n,this);const a=n.mark.interactive===!1?"none":null;if(a!==Kr.events&&(mi(r,"pointer-events",a),mi(i,"pointer-events",a),Kr.events=a),n.strokeForeground&&n.stroke){const s=n.fill;mi(r,"display",null),this.style(i,n),mi(i,"stroke",null),s&&(n.fill=null),Kr=r.__values__,this.style(r,n),s&&(n.fill=s),cl=null}else mi(r,"display","none")},image(e,t,n){n.smooth===!1?(Gy(t,"image-rendering","optimizeSpeed"),Gy(t,"image-rendering","pixelated")):Gy(t,"image-rendering",null)},text(e,t,n){const r=Vg(n);let i,a,s,o;ke(r)?(a=r.map(l=>Gu(n,l)),i=a.join(`
`),i!==Kr.text&&(La(t,0),s=t.ownerDocument,o=ju(n),a.forEach((l,u)=>{const c=wu(s,"tspan",er);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",o)),t.appendChild(c)}),Kr.text=i)):(a=Gu(n,r),a!==Kr.text&&(t.textContent=a,Kr.text=a)),mi(t,"font-family",qg(n)),mi(t,"font-size",Oo(n)+"px"),mi(t,"font-style",n.fontStyle),mi(t,"font-variant",n.fontVariant),mi(t,"font-weight",n.fontWeight)}};function k1(e,t,n){t!==Kr[e]&&(n?$oe(cl,e,t,n):mi(cl,e,t),Kr[e]=t)}function Gy(e,t,n){n!==Kr[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Kr[t]=n)}function Eu(e,t){for(const n in t)mi(e,n,t[n])}function mi(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function $oe(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function AU(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class CU extends Xg{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=PT();n.open("svg",wt({},eg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",bU,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=ka[n.marktype],i=r.tag,a=[vU,r.attr];t.open("g",{class:lU(n),"clip-path":n.clip?mT(this,n,n.group):null},_U(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=o=>{const l=this.href(o);if(l&&t.open("a",l),t.open(i,this.attr(n,o,a,i!=="g"?i:null)),i==="text"){const u=Vg(o);if(ke(u)){const c={x:0,dy:ju(o)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(Gu(o,u[d])).close()}else t.text(Gu(o,u))}else if(i==="g"){const u=o.strokeForeground,c=o.fill,d=o.stroke;u&&d&&(o.stroke=null),t.open("path",this.attr(n,o,r.background,"bgrect")).close(),t.open("g",this.attr(n,o,r.content)),Ns(o,p=>this.mark(t,p)),t.close(),u&&d?(c&&(o.fill=null),o.stroke=d,t.open("path",this.attr(n,o,r.foreground,"bgrect")).close(),c&&(o.fill=c)):t.open("path",this.attr(n,o,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):Ns(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const a={},s=(o,l,u,c)=>{a[c||o]=l};return Array.isArray(r)?r.forEach(o=>o(s,n,this)):r(s,n,this),i&&Loe(a,n,t,i,this._defs),a}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const a in n){const s=n[a],o=s.stops;s.gradient==="radial"?(t.open("pattern",{id:Av+a,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+a+")"}).close(),t.close(),t.open("radialGradient",{id:a,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:a,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<o.length;++l)t.open("stop",{offset:o[l].offset,"stop-color":o[l].color}).close();t.close()}for(const a in r){const s=r[a];t.open("clipPath",{id:a}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function Loe(e,t,n,r,i){let a;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(a=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=qg(t),e["font-size"]=Oo(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in Lv){let o=t[s];const l=Lv[s];o==="transparent"&&(l==="fill"||l==="stroke")||o!=null&&(hT(o)&&(o=Lz(o,i.gradient,"")),e[l]=o)}for(const s in Pv){const o=t[s];o!=null&&(a=a||[],a.push(`${Pv[s]}: ${o};`))}return a&&(e.style=a.join(" ")),e}const ps={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function Poe(e){ps.svgMarkTypes=e.svgMarkTypes??["text"],ps.svgOnTop=e.svgOnTop??!0,ps.debug=e.debug??!1}class OA extends Xg{constructor(t){super(t),this._svgRenderer=new BT(t),this._canvasRenderer=new $v(t)}initialize(t,n,r,i,a){this._root_el=tr(t,0,"div");const s=tr(this._root_el,0,"div"),o=tr(this._root_el,1,"div");return this._root_el.style.position="relative",ps.debug||(s.style.height="100%",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.height="100%",o.style.width="100%"),this._svgEl=ps.svgOnTop?o:s,this._canvasEl=ps.svgOnTop?s:o,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,a),this._svgRenderer.initialize(this._svgEl,n,r,i,a),super.initialize(t,n,r,i,a)}dirty(t){return ps.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(a=>!ps.svgMarkTypes.includes(a));this._svgRenderer.render(t,ps.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return ps.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class TU extends Kg{constructor(t,n){super(t,n)}initialize(t,n,r){const i=tr(tr(t,0,"div"),ps.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const FU="canvas",OU="hybrid",DU="png",NU="svg",MU="none",ku={Canvas:FU,PNG:DU,SVG:NU,Hybrid:OU,None:MU},Ef={};Ef[FU]=Ef[DU]={renderer:$v,headless:$v,handler:Kg};Ef[NU]={renderer:BT,headless:CU,handler:gU};Ef[OU]={renderer:OA,headless:OA,handler:TU};Ef[MU]={};function H_(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Ef[e]=t,this):Ef[e]}function RU(e,t,n){const r=[],i=new Kn().union(t),a=e.marktype;return a?IU(e,i,n,r):a==="group"?$U(e,i,n,r):ve("Intersect scene must be mark node or group item.")}function IU(e,t,n,r){if(Boe(e,t,n)){const i=e.items,a=e.marktype,s=i.length;let o=0;if(a==="group")for(;o<s;++o)$U(i[o],t,n,r);else for(const l=ka[a].isect;o<s;++o){const u=i[o];LU(u,t,l)&&r.push(u)}}return r}function Boe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function $U(e,t,n,r){n&&n(e.mark)&&LU(e,t,ka.group.isect)&&r.push(e);const i=e.items,a=i&&i.length;if(a){const s=e.x||0,o=e.y||0;t.translate(-s,-o);for(let l=0;l<a;++l)IU(i[l],t,n,r);t.translate(s,o)}return r}function LU(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const wS=new Kn;function PU(e){const t=e.clip;if(vt(t))t(Gg(wS.clear()));else if(t)wS.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(wS)}const zoe=1e-9;function zT(e,t,n){return e===t?!0:n==="path"?BU(e,t):e instanceof Date&&t instanceof Date?+e==+t:Ut(e)&&Ut(t)?Math.abs(e-t)<=zoe:!e||!t||!Ge(e)&&!Ge(t)?e==t:Uoe(e,t)}function BU(e,t){return zT($d(e),$d(t))}function Uoe(e,t){var n=Object.keys(e),r=Object.keys(t),i,a;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),a=n.length-1;a>=0;a--)if(n[a]!=r[a])return!1;for(a=n.length-1;a>=0;a--)if(i=n[a],!zT(e[i],t[i],i))return!1;return typeof e==typeof t}function Woe(){rse(),fae()}const Bd="top",vs="left",ws="right",Yu="bottom",Hoe="top-left",joe="top-right",Goe="bottom-left",Yoe="bottom-right",UT="start",DA="middle",yi="end",Voe="x",qoe="y",j_="group",WT="axis",HT="title",Xoe="frame",Koe="scope",jT="legend",zU="row-header",UU="row-footer",WU="row-title",HU="column-header",jU="column-footer",GU="column-title",Joe="padding",Qoe="symbol",YU="fit",VU="fit-x",qU="fit-y",Zoe="pad",GT="none",qx="all",NA="each",YT="flush",Su="column",bu="row";function XU(e){ye.call(this,null,e)}Ue(XU,ye,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,a=ka[i],s=a.bound;let o=r.bounds,l;if(a.nested)r.items.length&&n.dirty(r.items[0]),o=Xx(r,s),r.items.forEach(u=>{u.bounds.clear().union(o)});else if(i===j_||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),o.clear(),r.items.forEach(u=>o.union(Xx(u,s))),r.role){case WT:case jT:case HT:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{o.union(Xx(u,s))}),t.visit(t.MOD,u=>{l=l||o.alignsWith(u.bounds),n.dirty(u),o.union(Xx(u,s))}),l&&(o.clear(),r.items.forEach(u=>o.union(u.bounds)));return PU(r),t.modifies("bounds")}});function Xx(e,t,n){return t(e.bounds.clear(),e,n)}const PM=":vega_identifier:";function VT(e){ye.call(this,0,e)}VT.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ue(VT,ye,{transform(e,t){const n=ele(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,a=>a[r]=a[r]||++i),n.set(this.value=i),t}});function ele(e){return e._signals[PM]||(e._signals[PM]=e.add(0))}function KU(e){ye.call(this,null,e)}Ue(KU,ye,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,tle(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===j_?I_:R_;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function tle(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function JU(e){ye.call(this,null,e)}const BM={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!QU(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},QU=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),zM=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,a;n<r;i=a,++n)if(QU(i,a=e[n].bounds,t))return!0},nle=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},rle=(e,t,n)=>{var r=e.range(),i=new Kn;return t===Bd||t===Yu?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),a=>i.encloses(a.bounds)},UM=e=>(e.forEach(t=>t.opacity=1),e),WM=(e,t)=>e.reflow(t.modified()).modifies("opacity");Ue(JU,ye,{transform(e,t){const n=BM[e.method]||BM.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,a,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(UM(i),t=WM(t,e)),t;if(i=i.filter(nle),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),a=UM(i),t=WM(t,e),a.length>=3&&zM(a,r)){do a=n(a,r);while(a.length>=3&&zM(a,r));a.length<3&&!Dt(i).opacity&&(a.length>1&&(Dt(a).opacity=0),Dt(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=rle(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const o=a[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&o.union(l.bounds)}),t}});function ZU(e){ye.call(this,null,e)}Ue(ZU,ye,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Xr=new Kn;function ad(e,t,n){return e[t]===n?0:(e[t]=n,1)}function ile(e){var t=e.items[0].orient;return t===vs||t===ws}function ale(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function sle(e,t,n,r){var i=t.items[0],a=i.datum,s=i.translate!=null?i.translate:.5,o=i.orient,l=ale(a),u=i.range,c=i.offset,d=i.position,p=i.minExtent,g=i.maxExtent,m=a.title&&i.items[l[2]].items[0],x=i.titlePadding,v=i.bounds,_=m&&FT(m),E=0,k=0,A,T;switch(Xr.clear().union(v),v.clear(),(A=l[0])>-1&&v.union(i.items[A].bounds),(A=l[1])>-1&&v.union(i.items[A].bounds),o){case Bd:E=d||0,k=-c,T=Math.max(p,Math.min(g,-v.y1)),v.add(0,-T).add(u,0),m&&Kx(e,m,T,x,_,0,-1,v);break;case vs:E=-c,k=d||0,T=Math.max(p,Math.min(g,-v.x1)),v.add(-T,0).add(0,u),m&&Kx(e,m,T,x,_,1,-1,v);break;case ws:E=n+c,k=d||0,T=Math.max(p,Math.min(g,v.x2)),v.add(0,0).add(T,u),m&&Kx(e,m,T,x,_,1,1,v);break;case Yu:E=d||0,k=r+c,T=Math.max(p,Math.min(g,v.y2)),v.add(0,0).add(u,T),m&&Kx(e,m,T,x,0,0,1,v);break;default:E=i.x,k=i.y}return Ol(v.translate(E,k),i),ad(i,"x",E+s)|ad(i,"y",k+s)&&(i.bounds=Xr,e.dirty(i),i.bounds=v,e.dirty(i)),i.mark.bounds.clear().union(v)}function Kx(e,t,n,r,i,a,s,o){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,d=0;e.dirty(t),a?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}o.union(l)}const HM=(e,t)=>Math.floor(Math.min(e,t)),jM=(e,t)=>Math.ceil(Math.max(e,t));function ole(e){var t=e.items,n=t.length,r=0,i,a;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],a=i.items,i.marktype===j_)switch(i.role){case WT:case jT:case HT:break;case zU:s.rowheaders.push(...a);break;case UU:s.rowfooters.push(...a);break;case HU:s.colheaders.push(...a);break;case jU:s.colfooters.push(...a);break;case WU:s.rowtitle=a[0];break;case GU:s.coltitle=a[0];break;default:s.marks.push(...a)}return s}function lle(e){return new Kn().set(0,0,e.width||0,e.height||0)}function ule(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function xn(e,t,n){const r=Ge(e)?e[t]:e;return r??(n!==void 0?n:0)}function GM(e){return e<0?Math.ceil(-e):0}function eW(e,t,n){var r=!n.nodirty,i=n.bounds===YT?lle:ule,a=Xr.set(0,0,0,0),s=xn(n.align,Su),o=xn(n.align,bu),l=xn(n.padding,Su),u=xn(n.padding,bu),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),p=t.length,g=Array(p),m=Array(c),x=0,v=Array(p),_=Array(d),E=0,k=Array(p),A=Array(p),T=Array(p),D,b,F,C,N,R,L,j,q,U,K;for(b=0;b<c;++b)m[b]=0;for(b=0;b<d;++b)_[b]=0;for(b=0;b<p;++b)R=t[b],N=T[b]=i(R),R.x=R.x||0,k[b]=0,R.y=R.y||0,A[b]=0,F=b%c,C=~~(b/c),x=Math.max(x,L=Math.ceil(N.x2)),E=Math.max(E,j=Math.ceil(N.y2)),m[F]=Math.max(m[F],L),_[C]=Math.max(_[C],j),g[b]=l+GM(N.x1),v[b]=u+GM(N.y1),r&&e.dirty(t[b]);for(b=0;b<p;++b)b%c===0&&(g[b]=0),b<c&&(v[b]=0);if(s===NA)for(F=1;F<c;++F){for(K=0,b=F;b<p;b+=c)K<g[b]&&(K=g[b]);for(b=F;b<p;b+=c)g[b]=K+m[F-1]}else if(s===qx){for(K=0,b=0;b<p;++b)b%c&&K<g[b]&&(K=g[b]);for(b=0;b<p;++b)b%c&&(g[b]=K+x)}else for(s=!1,F=1;F<c;++F)for(b=F;b<p;b+=c)g[b]+=m[F-1];if(o===NA)for(C=1;C<d;++C){for(K=0,b=C*c,D=b+c;b<D;++b)K<v[b]&&(K=v[b]);for(b=C*c;b<D;++b)v[b]=K+_[C-1]}else if(o===qx){for(K=0,b=c;b<p;++b)K<v[b]&&(K=v[b]);for(b=c;b<p;++b)v[b]=K+E}else for(o=!1,C=1;C<d;++C)for(b=C*c,D=b+c;b<D;++b)v[b]+=_[C-1];for(q=0,b=0;b<p;++b)q=g[b]+(b%c?q:0),k[b]+=q-t[b].x;for(F=0;F<c;++F)for(U=0,b=F;b<p;b+=c)U+=v[b],A[b]+=U-t[b].y;if(s&&xn(n.center,Su)&&d>1)for(b=0;b<p;++b)N=s===qx?x:m[b%c],q=N-T[b].x2-t[b].x-k[b],q>0&&(k[b]+=q/2);if(o&&xn(n.center,bu)&&c!==1)for(b=0;b<p;++b)N=o===qx?E:_[~~(b/c)],U=N-T[b].y2-t[b].y-A[b],U>0&&(A[b]+=U/2);for(b=0;b<p;++b)a.union(T[b].translate(k[b],A[b]));switch(q=xn(n.anchor,Voe),U=xn(n.anchor,qoe),xn(n.anchor,Su)){case yi:q-=a.width();break;case DA:q-=a.width()/2}switch(xn(n.anchor,bu)){case yi:U-=a.height();break;case DA:U-=a.height()/2}for(q=Math.round(q),U=Math.round(U),a.clear(),b=0;b<p;++b)t[b].mark.bounds.clear();for(b=0;b<p;++b)R=t[b],R.x+=k[b]+=q,R.y+=A[b]+=U,a.union(R.mark.bounds.union(R.bounds.translate(k[b],A[b]))),r&&e.dirty(R);return a}function cle(e,t,n){var r=ole(t),i=r.marks,a=n.bounds===YT?fle:dle,s=n.offset,o=n.columns||i.length,l=o<=0?1:Math.ceil(i.length/o),u=l*o,c,d,p,g,m,x,v;const _=eW(e,i,n);_.empty()&&_.set(0,0,0,0),r.rowheaders&&(x=xn(n.headerBand,bu,null),c=Jx(e,r.rowheaders,i,o,l,-xn(s,"rowHeader"),HM,0,a,"x1",0,o,1,x)),r.colheaders&&(x=xn(n.headerBand,Su,null),d=Jx(e,r.colheaders,i,o,o,-xn(s,"columnHeader"),HM,1,a,"y1",0,1,o,x)),r.rowfooters&&(x=xn(n.footerBand,bu,null),p=Jx(e,r.rowfooters,i,o,l,xn(s,"rowFooter"),jM,0,a,"x2",o-1,o,1,x)),r.colfooters&&(x=xn(n.footerBand,Su,null),g=Jx(e,r.colfooters,i,o,o,xn(s,"columnFooter"),jM,1,a,"y2",u-o,1,o,x)),r.rowtitle&&(m=xn(n.titleAnchor,bu),v=xn(s,"rowTitle"),v=m===yi?p+v:c-v,x=xn(n.titleBand,bu,.5),YM(e,r.rowtitle,v,0,_,x)),r.coltitle&&(m=xn(n.titleAnchor,Su),v=xn(s,"columnTitle"),v=m===yi?g+v:d-v,x=xn(n.titleBand,Su,.5),YM(e,r.coltitle,v,1,_,x))}function fle(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function dle(e,t){return e.bounds[t]}function Jx(e,t,n,r,i,a,s,o,l,u,c,d,p,g){var m=n.length,x=0,v=0,_,E,k,A,T,D,b,F,C;if(!m)return x;for(_=c;_<m;_+=d)n[_]&&(x=s(x,l(n[_],u)));if(!t.length)return x;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),x+=a,E=0,A=t.length;E<A;++E)e.dirty(t[E]),t[E].mark.bounds.clear();for(_=c,E=0,A=t.length;E<A;++E,_+=d){for(D=t[E],T=D.mark.bounds,k=_;k>=0&&(b=n[k])==null;k-=p);o?(F=g==null?b.x:Math.round(b.bounds.x1+g*b.bounds.width()),C=x):(F=x,C=g==null?b.y:Math.round(b.bounds.y1+g*b.bounds.height())),T.union(D.bounds.translate(F-(D.x||0),C-(D.y||0))),D.x=F,D.y=C,e.dirty(D),v=s(v,T[u])}return v}function YM(e,t,n,r,i,a){if(t){e.dirty(t);var s=n,o=n;r?s=Math.round(i.x1+a*i.width()):o=Math.round(i.y1+a*i.height()),t.bounds.translate(s-(t.x||0),o-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=o,e.dirty(t)}}function hle(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function ple(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function gle(e,t,n,r,i,a,s){const o=hle(n,t),l=ple(e,o("offset",0)),u=o("anchor",UT),c=u===yi?1:u===DA?.5:0,d={align:NA,bounds:o("bounds",YT),columns:o("direction")==="vertical"?1:e.length,padding:o("margin",8),center:o("center"),nodirty:!0};switch(t){case vs:d.anchor={x:Math.floor(r.x1)-l,column:yi,y:c*(s||r.height()+2*r.y1),row:u};break;case ws:d.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case Bd:d.anchor={y:Math.floor(i.y1)-l,row:yi,x:c*(a||i.width()+2*i.x1),column:u};break;case Yu:d.anchor={y:Math.ceil(i.y2)+l,x:c*(a||i.width()+2*i.x1),column:u};break;case Hoe:d.anchor={x:l,y:l};break;case joe:d.anchor={x:a-l,y:l,column:yi};break;case Goe:d.anchor={x:l,y:s-l,row:yi};break;case Yoe:d.anchor={x:a-l,y:s-l,column:yi,row:yi};break}return d}function mle(e,t){var n=t.items[0],r=n.datum,i=n.orient,a=n.bounds,s=n.x,o=n.y,l,u;return n._bounds?n._bounds.clear().union(a):n._bounds=a.clone(),a.clear(),yle(e,n,n.items[0].items[0]),a=xle(n,a),l=2*n.padding,u=2*n.padding,a.empty()||(l=Math.ceil(a.width()+l),u=Math.ceil(a.height()+u)),r.type===Qoe&&vle(n.items[0].items[0].items[0].items),i!==GT&&(n.x=s=0,n.y=o=0),n.width=l,n.height=u,Ol(a.set(s,o,s+l,o+u),n),n.mark.bounds.clear().union(a),n}function xle(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function yle(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(!t.datum.title)(i||a)&&Rp(e,n,i,a);else{var s=t.items[1].items[0],o=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case vs:i+=Math.ceil(s.bounds.width())+l;break;case ws:case Yu:break;default:a+=s.bounds.height()+l}switch((i||a)&&Rp(e,n,i,a),s.orient){case vs:c+=H0(t,n,s,o,1,1);break;case ws:u+=H0(t,n,s,yi,0,0)+l,c+=H0(t,n,s,o,1,1);break;case Yu:u+=H0(t,n,s,o,0,0),c+=H0(t,n,s,yi,-1,0,1)+l;break;default:u+=H0(t,n,s,o,0,0)}(u||c)&&Rp(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(Rp(e,n,-u,0),Rp(e,s,-u,0))}}function H0(e,t,n,r,i,a,s){const o=e.datum.type!=="symbol",l=n.datum.vgrad,u=o&&(a||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&a?c:0,p=l&&a?0:c,g=i<=0?0:FT(n);return Math.round(r===UT?d:r===yi?p-g:.5*(c-g))}function Rp(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function vle(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function _le(e,t,n,r,i){var a=t.items[0],s=a.frame,o=a.orient,l=a.anchor,u=a.offset,c=a.padding,d=a.items[0].items[0],p=a.items[1]&&a.items[1].items[0],g=o===vs||o===ws?r:n,m=0,x=0,v=0,_=0,E=0,k;if(s!==j_?o===vs?(m=i.y2,g=i.y1):o===ws?(m=i.y1,g=i.y2):(m=i.x1,g=i.x2):o===vs&&(m=r,g=0),k=l===UT?m:l===yi?g:(m+g)/2,p&&p.text){switch(o){case Bd:case Yu:E=d.bounds.height()+c;break;case vs:_=d.bounds.width()+c;break;case ws:_=-d.bounds.width()-c;break}Xr.clear().union(p.bounds),Xr.translate(_-(p.x||0),E-(p.y||0)),ad(p,"x",_)|ad(p,"y",E)&&(e.dirty(p),p.bounds.clear().union(Xr),p.mark.bounds.clear().union(Xr),e.dirty(p)),Xr.clear().union(p.bounds)}else Xr.clear();switch(Xr.union(d.bounds),o){case Bd:x=k,v=i.y1-Xr.height()-u;break;case vs:x=i.x1-Xr.width()-u,v=k;break;case ws:x=i.x2+Xr.width()+u,v=k;break;case Yu:x=k,v=i.y2+u;break;default:x=a.x,v=a.y}return ad(a,"x",x)|ad(a,"y",v)&&(Xr.translate(x,v),e.dirty(a),a.bounds.clear().union(Xr),t.bounds.clear().union(Xr),e.dirty(a)),a.bounds}function tW(e){ye.call(this,null,e)}Ue(tW,ye,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&cle(n,r,e.layout),Ele(n,r,e)}),wle(e.mark.group)?t.reflow():t}});function wle(e){return e&&e.mark.role!=="legend-entry"}function Ele(e,t,n){var r=t.items,i=Math.max(0,t.width||0),a=Math.max(0,t.height||0),s=new Kn().set(0,0,i,a),o=s.clone(),l=s.clone(),u=[],c,d,p,g,m,x;for(m=0,x=r.length;m<x;++m)switch(d=r[m],d.role){case WT:g=ile(d)?o:l,g.union(sle(e,d,i,a));break;case HT:c=d;break;case jT:u.push(mle(e,d));break;case Xoe:case Koe:case zU:case UU:case WU:case HU:case jU:case GU:o.union(d.bounds),l.union(d.bounds);break;default:s.union(d.bounds)}if(u.length){const v={};u.forEach(_=>{p=_.orient||ws,p!==GT&&(v[p]||(v[p]=[])).push(_)});for(const _ in v){const E=v[_];eW(e,E,gle(E,_,n.legends,o,l,i,a))}u.forEach(_=>{const E=_.bounds;if(E.equals(_._bounds)||(_.bounds=_._bounds,e.dirty(_),_.bounds=E,e.dirty(_)),n.autosize&&(n.autosize.type===YU||n.autosize.type===VU||n.autosize.type===qU))switch(_.orient){case vs:case ws:s.add(E.x1,0).add(E.x2,0);break;case Bd:case Yu:s.add(0,E.y1).add(0,E.y2)}else s.union(E)})}s.union(o).union(l),c&&s.union(_le(e,c,i,a,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),kle(e,t,s,n)}function kle(e,t,n,r){const i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;let s=e._width,o=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const p=Math.max(0,Math.ceil(n.x2-l)),g=Math.max(0,Math.ceil(n.y2-c));if(i.contains===Joe){const m=e.padding();s-=m.left+m.right,o-=m.top+m.bottom}a===GT?(u=0,d=0,l=s,c=o):a===YU?(l=Math.max(0,s-u-p),c=Math.max(0,o-d-g)):a===VU?(l=Math.max(0,s-u-p),o=c+d+g):a===qU?(s=l+u+p,c=Math.max(0,o-d-g)):a===Zoe&&(s=l+u+p,o=c+d+g),e._resizeView(s,o,l,c,[u,d],i.resize)}const Sle=Object.freeze(Object.defineProperty({__proto__:null,bound:XU,identifier:VT,mark:KU,overlap:JU,render:ZU,viewlayout:tW},Symbol.toStringTag,{value:"Module"}));function nW(e){ye.call(this,null,e)}Ue(nW,ye,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,o=fT(a,s,e.minstep),l=e.format||Oz(n,a,o,e.formatSpecifier,e.formatType,!!e.values),u=e.values?Fz(a,e.values,o):dT(a,o);return i&&(r.rem=i),i=u.map((c,d)=>jt({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(jt({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function rW(e){ye.call(this,null,e)}function ble(){return jt({})}function Ale(e){const t=dh().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Ue(rW,ye,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||ble,a=e.key||st,s=this.value;return ke(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(a))&&ve("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=Ale(a)),t.visit(t.ADD,o=>{const l=a(o);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(o),s.set(l,u),r.add.push(u)),u.datum=o,u.exit=!1}),t.visit(t.MOD,o=>{const l=a(o),u=s.get(l);u&&(u.datum=o,r.mod.push(u))}),t.visit(t.REM,o=>{const l=a(o),u=s.get(l);o===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function iW(e){ye.call(this,null,e)}Ue(iW,ye,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(ke(a))if(n.changed()||a.every(d=>i[d]))a=a[0],n.encode=null;else return t.StopPropagation;var s=a==="enter",o=i.update||cu,l=i.enter||cu,u=i.exit||cu,c=(a&&!s?i[a]:o)||cu;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),o(d,e)}),n.modifies(l.output),n.modifies(o.output),c!==cu&&c!==o&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==cu&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),s||c!==cu){const d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,p=>{const g=l(p,e)||r;(c(p,e)||g)&&n.mod.push(p)}),n.mod.length&&n.modifies(l.output)):t.visit(d,p=>{(c(p,e)||r)&&n.mod.push(p)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function aW(e){ye.call(this,[],e)}Ue(aW,ye,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.type||Ly,s=e.scale,o=+e.limit,l=fT(s,e.count==null?5:e.count,e.minstep),u=!!e.values||a===Ly,c=e.format||Rz(n,s,l,a,e.formatSpecifier,e.formatType,u),d=e.values||Mz(s,l),p,g,m,x,v;return i&&(r.rem=i),a===Ly?(o&&d.length>o?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,o-1),v=!0):i=d,vt(m=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),x=i.reduce((_,E)=>Math.max(_,m(E,e)),0)):m=ui(x=m||8),i=i.map((_,E)=>jt({index:E,label:c(_,E,i),value:_,offset:x,size:m(_,e)})),v&&(v=d[i.length],i.push(jt({index:i.length,label:`${d.length-i.length} entries`,value:v,offset:x,size:m(v,e)})))):a===Qie?(p=s.domain(),g=Az(s,p[0],Dt(p)),d.length<3&&!e.values&&p[0]!==Dt(p)&&(d=[p[0],Dt(p)]),i=d.map((_,E)=>jt({index:E,label:c(_,E,d),value:_,perc:g(_)}))):(m=d.length-1,g=uae(s),i=d.map((_,E)=>jt({index:E,label:c(_,E,d),value:_,perc:E?g(_):0,perc2:E===m?1:g(d[E+1])}))),r.source=i,r.add=i,this.value=i,r}});const Cle=e=>e.source.x,Tle=e=>e.source.y,Fle=e=>e.target.x,Ole=e=>e.target.y;function qT(e){ye.call(this,{},e)}qT.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Ue(qT,ye,{transform(e,t){var n=e.sourceX||Cle,r=e.sourceY||Tle,i=e.targetX||Fle,a=e.targetY||Ole,s=e.as||"path",o=e.orient||"vertical",l=e.shape||"line",u=VM.get(l+"-"+o)||VM.get(l);return u||ve("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),a(c))}),t.reflow(e.modified()).modifies(s)}});const sW=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,Dle=(e,t,n,r)=>sW(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),oW=(e,t,n,r)=>{var i=n-e,a=r-t,s=Math.hypot(i,a)/2,o=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+o+" 0 1 "+n+","+r},Nle=(e,t,n,r)=>oW(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),lW=(e,t,n,r)=>{const i=n-e,a=r-t,s=.2*(i+a),o=.2*(a-i);return"M"+e+","+t+"C"+(e+s)+","+(t+o)+" "+(n+o)+","+(r-s)+" "+n+","+r},Mle=(e,t,n,r)=>lW(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Rle=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,Ile=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,$le=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),s=Math.cos(n),o=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*o+"L"+r*s+","+r*o},Lle=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},Ple=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},Ble=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),s=Math.cos(n),o=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*a+"C"+l*i+","+l*a+" "+l*s+","+l*o+" "+r*s+","+r*o},VM=dh({line:sW,"line-radial":Dle,arc:oW,"arc-radial":Nle,curve:lW,"curve-radial":Mle,"orthogonal-horizontal":Rle,"orthogonal-vertical":Ile,"orthogonal-radial":$le,"diagonal-horizontal":Lle,"diagonal-vertical":Ple,"diagonal-radial":Ble});function XT(e){ye.call(this,null,e)}XT.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Ue(XT,ye,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],a=e.field||lh,s=e.startAngle||0,o=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(a),c=u.length,d=s,p=(o-s)/kL(u),g=pa(c),m,x,v;for(e.sort&&g.sort((_,E)=>u[_]-u[E]),m=0;m<c;++m)v=u[g[m]],x=l[g[m]],x[r]=d,x[i]=d+=v*p;return this.value=u,t.reflow(e.modified()).modifies(n)}});const zle=5;function Ule(e){const t=e.type;return!e.bins&&(t===Md||t===Pg||t===Bg)}function uW(e){return lT(e)&&e!==ho}const Wle=Os(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function cW(e){ye.call(this,null,e),this.modified(!0)}Ue(cW,ye,{transform(e,t){var n=t.dataflow,r=this.value,i=Hle(e);(!r||i!==r.type)&&(this.value=r=Ht(i)());for(i in e)if(!Wle[i]){if(i==="padding"&&uW(r.type))continue;vt(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return Xle(r,e,qle(r,e,Gle(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Hle(e){var t=e.type,n="",r;return t===ho?ho+"-"+Md:(jle(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?ho+"-":r===3?_h+"-":""),(n+t||Md).toLowerCase())}function jle(e){const t=e.type;return lT(t)&&t!==_f&&t!==wf&&(e.scheme||e.range&&e.range.length&&e.range.every(Ye))}function Gle(e,t,n){const r=Yle(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,a=e.type,s=t.zero||t.zero===void 0&&Ule(e),o,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(o=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[o]<0&&(i[o]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[o]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[o]?o+1:l<i[0]?0:o;u!==o&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return uW(a)&&t.padding&&i[0]!==Dt(i)&&(i=Vle(a,i,t.range,t.padding,t.exponent,t.constant)),e.domain(fW(a,i,n)),a===iT&&e.unknown(t.domainImplicit?fA:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&fT(e,t.nice)||null),i.length}function Yle(e,t,n){return t?(e.domain(fW(e.type,t,n)),t.length):-1}function Vle(e,t,n,r,i,a){var s=Math.abs(Dt(n)-n[0]),o=s/(s-2*r),l=e===Sl?b3(t,null,o):e===Bg?lv(t,null,o,.5):e===Pg?lv(t,null,o,i||1):e===F_?A3(t,null,o,a||1):S3(t,null,o);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function fW(e,t,n){if(wz(e)){var r=Math.abs(t.reduce((i,a)=>i+(a<0?-1:a>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+Le(t))}return t}function qle(e,t,n){let r=t.bins;if(r&&!ke(r)){const i=e.domain(),a=i[0],s=Dt(i),o=r.step;let l=r.start==null?a:r.start,u=r.stop==null?s:r.stop;o||ve("Scale bins parameter missing step property."),l<a&&(l=o*Math.ceil(a/o)),u>s&&(u=o*Math.floor(s/o)),r=pa(l,u+o/2,o)}return r?e.bins=r:e.bins&&delete e.bins,e.type===aT&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function Xle(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(t.rangeStep!=null)a=Kle(r,t,n);else if(t.scheme&&(a=Jle(r,t,n),vt(a))){if(e.interpolator)return e.interpolator(a);ve(`Scale type ${r} does not support interpolating color schemes.`)}if(a&&Ez(r))return e.interpolator(N_(MA(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(uT(t.interpolate,t.interpolateGamma)):vt(e.round)?e.round(i):vt(e.rangeRound)&&e.interpolate(i?$g:ic),a&&e.range(MA(a,t.reverse))}function Kle(e,t,n){e!==gz&&e!==yA&&ve("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===yA?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*rT(n,i,r)]}function Jle(e,t,n){var r=t.schemeExtent,i,a;return ke(t.scheme)?a=N_(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),a=cT(i),a||ve(`Unrecognized scheme name: ${t.scheme}`)),n=e===D_?n+1:e===aT?n-1:e===Rd||e===O_?+t.schemeCount||zle:n,Ez(e)?qM(a,r,t.reverse):vt(a)?bz(qM(a,r),n):e===iT?a:a.slice(0,n)}function qM(e,t,n){return vt(e)&&(t||n)?Sz(e,MA(t||[0,1],n)):e}function MA(e,t){return t?e.slice().reverse():e}function dW(e){ye.call(this,null,e)}Ue(dW,ye,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Yf(e.sort)),this.modified(n),t}});const XM="zero",hW="center",pW="normalize",gW=["y0","y1"];function KT(e){ye.call(this,null,e)}KT.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:XM,values:[XM,hW,pW]},{name:"as",type:"string",array:!0,length:2,default:gW}]};Ue(KT,ye,{transform(e,t){var n=e.as||gW,r=n[0],i=n[1],a=Yf(e.sort),s=e.field||lh,o=e.offset===hW?Qle:e.offset===pW?Zle:eue,l,u,c,d;for(l=tue(t.source,e.groupby,a,s),u=0,c=l.length,d=l.max;u<c;++u)o(l[u],d,s,r,i);return t.reflow(e.modified()).modifies(n)}});function Qle(e,t,n,r,i){for(var a=(t-e.sum)/2,s=e.length,o=0,l;o<s;++o)l=e[o],l[r]=a,l[i]=a+=Math.abs(n(l))}function Zle(e,t,n,r,i){for(var a=1/e.sum,s=0,o=e.length,l=0,u=0,c;l<o;++l)c=e[l],c[r]=s,c[i]=s=a*(u+=Math.abs(n(c)))}function eue(e,t,n,r,i){for(var a=0,s=0,o=e.length,l=0,u,c;l<o;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=a,c[i]=a+=u)}function tue(e,t,n,r){var i=[],a=x=>x(c),s,o,l,u,c,d,p,g,m;if(t==null)i.push(e.slice());else for(s={},o=0,l=e.length;o<l;++o)c=e[o],d=t.map(a),p=s[d],p||(s[d]=p=[],i.push(p)),p.push(c);for(d=0,m=0,u=i.length;d<u;++d){for(p=i[d],o=0,g=0,l=p.length;o<l;++o)g+=Math.abs(r(p[o]));p.sum=g,g>m&&(m=g),n&&p.sort(n)}return i.max=m,i}const nue=Object.freeze(Object.defineProperty({__proto__:null,axisticks:nW,datajoin:rW,encode:iW,legendentries:aW,linkpath:qT,pie:XT,scale:cW,sortitems:dW,stack:KT},Symbol.toStringTag,{value:"Module"}));var lt=1e-6,Bv=1e-12,bt=Math.PI,Nn=bt/2,zv=bt/4,Oi=bt*2,Bn=180/bt,kt=bt/180,Ot=Math.abs,Eh=Math.atan,Xa=Math.atan2,ut=Math.cos,Qx=Math.ceil,mW=Math.exp,RA=Math.hypot,Uv=Math.log,ES=Math.pow,ot=Math.sin,za=Math.sign||function(e){return e>0?1:e<0?-1:0},Di=Math.sqrt,JT=Math.tan;function xW(e){return e>1?0:e<-1?bt:Math.acos(e)}function Ji(e){return e>1?Nn:e<-1?-Nn:Math.asin(e)}function Rr(){}function Wv(e,t){e&&JM.hasOwnProperty(e.type)&&JM[e.type](e,t)}var KM={Feature:function(e,t){Wv(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Wv(n[r].geometry,t)}},JM={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){IA(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)IA(n[r],t,0)},Polygon:function(e,t){QM(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)QM(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Wv(n[r],t)}};function IA(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function QM(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)IA(e[n],t,1);t.polygonEnd()}function il(e,t){e&&KM.hasOwnProperty(e.type)?KM[e.type](e,t):Wv(e,t)}var Hv=new Ci,jv=new Ci,yW,vW,$A,LA,PA,wo={point:Rr,lineStart:Rr,lineEnd:Rr,polygonStart:function(){Hv=new Ci,wo.lineStart=rue,wo.lineEnd=iue},polygonEnd:function(){var e=+Hv;jv.add(e<0?Oi+e:e),this.lineStart=this.lineEnd=this.point=Rr},sphere:function(){jv.add(Oi)}};function rue(){wo.point=aue}function iue(){_W(yW,vW)}function aue(e,t){wo.point=_W,yW=e,vW=t,e*=kt,t*=kt,$A=e,LA=ut(t=t/2+zv),PA=ot(t)}function _W(e,t){e*=kt,t*=kt,t=t/2+zv;var n=e-$A,r=n>=0?1:-1,i=r*n,a=ut(t),s=ot(t),o=PA*s,l=LA*a+o*ut(i),u=o*r*ot(i);Hv.add(Xa(u,l)),$A=e,LA=a,PA=s}function sue(e){return jv=new Ci,il(e,wo),jv*2}function Gv(e){return[Xa(e[1],e[0]),Ji(e[2])]}function kf(e){var t=e[0],n=e[1],r=ut(n);return[r*ut(t),r*ot(t),ot(n)]}function Zx(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function zd(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function kS(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ey(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Yv(e){var t=Di(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var bn,Gi,Fn,ca,Yc,wW,EW,pd,S1,gu,bl,nl={point:BA,lineStart:ZM,lineEnd:e9,polygonStart:function(){nl.point=SW,nl.lineStart=oue,nl.lineEnd=lue,S1=new Ci,wo.polygonStart()},polygonEnd:function(){wo.polygonEnd(),nl.point=BA,nl.lineStart=ZM,nl.lineEnd=e9,Hv<0?(bn=-(Fn=180),Gi=-(ca=90)):S1>lt?ca=90:S1<-lt&&(Gi=-90),bl[0]=bn,bl[1]=Fn},sphere:function(){bn=-(Fn=180),Gi=-(ca=90)}};function BA(e,t){gu.push(bl=[bn=e,Fn=e]),t<Gi&&(Gi=t),t>ca&&(ca=t)}function kW(e,t){var n=kf([e*kt,t*kt]);if(pd){var r=zd(pd,n),i=[r[1],-r[0],0],a=zd(i,r);Yv(a),a=Gv(a);var s=e-Yc,o=s>0?1:-1,l=a[0]*Bn*o,u,c=Ot(s)>180;c^(o*Yc<l&&l<o*e)?(u=a[1]*Bn,u>ca&&(ca=u)):(l=(l+360)%360-180,c^(o*Yc<l&&l<o*e)?(u=-a[1]*Bn,u<Gi&&(Gi=u)):(t<Gi&&(Gi=t),t>ca&&(ca=t))),c?e<Yc?ua(bn,e)>ua(bn,Fn)&&(Fn=e):ua(e,Fn)>ua(bn,Fn)&&(bn=e):Fn>=bn?(e<bn&&(bn=e),e>Fn&&(Fn=e)):e>Yc?ua(bn,e)>ua(bn,Fn)&&(Fn=e):ua(e,Fn)>ua(bn,Fn)&&(bn=e)}else gu.push(bl=[bn=e,Fn=e]);t<Gi&&(Gi=t),t>ca&&(ca=t),pd=n,Yc=e}function ZM(){nl.point=kW}function e9(){bl[0]=bn,bl[1]=Fn,nl.point=BA,pd=null}function SW(e,t){if(pd){var n=e-Yc;S1.add(Ot(n)>180?n+(n>0?360:-360):n)}else wW=e,EW=t;wo.point(e,t),kW(e,t)}function oue(){wo.lineStart()}function lue(){SW(wW,EW),wo.lineEnd(),Ot(S1)>lt&&(bn=-(Fn=180)),bl[0]=bn,bl[1]=Fn,pd=null}function ua(e,t){return(t-=e)<0?t+360:t}function uue(e,t){return e[0]-t[0]}function t9(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function cue(e){var t,n,r,i,a,s,o;if(ca=Fn=-(bn=Gi=1/0),gu=[],il(e,nl),n=gu.length){for(gu.sort(uue),t=1,r=gu[0],a=[r];t<n;++t)i=gu[t],t9(r,i[0])||t9(r,i[1])?(ua(r[0],i[1])>ua(r[0],r[1])&&(r[1]=i[1]),ua(i[0],r[1])>ua(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(o=ua(r[1],i[0]))>s&&(s=o,bn=i[0],Fn=r[1])}return gu=bl=null,bn===1/0||Gi===1/0?[[NaN,NaN],[NaN,NaN]]:[[bn,Gi],[Fn,ca]]}var r1,Vv,qv,Xv,Kv,Jv,Qv,Zv,zA,UA,WA,bW,AW,vi,_i,wi,Es={sphere:Rr,point:QT,lineStart:n9,lineEnd:r9,polygonStart:function(){Es.lineStart=hue,Es.lineEnd=pue},polygonEnd:function(){Es.lineStart=n9,Es.lineEnd=r9}};function QT(e,t){e*=kt,t*=kt;var n=ut(t);Jg(n*ut(e),n*ot(e),ot(t))}function Jg(e,t,n){++r1,qv+=(e-qv)/r1,Xv+=(t-Xv)/r1,Kv+=(n-Kv)/r1}function n9(){Es.point=fue}function fue(e,t){e*=kt,t*=kt;var n=ut(t);vi=n*ut(e),_i=n*ot(e),wi=ot(t),Es.point=due,Jg(vi,_i,wi)}function due(e,t){e*=kt,t*=kt;var n=ut(t),r=n*ut(e),i=n*ot(e),a=ot(t),s=Xa(Di((s=_i*a-wi*i)*s+(s=wi*r-vi*a)*s+(s=vi*i-_i*r)*s),vi*r+_i*i+wi*a);Vv+=s,Jv+=s*(vi+(vi=r)),Qv+=s*(_i+(_i=i)),Zv+=s*(wi+(wi=a)),Jg(vi,_i,wi)}function r9(){Es.point=QT}function hue(){Es.point=gue}function pue(){CW(bW,AW),Es.point=QT}function gue(e,t){bW=e,AW=t,e*=kt,t*=kt,Es.point=CW;var n=ut(t);vi=n*ut(e),_i=n*ot(e),wi=ot(t),Jg(vi,_i,wi)}function CW(e,t){e*=kt,t*=kt;var n=ut(t),r=n*ut(e),i=n*ot(e),a=ot(t),s=_i*a-wi*i,o=wi*r-vi*a,l=vi*i-_i*r,u=RA(s,o,l),c=Ji(u),d=u&&-c/u;zA.add(d*s),UA.add(d*o),WA.add(d*l),Vv+=c,Jv+=c*(vi+(vi=r)),Qv+=c*(_i+(_i=i)),Zv+=c*(wi+(wi=a)),Jg(vi,_i,wi)}function mue(e){r1=Vv=qv=Xv=Kv=Jv=Qv=Zv=0,zA=new Ci,UA=new Ci,WA=new Ci,il(e,Es);var t=+zA,n=+UA,r=+WA,i=RA(t,n,r);return i<Bv&&(t=Jv,n=Qv,r=Zv,Vv<lt&&(t=qv,n=Xv,r=Kv),i=RA(t,n,r),i<Bv)?[NaN,NaN]:[Xa(n,t)*Bn,Ji(r/i)*Bn]}function HA(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function jA(e,t){return Ot(e)>bt&&(e-=Math.round(e/Oi)*Oi),[e,t]}jA.invert=jA;function TW(e,t,n){return(e%=Oi)?t||n?HA(a9(e),s9(t,n)):a9(e):t||n?s9(t,n):jA}function i9(e){return function(t,n){return t+=e,Ot(t)>bt&&(t-=Math.round(t/Oi)*Oi),[t,n]}}function a9(e){var t=i9(e);return t.invert=i9(-e),t}function s9(e,t){var n=ut(e),r=ot(e),i=ut(t),a=ot(t);function s(o,l){var u=ut(l),c=ut(o)*u,d=ot(o)*u,p=ot(l),g=p*n+c*r;return[Xa(d*i-g*a,c*n-p*r),Ji(g*i+d*a)]}return s.invert=function(o,l){var u=ut(l),c=ut(o)*u,d=ot(o)*u,p=ot(l),g=p*i-d*a;return[Xa(d*i+p*a,c*n+g*r),Ji(g*n-c*r)]},s}function xue(e){e=TW(e[0]*kt,e[1]*kt,e.length>2?e[2]*kt:0);function t(n){return n=e(n[0]*kt,n[1]*kt),n[0]*=Bn,n[1]*=Bn,n}return t.invert=function(n){return n=e.invert(n[0]*kt,n[1]*kt),n[0]*=Bn,n[1]*=Bn,n},t}function yue(e,t,n,r,i,a){if(n){var s=ut(t),o=ot(t),l=r*n;i==null?(i=t+r*Oi,a=t-l/2):(i=o9(s,i),a=o9(s,a),(r>0?i<a:i>a)&&(i+=r*Oi));for(var u,c=i;r>0?c>a:c<a;c-=l)u=Gv([s,-o*ut(c),-o*ot(c)]),e.point(u[0],u[1])}}function o9(e,t){t=kf(t),t[0]-=e,Yv(t);var n=xW(-t[1]);return((-t[2]<0?-n:n)+Oi-lt)%Oi}function FW(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Rr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Yy(e,t){return Ot(e[0]-t[0])<lt&&Ot(e[1]-t[1])<lt}function ty(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function OW(e,t,n,r,i){var a=[],s=[],o,l;if(e.forEach(function(m){if(!((x=m.length-1)<=0)){var x,v=m[0],_=m[x],E;if(Yy(v,_)){if(!v[2]&&!_[2]){for(i.lineStart(),o=0;o<x;++o)i.point((v=m[o])[0],v[1]);i.lineEnd();return}_[0]+=2*lt}a.push(E=new ty(v,m,null,!0)),s.push(E.o=new ty(v,null,E,!1)),a.push(E=new ty(_,m,null,!1)),s.push(E.o=new ty(_,null,E,!0))}}),!!a.length){for(s.sort(t),l9(a),l9(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var u=a[0],c,d;;){for(var p=u,g=!0;p.v;)if((p=p.n)===u)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(o=0,l=c.length;o<l;++o)i.point((d=c[o])[0],d[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g)for(c=p.p.z,o=c.length-1;o>=0;--o)i.point((d=c[o])[0],d[1]);else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,g=!g}while(!p.v);i.lineEnd()}}}function l9(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function SS(e){return Ot(e[0])<=bt?e[0]:za(e[0])*((Ot(e[0])+bt)%Oi-bt)}function vue(e,t){var n=SS(t),r=t[1],i=ot(r),a=[ot(n),-ut(n),0],s=0,o=0,l=new Ci;i===1?r=Nn+lt:i===-1&&(r=-Nn-lt);for(var u=0,c=e.length;u<c;++u)if(p=(d=e[u]).length)for(var d,p,g=d[p-1],m=SS(g),x=g[1]/2+zv,v=ot(x),_=ut(x),E=0;E<p;++E,m=A,v=D,_=b,g=k){var k=d[E],A=SS(k),T=k[1]/2+zv,D=ot(T),b=ut(T),F=A-m,C=F>=0?1:-1,N=C*F,R=N>bt,L=v*D;if(l.add(Xa(L*C*ot(N),_*b+L*ut(N))),s+=R?F+C*Oi:F,R^m>=n^A>=n){var j=zd(kf(g),kf(k));Yv(j);var q=zd(a,j);Yv(q);var U=(R^F>=0?-1:1)*Ji(q[2]);(r>U||r===U&&(j[0]||j[1]))&&(o+=R^F>=0?1:-1)}}return(s<-lt||s<lt&&l<-Bv)^o&1}function DW(e,t,n,r){return function(i){var a=t(i),s=FW(),o=t(s),l=!1,u,c,d,p={point:g,lineStart:x,lineEnd:v,polygonStart:function(){p.point=_,p.lineStart=E,p.lineEnd=k,c=[],u=[]},polygonEnd:function(){p.point=g,p.lineStart=x,p.lineEnd=v,c=EL(c);var A=vue(u,r);c.length?(l||(i.polygonStart(),l=!0),OW(c,wue,A,n,i)):A&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(A,T){e(A,T)&&i.point(A,T)}function m(A,T){a.point(A,T)}function x(){p.point=m,a.lineStart()}function v(){p.point=g,a.lineEnd()}function _(A,T){d.push([A,T]),o.point(A,T)}function E(){o.lineStart(),d=[]}function k(){_(d[0][0],d[0][1]),o.lineEnd();var A=o.clean(),T=s.result(),D,b=T.length,F,C,N;if(d.pop(),u.push(d),d=null,!!b){if(A&1){if(C=T[0],(F=C.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),D=0;D<F;++D)i.point((N=C[D])[0],N[1]);i.lineEnd()}return}b>1&&A&2&&T.push(T.pop().concat(T.shift())),c.push(T.filter(_ue))}}return p}}function _ue(e){return e.length>1}function wue(e,t){return((e=e.x)[0]<0?e[1]-Nn-lt:Nn-e[1])-((t=t.x)[0]<0?t[1]-Nn-lt:Nn-t[1])}const u9=DW(function(){return!0},Eue,Sue,[-bt,-Nn]);function Eue(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?bt:-bt,l=Ot(a-t);Ot(l-bt)<lt?(e.point(t,n=(n+s)/2>0?Nn:-Nn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&l>=bt&&(Ot(t-r)<lt&&(t-=r*lt),Ot(a-o)<lt&&(a-=o*lt),n=kue(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function kue(e,t,n,r){var i,a,s=ot(e-n);return Ot(s)>lt?Eh((ot(t)*(a=ut(r))*ot(n)-ot(r)*(i=ut(t))*ot(e))/(i*a*s)):(t+r)/2}function Sue(e,t,n,r){var i;if(e==null)i=n*Nn,r.point(-bt,i),r.point(0,i),r.point(bt,i),r.point(bt,0),r.point(bt,-i),r.point(0,-i),r.point(-bt,-i),r.point(-bt,0),r.point(-bt,i);else if(Ot(e[0]-t[0])>lt){var a=e[0]<t[0]?bt:-bt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function bue(e){var t=ut(e),n=2*kt,r=t>0,i=Ot(t)>lt;function a(c,d,p,g){yue(g,e,n,p,c,d)}function s(c,d){return ut(c)*ut(d)>t}function o(c){var d,p,g,m,x;return{lineStart:function(){m=g=!1,x=1},point:function(v,_){var E=[v,_],k,A=s(v,_),T=r?A?0:u(v,_):A?u(v+(v<0?bt:-bt),_):0;if(!d&&(m=g=A)&&c.lineStart(),A!==g&&(k=l(d,E),(!k||Yy(d,k)||Yy(E,k))&&(E[2]=1)),A!==g)x=0,A?(c.lineStart(),k=l(E,d),c.point(k[0],k[1])):(k=l(d,E),c.point(k[0],k[1],2),c.lineEnd()),d=k;else if(i&&d&&r^A){var D;!(T&p)&&(D=l(E,d,!0))&&(x=0,r?(c.lineStart(),c.point(D[0][0],D[0][1]),c.point(D[1][0],D[1][1]),c.lineEnd()):(c.point(D[1][0],D[1][1]),c.lineEnd(),c.lineStart(),c.point(D[0][0],D[0][1],3)))}A&&(!d||!Yy(d,E))&&c.point(E[0],E[1]),d=E,g=A,p=T},lineEnd:function(){g&&c.lineEnd(),d=null},clean:function(){return x|(m&&g)<<1}}}function l(c,d,p){var g=kf(c),m=kf(d),x=[1,0,0],v=zd(g,m),_=Zx(v,v),E=v[0],k=_-E*E;if(!k)return!p&&c;var A=t*_/k,T=-t*E/k,D=zd(x,v),b=ey(x,A),F=ey(v,T);kS(b,F);var C=D,N=Zx(b,C),R=Zx(C,C),L=N*N-R*(Zx(b,b)-1);if(!(L<0)){var j=Di(L),q=ey(C,(-N-j)/R);if(kS(q,b),q=Gv(q),!p)return q;var U=c[0],K=d[0],ee=c[1],ne=d[1],z;K<U&&(z=U,U=K,K=z);var ae=K-U,W=Ot(ae-bt)<lt,M=W||ae<lt;if(!W&&ne<ee&&(z=ee,ee=ne,ne=z),M?W?ee+ne>0^q[1]<(Ot(q[0]-U)<lt?ee:ne):ee<=q[1]&&q[1]<=ne:ae>bt^(U<=q[0]&&q[0]<=K)){var Y=ey(C,(-N+j)/R);return kS(Y,b),[q,Gv(Y)]}}}function u(c,d){var p=r?e:bt-e,g=0;return c<-p?g|=1:c>p&&(g|=2),d<-p?g|=4:d>p&&(g|=8),g}return DW(s,o,a,r?[0,-e]:[-bt,e-bt])}function Aue(e,t,n,r,i,a){var s=e[0],o=e[1],l=t[0],u=t[1],c=0,d=1,p=l-s,g=u-o,m;if(m=n-s,!(!p&&m>0)){if(m/=p,p<0){if(m<c)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>c&&(c=m)}if(m=i-s,!(!p&&m<0)){if(m/=p,p<0){if(m>d)return;m>c&&(c=m)}else if(p>0){if(m<c)return;m<d&&(d=m)}if(m=r-o,!(!g&&m>0)){if(m/=g,g<0){if(m<c)return;m<d&&(d=m)}else if(g>0){if(m>d)return;m>c&&(c=m)}if(m=a-o,!(!g&&m<0)){if(m/=g,g<0){if(m>d)return;m>c&&(c=m)}else if(g>0){if(m<c)return;m<d&&(d=m)}return c>0&&(e[0]=s+c*p,e[1]=o+c*g),d<1&&(t[0]=s+d*p,t[1]=o+d*g),!0}}}}}var i1=1e9,ny=-i1;function NW(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function a(u,c,d,p){var g=0,m=0;if(u==null||(g=s(u,d))!==(m=s(c,d))||l(u,c)<0^d>0)do p.point(g===0||g===3?e:n,g>1?r:t);while((g=(g+d+4)%4)!==m);else p.point(c[0],c[1])}function s(u,c){return Ot(u[0]-e)<lt?c>0?0:3:Ot(u[0]-n)<lt?c>0?2:1:Ot(u[1]-t)<lt?c>0?1:0:c>0?3:2}function o(u,c){return l(u.x,c.x)}function l(u,c){var d=s(u,1),p=s(c,1);return d!==p?d-p:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=FW(),p,g,m,x,v,_,E,k,A,T,D,b={point:F,lineStart:L,lineEnd:j,polygonStart:N,polygonEnd:R};function F(U,K){i(U,K)&&c.point(U,K)}function C(){for(var U=0,K=0,ee=g.length;K<ee;++K)for(var ne=g[K],z=1,ae=ne.length,W=ne[0],M,Y,Q=W[0],V=W[1];z<ae;++z)M=Q,Y=V,W=ne[z],Q=W[0],V=W[1],Y<=r?V>r&&(Q-M)*(r-Y)>(V-Y)*(e-M)&&++U:V<=r&&(Q-M)*(r-Y)<(V-Y)*(e-M)&&--U;return U}function N(){c=d,p=[],g=[],D=!0}function R(){var U=C(),K=D&&U,ee=(p=EL(p)).length;(K||ee)&&(u.polygonStart(),K&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),ee&&OW(p,o,U,a,u),u.polygonEnd()),c=u,p=g=m=null}function L(){b.point=q,g&&g.push(m=[]),T=!0,A=!1,E=k=NaN}function j(){p&&(q(x,v),_&&A&&d.rejoin(),p.push(d.result())),b.point=F,A&&c.lineEnd()}function q(U,K){var ee=i(U,K);if(g&&m.push([U,K]),T)x=U,v=K,_=ee,T=!1,ee&&(c.lineStart(),c.point(U,K));else if(ee&&A)c.point(U,K);else{var ne=[E=Math.max(ny,Math.min(i1,E)),k=Math.max(ny,Math.min(i1,k))],z=[U=Math.max(ny,Math.min(i1,U)),K=Math.max(ny,Math.min(i1,K))];Aue(ne,z,e,t,n,r)?(A||(c.lineStart(),c.point(ne[0],ne[1])),c.point(z[0],z[1]),ee||c.lineEnd(),D=!1):ee&&(c.lineStart(),c.point(U,K),D=!1)}E=U,k=K,A=ee}return b}}function c9(e,t,n){var r=pa(e,t-lt,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function f9(e,t,n){var r=pa(e,t-lt,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function Cue(){var e,t,n,r,i,a,s,o,l=10,u=l,c=90,d=360,p,g,m,x,v=2.5;function _(){return{type:"MultiLineString",coordinates:E()}}function E(){return pa(Qx(r/c)*c,n,c).map(m).concat(pa(Qx(o/d)*d,s,d).map(x)).concat(pa(Qx(t/l)*l,e,l).filter(function(k){return Ot(k%c)>lt}).map(p)).concat(pa(Qx(a/u)*u,i,u).filter(function(k){return Ot(k%d)>lt}).map(g))}return _.lines=function(){return E().map(function(k){return{type:"LineString",coordinates:k}})},_.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(x(s).slice(1),m(n).reverse().slice(1),x(o).reverse().slice(1))]}},_.extent=function(k){return arguments.length?_.extentMajor(k).extentMinor(k):_.extentMinor()},_.extentMajor=function(k){return arguments.length?(r=+k[0][0],n=+k[1][0],o=+k[0][1],s=+k[1][1],r>n&&(k=r,r=n,n=k),o>s&&(k=o,o=s,s=k),_.precision(v)):[[r,o],[n,s]]},_.extentMinor=function(k){return arguments.length?(t=+k[0][0],e=+k[1][0],a=+k[0][1],i=+k[1][1],t>e&&(k=t,t=e,e=k),a>i&&(k=a,a=i,i=k),_.precision(v)):[[t,a],[e,i]]},_.step=function(k){return arguments.length?_.stepMajor(k).stepMinor(k):_.stepMinor()},_.stepMajor=function(k){return arguments.length?(c=+k[0],d=+k[1],_):[c,d]},_.stepMinor=function(k){return arguments.length?(l=+k[0],u=+k[1],_):[l,u]},_.precision=function(k){return arguments.length?(v=+k,p=c9(a,i,90),g=f9(t,e,v),m=c9(o,s,90),x=f9(r,n,v),_):v},_.extentMajor([[-180,-90+lt],[180,90-lt]]).extentMinor([[-180,-80-lt],[180,80+lt]])}const tg=e=>e;var bS=new Ci,GA=new Ci,MW,RW,YA,VA,al={point:Rr,lineStart:Rr,lineEnd:Rr,polygonStart:function(){al.lineStart=Tue,al.lineEnd=Oue},polygonEnd:function(){al.lineStart=al.lineEnd=al.point=Rr,bS.add(Ot(GA)),GA=new Ci},result:function(){var e=bS/2;return bS=new Ci,e}};function Tue(){al.point=Fue}function Fue(e,t){al.point=IW,MW=YA=e,RW=VA=t}function IW(e,t){GA.add(VA*e-YA*t),YA=e,VA=t}function Oue(){IW(MW,RW)}var Ud=1/0,e2=Ud,ng=-Ud,t2=ng,n2={point:Due,lineStart:Rr,lineEnd:Rr,polygonStart:Rr,polygonEnd:Rr,result:function(){var e=[[Ud,e2],[ng,t2]];return ng=t2=-(e2=Ud=1/0),e}};function Due(e,t){e<Ud&&(Ud=e),e>ng&&(ng=e),t<e2&&(e2=t),t>t2&&(t2=t)}var qA=0,XA=0,a1=0,r2=0,i2=0,sd=0,KA=0,JA=0,s1=0,$W,LW,so,oo,Pa={point:Sf,lineStart:d9,lineEnd:h9,polygonStart:function(){Pa.lineStart=Rue,Pa.lineEnd=Iue},polygonEnd:function(){Pa.point=Sf,Pa.lineStart=d9,Pa.lineEnd=h9},result:function(){var e=s1?[KA/s1,JA/s1]:sd?[r2/sd,i2/sd]:a1?[qA/a1,XA/a1]:[NaN,NaN];return qA=XA=a1=r2=i2=sd=KA=JA=s1=0,e}};function Sf(e,t){qA+=e,XA+=t,++a1}function d9(){Pa.point=Nue}function Nue(e,t){Pa.point=Mue,Sf(so=e,oo=t)}function Mue(e,t){var n=e-so,r=t-oo,i=Di(n*n+r*r);r2+=i*(so+e)/2,i2+=i*(oo+t)/2,sd+=i,Sf(so=e,oo=t)}function h9(){Pa.point=Sf}function Rue(){Pa.point=$ue}function Iue(){PW($W,LW)}function $ue(e,t){Pa.point=PW,Sf($W=so=e,LW=oo=t)}function PW(e,t){var n=e-so,r=t-oo,i=Di(n*n+r*r);r2+=i*(so+e)/2,i2+=i*(oo+t)/2,sd+=i,i=oo*e-so*t,KA+=i*(so+e),JA+=i*(oo+t),s1+=i*3,Sf(so=e,oo=t)}function BW(e){this._context=e}BW.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Oi);break}}},result:Rr};var QA=new Ci,AS,zW,UW,o1,l1,rg={point:Rr,lineStart:function(){rg.point=Lue},lineEnd:function(){AS&&WW(zW,UW),rg.point=Rr},polygonStart:function(){AS=!0},polygonEnd:function(){AS=null},result:function(){var e=+QA;return QA=new Ci,e}};function Lue(e,t){rg.point=WW,zW=o1=e,UW=l1=t}function WW(e,t){o1-=e,l1-=t,QA.add(Di(o1*o1+l1*l1)),o1=e,l1=t}let p9,a2,g9,m9;class x9{constructor(t){this._append=t==null?HW:Pue(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==g9||this._append!==a2){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,g9=r,a2=this._append,m9=this._,this._=i}this._+=m9;break}}}result(){const t=this._;return this._="",t.length?t:null}}function HW(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Pue(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return HW;if(t!==p9){const n=10**t;p9=t,a2=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return a2}function jW(e,t){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),il(o,i(a))),a.result()}return s.area=function(o){return il(o,i(al)),al.result()},s.measure=function(o){return il(o,i(rg)),rg.result()},s.bounds=function(o){return il(o,i(n2)),n2.result()},s.centroid=function(o){return il(o,i(Pa)),Pa.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,tg):(e=o).stream,s):e},s.context=function(o){return arguments.length?(a=o==null?(t=null,new x9(n)):new BW(t=o),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return t===null&&(a=new x9(n)),s},s.projection(e).digits(n).context(t)}function G_(e){return function(t){var n=new ZA;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ZA(){}ZA.prototype={constructor:ZA,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ZT(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),il(n,e.stream(n2)),t(n2.result()),r!=null&&e.clipExtent(r),e}function Y_(e,t,n){return ZT(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,l])},n)}function e5(e,t,n){return Y_(e,[[0,0],t],n)}function t5(e,t,n){return ZT(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];e.scale(150*a).translate([s,o])},n)}function n5(e,t,n){return ZT(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,o])},n)}var y9=16,Bue=ut(30*kt);function v9(e,t){return+t?Uue(e,t):zue(e)}function zue(e){return G_({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Uue(e,t){function n(r,i,a,s,o,l,u,c,d,p,g,m,x,v){var _=u-r,E=c-i,k=_*_+E*E;if(k>4*t&&x--){var A=s+p,T=o+g,D=l+m,b=Di(A*A+T*T+D*D),F=Ji(D/=b),C=Ot(Ot(D)-1)<lt||Ot(a-d)<lt?(a+d)/2:Xa(T,A),N=e(C,F),R=N[0],L=N[1],j=R-r,q=L-i,U=E*j-_*q;(U*U/k>t||Ot((_*j+E*q)/k-.5)>.3||s*p+o*g+l*m<Bue)&&(n(r,i,a,s,o,l,R,L,C,A/=b,T/=b,D,x,v),v.point(R,L),n(R,L,C,A,T,D,u,c,d,p,g,m,x,v))}}return function(r){var i,a,s,o,l,u,c,d,p,g,m,x,v={point:_,lineStart:E,lineEnd:A,polygonStart:function(){r.polygonStart(),v.lineStart=T},polygonEnd:function(){r.polygonEnd(),v.lineStart=E}};function _(F,C){F=e(F,C),r.point(F[0],F[1])}function E(){d=NaN,v.point=k,r.lineStart()}function k(F,C){var N=kf([F,C]),R=e(F,C);n(d,p,c,g,m,x,d=R[0],p=R[1],c=F,g=N[0],m=N[1],x=N[2],y9,r),r.point(d,p)}function A(){v.point=_,r.lineEnd()}function T(){E(),v.point=D,v.lineEnd=b}function D(F,C){k(i=F,C),a=d,s=p,o=g,l=m,u=x,v.point=k}function b(){n(d,p,c,g,m,x,a,s,i,o,l,u,y9,r),v.lineEnd=A,A()}return v}}var Wue=G_({point:function(e,t){this.stream.point(e*kt,t*kt)}});function Hue(e){return G_({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function jue(e,t,n,r,i){function a(s,o){return s*=r,o*=i,[t+e*s,n-e*o]}return a.invert=function(s,o){return[(s-t)/e*r,(n-o)/e*i]},a}function _9(e,t,n,r,i,a){if(!a)return jue(e,t,n,r,i);var s=ut(a),o=ot(a),l=s*e,u=o*e,c=s/e,d=o/e,p=(o*n-s*t)/e,g=(o*t+s*n)/e;function m(x,v){return x*=r,v*=i,[l*x-u*v+t,n-u*x-l*v]}return m.invert=function(x,v){return[r*(c*x-d*v+p),i*(g-d*x-c*v)]},m}function Do(e){return GW(function(){return e})()}function GW(e){var t,n=150,r=480,i=250,a=0,s=0,o=0,l=0,u=0,c,d=0,p=1,g=1,m=null,x=u9,v=null,_,E,k,A=tg,T=.5,D,b,F,C,N;function R(U){return F(U[0]*kt,U[1]*kt)}function L(U){return U=F.invert(U[0],U[1]),U&&[U[0]*Bn,U[1]*Bn]}R.stream=function(U){return C&&N===U?C:C=Wue(Hue(c)(x(D(A(N=U)))))},R.preclip=function(U){return arguments.length?(x=U,m=void 0,q()):x},R.postclip=function(U){return arguments.length?(A=U,v=_=E=k=null,q()):A},R.clipAngle=function(U){return arguments.length?(x=+U?bue(m=U*kt):(m=null,u9),q()):m*Bn},R.clipExtent=function(U){return arguments.length?(A=U==null?(v=_=E=k=null,tg):NW(v=+U[0][0],_=+U[0][1],E=+U[1][0],k=+U[1][1]),q()):v==null?null:[[v,_],[E,k]]},R.scale=function(U){return arguments.length?(n=+U,j()):n},R.translate=function(U){return arguments.length?(r=+U[0],i=+U[1],j()):[r,i]},R.center=function(U){return arguments.length?(a=U[0]%360*kt,s=U[1]%360*kt,j()):[a*Bn,s*Bn]},R.rotate=function(U){return arguments.length?(o=U[0]%360*kt,l=U[1]%360*kt,u=U.length>2?U[2]%360*kt:0,j()):[o*Bn,l*Bn,u*Bn]},R.angle=function(U){return arguments.length?(d=U%360*kt,j()):d*Bn},R.reflectX=function(U){return arguments.length?(p=U?-1:1,j()):p<0},R.reflectY=function(U){return arguments.length?(g=U?-1:1,j()):g<0},R.precision=function(U){return arguments.length?(D=v9(b,T=U*U),q()):Di(T)},R.fitExtent=function(U,K){return Y_(R,U,K)},R.fitSize=function(U,K){return e5(R,U,K)},R.fitWidth=function(U,K){return t5(R,U,K)},R.fitHeight=function(U,K){return n5(R,U,K)};function j(){var U=_9(n,0,0,p,g,d).apply(null,t(a,s)),K=_9(n,r-U[0],i-U[1],p,g,d);return c=TW(o,l,u),b=HA(t,K),F=HA(c,b),D=v9(b,T),q()}function q(){return C=N=null,R}return function(){return t=e.apply(this,arguments),R.invert=t.invert&&L,j()}}function r5(e){var t=0,n=bt/3,r=GW(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*kt,n=a[1]*kt):[t*Bn,n*Bn]},i}function Gue(e){var t=ut(e);function n(r,i){return[r*t,ot(i)/t]}return n.invert=function(r,i){return[r/t,Ji(i*t)]},n}function Yue(e,t){var n=ot(e),r=(n+ot(t))/2;if(Ot(r)<lt)return Gue(e);var i=1+n*(2*r-n),a=Di(i)/r;function s(o,l){var u=Di(i-2*r*ot(l))/r;return[u*ot(o*=r),a-u*ut(o)]}return s.invert=function(o,l){var u=a-l,c=Xa(o,Ot(u))*za(u);return u*r<0&&(c-=bt*za(o)*za(u)),[c/r,Ji((i-(o*o+u*u)*r*r)/(2*r))]},s}function s2(){return r5(Yue).scale(155.424).center([0,33.6442])}function YW(){return s2().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Vue(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function que(){var e,t,n=YW(),r,i=s2().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=s2().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(p,g){l=[p,g]}};function c(p){var g=p[0],m=p[1];return l=null,r.point(g,m),l||(a.point(g,m),l)||(o.point(g,m),l)}c.invert=function(p){var g=n.scale(),m=n.translate(),x=(p[0]-m[0])/g,v=(p[1]-m[1])/g;return(v>=.12&&v<.234&&x>=-.425&&x<-.214?i:v>=.166&&v<.234&&x>=-.214&&x<-.115?s:n).invert(p)},c.stream=function(p){return e&&t===p?e:e=Vue([n.stream(t=p),i.stream(p),s.stream(p)])},c.precision=function(p){return arguments.length?(n.precision(p),i.precision(p),s.precision(p),d()):n.precision()},c.scale=function(p){return arguments.length?(n.scale(p),i.scale(p*.35),s.scale(p),c.translate(n.translate())):n.scale()},c.translate=function(p){if(!arguments.length)return n.translate();var g=n.scale(),m=+p[0],x=+p[1];return r=n.translate(p).clipExtent([[m-.455*g,x-.238*g],[m+.455*g,x+.238*g]]).stream(u),a=i.translate([m-.307*g,x+.201*g]).clipExtent([[m-.425*g+lt,x+.12*g+lt],[m-.214*g-lt,x+.234*g-lt]]).stream(u),o=s.translate([m-.205*g,x+.212*g]).clipExtent([[m-.214*g+lt,x+.166*g+lt],[m-.115*g-lt,x+.234*g-lt]]).stream(u),d()},c.fitExtent=function(p,g){return Y_(c,p,g)},c.fitSize=function(p,g){return e5(c,p,g)},c.fitWidth=function(p,g){return t5(c,p,g)},c.fitHeight=function(p,g){return n5(c,p,g)};function d(){return e=t=null,c}return c.scale(1070)}function VW(e){return function(t,n){var r=ut(t),i=ut(n),a=e(r*i);return a===1/0?[2,0]:[a*i*ot(t),a*ot(n)]}}function Qg(e){return function(t,n){var r=Di(t*t+n*n),i=e(r),a=ot(i),s=ut(i);return[Xa(t*a,r*s),Ji(r&&n*a/r)]}}var qW=VW(function(e){return Di(2/(1+e))});qW.invert=Qg(function(e){return 2*Ji(e/2)});function Xue(){return Do(qW).scale(124.75).clipAngle(180-.001)}var XW=VW(function(e){return(e=xW(e))&&e/ot(e)});XW.invert=Qg(function(e){return e});function Kue(){return Do(XW).scale(79.4188).clipAngle(180-.001)}function V_(e,t){return[e,Uv(JT((Nn+t)/2))]}V_.invert=function(e,t){return[e,2*Eh(mW(t))-Nn]};function Jue(){return KW(V_).scale(961/Oi)}function KW(e){var t=Do(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,o,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=o=l=u=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):s==null?null:[[s,o],[l,u]]};function c(){var d=bt*r(),p=t(xue(t.rotate()).invert([0,0]));return a(s==null?[[p[0]-d,p[1]-d],[p[0]+d,p[1]+d]]:e===V_?[[Math.max(p[0]-d,s),o],[Math.min(p[0]+d,l),u]]:[[s,Math.max(p[1]-d,o)],[l,Math.min(p[1]+d,u)]])}return c()}function ry(e){return JT((Nn+e)/2)}function Que(e,t){var n=ut(e),r=e===t?ot(e):Uv(n/ut(t))/Uv(ry(t)/ry(e)),i=n*ES(ry(e),r)/r;if(!r)return V_;function a(s,o){i>0?o<-Nn+lt&&(o=-Nn+lt):o>Nn-lt&&(o=Nn-lt);var l=i/ES(ry(o),r);return[l*ot(r*s),i-l*ut(r*s)]}return a.invert=function(s,o){var l=i-o,u=za(r)*Di(s*s+l*l),c=Xa(s,Ot(l))*za(l);return l*r<0&&(c-=bt*za(s)*za(l)),[c/r,2*Eh(ES(i/u,1/r))-Nn]},a}function Zue(){return r5(Que).scale(109.5).parallels([30,30])}function o2(e,t){return[e,t]}o2.invert=o2;function ece(){return Do(o2).scale(152.63)}function tce(e,t){var n=ut(e),r=e===t?ot(e):(n-ut(t))/(t-e),i=n/r+e;if(Ot(r)<lt)return o2;function a(s,o){var l=i-o,u=r*s;return[l*ot(u),i-l*ut(u)]}return a.invert=function(s,o){var l=i-o,u=Xa(s,Ot(l))*za(l);return l*r<0&&(u-=bt*za(s)*za(l)),[u/r,i-za(r)*Di(s*s+l*l)]},a}function nce(){return r5(tce).scale(131.154).center([0,13.9389])}var b1=1.340264,A1=-.081106,C1=893e-6,T1=.003796,l2=Di(3)/2,rce=12;function JW(e,t){var n=Ji(l2*ot(t)),r=n*n,i=r*r*r;return[e*ut(n)/(l2*(b1+3*A1*r+i*(7*C1+9*T1*r))),n*(b1+A1*r+i*(C1+T1*r))]}JW.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,o,l;a<rce&&(o=n*(b1+A1*r+i*(C1+T1*r))-t,l=b1+3*A1*r+i*(7*C1+9*T1*r),n-=s=o/l,r=n*n,i=r*r*r,!(Ot(s)<Bv));++a);return[l2*e*(b1+3*A1*r+i*(7*C1+9*T1*r))/ut(n),Ji(ot(n)/l2)]};function ice(){return Do(JW).scale(177.158)}function QW(e,t){var n=ut(t),r=ut(e)*n;return[n*ot(e)/r,ot(t)/r]}QW.invert=Qg(Eh);function ace(){return Do(QW).scale(144.049).clipAngle(60)}function sce(){var e=1,t=0,n=0,r=1,i=1,a=0,s,o,l=null,u,c,d,p=1,g=1,m=G_({point:function(A,T){var D=k([A,T]);this.stream.point(D[0],D[1])}}),x=tg,v,_;function E(){return p=e*r,g=e*i,v=_=null,k}function k(A){var T=A[0]*p,D=A[1]*g;if(a){var b=D*s-T*o;T=T*s+D*o,D=b}return[T+t,D+n]}return k.invert=function(A){var T=A[0]-t,D=A[1]-n;if(a){var b=D*s+T*o;T=T*s-D*o,D=b}return[T/p,D/g]},k.stream=function(A){return v&&_===A?v:v=m(x(_=A))},k.postclip=function(A){return arguments.length?(x=A,l=u=c=d=null,E()):x},k.clipExtent=function(A){return arguments.length?(x=A==null?(l=u=c=d=null,tg):NW(l=+A[0][0],u=+A[0][1],c=+A[1][0],d=+A[1][1]),E()):l==null?null:[[l,u],[c,d]]},k.scale=function(A){return arguments.length?(e=+A,E()):e},k.translate=function(A){return arguments.length?(t=+A[0],n=+A[1],E()):[t,n]},k.angle=function(A){return arguments.length?(a=A%360*kt,o=ot(a),s=ut(a),E()):a*Bn},k.reflectX=function(A){return arguments.length?(r=A?-1:1,E()):r<0},k.reflectY=function(A){return arguments.length?(i=A?-1:1,E()):i<0},k.fitExtent=function(A,T){return Y_(k,A,T)},k.fitSize=function(A,T){return e5(k,A,T)},k.fitWidth=function(A,T){return t5(k,A,T)},k.fitHeight=function(A,T){return n5(k,A,T)},k}function ZW(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}ZW.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-t)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(Ot(i)>lt&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function oce(){return Do(ZW).scale(175.295)}function eH(e,t){return[ut(t)*ot(e),ot(t)]}eH.invert=Qg(Ji);function lce(){return Do(eH).scale(249.5).clipAngle(90+lt)}function tH(e,t){var n=ut(t),r=1+ut(e)*n;return[n*ot(e)/r,ot(t)/r]}tH.invert=Qg(function(e){return 2*Eh(e)});function uce(){return Do(tH).scale(250).clipAngle(142)}function nH(e,t){return[Uv(JT((Nn+t)/2)),-e]}nH.invert=function(e,t){return[-t,2*Eh(mW(e))-Nn]};function cce(){var e=KW(nH),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var fce=Math.abs,e4=Math.cos,u2=Math.sin,dce=1e-6,rH=Math.PI,t4=rH/2,w9=hce(2);function E9(e){return e>1?t4:e<-1?-t4:Math.asin(e)}function hce(e){return e>0?Math.sqrt(e):0}function pce(e,t){var n=e*u2(t),r=30,i;do t-=i=(t+u2(t)-n)/(1+e4(t));while(fce(i)>dce&&--r>0);return t/2}function gce(e,t,n){function r(i,a){return[e*i*e4(a=pce(n,a)),t*u2(a)]}return r.invert=function(i,a){return a=E9(a/t),[i/(e*e4(a)),E9((2*a+u2(2*a))/n)]},r}var mce=gce(w9/t4,w9,rH);function xce(){return Do(mce).scale(169.529)}const yce=jW(),n4=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function vce(e,t){return function n(){const r=t();return r.type=e,r.path=jW().projection(r),r.copy=r.copy||function(){const i=n();return n4.forEach(a=>{r[a]&&i[a](r[a]())}),i.path.pointRadius(r.path.pointRadius()),i},vz(r)}}function i5(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(c2[e]=vce(e,t),this):c2[e]||null}function iH(e){return e&&e.path||yce}const c2={albers:YW,albersusa:que,azimuthalequalarea:Xue,azimuthalequidistant:Kue,conicconformal:Zue,conicequalarea:s2,conicequidistant:nce,equalEarth:ice,equirectangular:ece,gnomonic:ace,identity:sce,mercator:Jue,mollweide:xce,naturalEarth1:oce,orthographic:lce,stereographic:uce,transversemercator:cce};for(const e in c2)i5(e,c2[e]);function _ce(){}const Qo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function aH(){var e=1,t=1,n=o;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return a(l,u,p=>{n(p,l,u),wce(p)>0?c.push([p]):d.push(p)}),d.forEach(p=>{for(var g=0,m=c.length,x;g<m;++g)if(Ece((x=c[g])[0],p)!==-1){x.push(p);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function a(l,u,c){var d=[],p=[],g,m,x,v,_,E;for(g=m=-1,v=l[0]>=u,Qo[v<<1].forEach(k);++g<e-1;)x=v,v=l[g+1]>=u,Qo[x|v<<1].forEach(k);for(Qo[v<<0].forEach(k);++m<t-1;){for(g=-1,v=l[m*e+e]>=u,_=l[m*e]>=u,Qo[v<<1|_<<2].forEach(k);++g<e-1;)x=v,v=l[m*e+e+g+1]>=u,E=_,_=l[m*e+g+1]>=u,Qo[x|v<<1|_<<2|E<<3].forEach(k);Qo[v|_<<3].forEach(k)}for(g=-1,_=l[m*e]>=u,Qo[_<<2].forEach(k);++g<e-1;)E=_,_=l[m*e+g+1]>=u,Qo[_<<2|E<<3].forEach(k);Qo[_<<3].forEach(k);function k(A){var T=[A[0][0]+g,A[0][1]+m],D=[A[1][0]+g,A[1][1]+m],b=s(T),F=s(D),C,N;(C=p[b])?(N=d[F])?(delete p[C.end],delete d[N.start],C===N?(C.ring.push(D),c(C.ring)):d[C.start]=p[N.end]={start:C.start,end:N.end,ring:C.ring.concat(N.ring)}):(delete p[C.end],C.ring.push(D),p[C.end=F]=C):(C=d[F])?(N=p[b])?(delete d[C.start],delete p[N.end],C===N?(C.ring.push(D),c(C.ring)):d[N.start]=p[C.end]={start:N.start,end:C.end,ring:N.ring.concat(C.ring)}):(delete d[C.start],C.ring.unshift(T),d[C.start=b]=C):d[b]=p[F]={start:b,end:F,ring:[T,D]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function o(l,u,c){l.forEach(d=>{var p=d[0],g=d[1],m=p|0,x=g|0,v,_=u[x*e+m];p>0&&p<e&&m===p&&(v=u[x*e+m-1],d[0]=p+(c-v)/(_-v)-.5),g>0&&g<t&&x===g&&(v=u[(x-1)*e+m],d[1]=g+(c-v)/(_-v)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||ve("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?o:_ce,r):n===o},r}function wce(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function Ece(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=kce(e,t[n]))return i;return 0}function kce(e,t){for(var n=t[0],r=t[1],i=-1,a=0,s=e.length,o=s-1;a<s;o=a++){var l=e[a],u=l[0],c=l[1],d=e[o],p=d[0],g=d[1];if(Sce(l,d,t))return 0;c>r!=g>r&&n<(p-u)*(r-c)/(g-c)+u&&(i=-i)}return i}function Sce(e,t,n){var r;return bce(e,t,n)&&Ace(e[r=+(e[0]===t[0])],n[r],t[r])}function bce(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Ace(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function sH(e,t,n){return function(r){var i=xo(r),a=n?Math.min(i[0],0):i[0],s=i[1],o=s-a,l=t?Bu(a,s,e):o/(e+1);return pa(a+l,s,l)}}function a5(e){ye.call(this,null,e)}a5.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Ue(a5,ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||li,a=aH().smooth(e.smooth!==!1),s=e.thresholds||Cce(r,i,e),o=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=a.size([c.width,c.height])(c.values,ke(s)?s:s(c.values));Tce(d,c,u,e),d.forEach(p=>{l.push(c_(u,jt(o!=null?{[o]:p}:p)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Cce(e,t,n){const r=sH(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>sf(t(i).values)))}function Tce(e,t,n,r){let i=r.scale||t.scale,a=r.translate||t.translate;if(vt(i)&&(i=i(n,r)),vt(a)&&(a=a(n,r)),(i===1||i==null)&&!a)return;const s=(Ut(i)?i:i[0])||1,o=(Ut(i)?i:i[1])||1,l=a&&a[0]||0,u=a&&a[1]||0;e.forEach(oH(t,s,o,l,u))}function oH(e,t,n,r,i){const a=e.x1||0,s=e.y1||0,o=t*n<0;function l(d){d.forEach(u)}function u(d){o&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-a)*t+r,d[1]=(d[1]-s)*n+i}return function(d){return d.coordinates.forEach(l),d}}function k9(e,t,n){const r=e>=0?e:J3(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function CS(e){return vt(e)?e:ui(+e)}function lH(){var e=l=>l[0],t=l=>l[1],n=lh,r=[-1,-1],i=960,a=500,s=2;function o(l,u){const c=k9(r[0],l,e)>>s,d=k9(r[1],l,t)>>s,p=c?c+2:0,g=d?d+2:0,m=2*p+(i>>s),x=2*g+(a>>s),v=new Float32Array(m*x),_=new Float32Array(m*x);let E=v;l.forEach(A=>{const T=p+(+e(A)>>s),D=g+(+t(A)>>s);T>=0&&T<m&&D>=0&&D<x&&(v[T+D*m]+=+n(A))}),c>0&&d>0?(j0(m,x,v,_,c),G0(m,x,_,v,d),j0(m,x,v,_,c),G0(m,x,_,v,d),j0(m,x,v,_,c),G0(m,x,_,v,d)):c>0?(j0(m,x,v,_,c),j0(m,x,_,v,c),j0(m,x,v,_,c),E=_):d>0&&(G0(m,x,v,_,d),G0(m,x,_,v,d),G0(m,x,v,_,d),E=_);const k=u?Math.pow(2,-2*s):1/kL(E);for(let A=0,T=m*x;A<T;++A)E[A]*=k;return{values:E,scale:1<<s,width:m,height:x,x1:p,y1:g,x2:p+(i>>s),y2:g+(a>>s)}}return o.x=function(l){return arguments.length?(e=CS(l),o):e},o.y=function(l){return arguments.length?(t=CS(l),o):t},o.weight=function(l){return arguments.length?(n=CS(l),o):n},o.size=function(l){if(!arguments.length)return[i,a];var u=+l[0],c=+l[1];return u>=0&&c>=0||ve("invalid size"),i=u,a=c,o},o.cellSize=function(l){return arguments.length?((l=+l)>=1||ve("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),o):1<<s},o.bandwidth=function(l){return arguments.length?(l=Ve(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&ve("invalid bandwidth"),r=l,o):r},o}function j0(e,t,n,r,i){const a=(i<<1)+1;for(let s=0;s<t;++s)for(let o=0,l=0;o<e+i;++o)o<e&&(l+=n[o+s*e]),o>=i&&(o>=a&&(l-=n[o-a+s*e]),r[o-i+s*e]=l/Math.min(o+1,e-1+a-o,a))}function G0(e,t,n,r,i){const a=(i<<1)+1;for(let s=0;s<e;++s)for(let o=0,l=0;o<t+i;++o)o<t&&(l+=n[s+o*e]),o>=i&&(o>=a&&(l-=n[s+(o-a)*e]),r[s+(o-i)*e]=l/Math.min(o+1,t-1+a-o,a))}function s5(e){ye.call(this,null,e)}s5.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Fce=["x","y","weight","size","cellSize","bandwidth"];function uH(e,t){return Fce.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Ue(s5,ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Oce(r,e.groupby),a=(e.groupby||[]).map(Mn),s=uH(lH(),e),o=e.as||"grid",l=[];function u(c,d){for(let p=0;p<a.length;++p)c[a[p]]=d[p];return c}return l=i.map(c=>jt(u({[o]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Oce(e,t){var n=[],r=c=>c(o),i,a,s,o,l,u;if(t==null)n.push(e);else for(i={},a=0,s=e.length;a<s;++a)o=e[a],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(o);return n}function o5(e){ye.call(this,null,e)}o5.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Ue(o5,ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=aH().smooth(e.smooth!==!1),i=e.values,a=e.thresholds||sH(e.count||10,e.nice,!!i),s=e.size,o,l;return i||(i=t.materialize(t.SOURCE).source,o=uH(lH(),e)(i,!0),l=oH(o,o.scale||1,o.scale||1,0,0),s=[o.width,o.height],i=o.values),a=ke(a)?a:a(i),i=r.size(s)(i,a),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(jt),n}});const r4="Feature",l5="FeatureCollection",Dce="MultiPoint";function u5(e){ye.call(this,null,e)}u5.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Ue(u5,ye,{transform(e,t){var n=this._features,r=this._points,i=e.fields,a=i&&i[0],s=i&&i[1],o=e.geojson||!i&&li,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(ri(o))||a&&t.modified(ri(a))||s&&t.modified(ri(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),o&&t.visit(l,c=>n.push(o(c))),a&&s&&(t.visit(l,c=>{var d=a(c),p=s(c);d!=null&&p!=null&&(d=+d)===d&&(p=+p)===p&&r.push([d,p])}),n=n.concat({type:r4,geometry:{type:Dce,coordinates:r}})),this.value={type:l5,features:n}}});function c5(e){ye.call(this,null,e)}c5.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Ue(c5,ye,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||li,a=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=iH(e.projection),n.materialize().reflow()):s=i===li||t.modified(i.fields)?n.ADD_MOD:n.ADD;const o=Nce(r,e.pointRadius);return n.visit(s,l=>l[a]=r(i(l))),r.pointRadius(o),n.modifies(a)}});function Nce(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function f5(e){ye.call(this,null,e)}f5.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Ue(f5,ye,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],a=e.as||["x","y"],s=a[0],o=a[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[s]=d[0],c[o]=d[1]):(c[s]=void 0,c[o]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(a)}});function d5(e){ye.call(this,null,e)}d5.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Ue(d5,ye,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return(!r||e.modified())&&(this.value=r=Mce(iH(e.projection),e.field||Ga("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,s=>s[i]=r),n.modifies(i)}});function Mce(e,t,n){const r=n==null?i=>e(t(i)):i=>{var a=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(a),s};return r.context=i=>(e.context(i),r),r}function h5(e){ye.call(this,[],e),this.generator=Cue()}h5.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Ue(h5,ye,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const a in e)vt(r[a])&&r[a](e[a]);return i=r(),n.length?t.mod.push(yP(n[0],i)):t.add.push(jt(i)),n[0]=i,t}});function p5(e){ye.call(this,null,e)}p5.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Ue(p5,ye,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||li,a=Ice(e.opacity,e),s=Rce(e.color,e),o=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?sf(n.map(u=>sf(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=wt({},u,l);r||(d.$max=sf(c.values||[])),u[o]=$ce(c,d,s.dep?s:ui(s(d)),a.dep?a:ui(a(d)))}),t.reflow(!0).modifies(o)}});function Rce(e,t){let n;return vt(e)?(n=r=>Wu(e(r,t)),n.dep=cH(e)):n=ui(Wu(e||"#888")),n}function Ice(e,t){let n;return vt(e)?(n=r=>e(r,t),n.dep=cH(e)):e?n=ui(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function cH(e){if(!vt(e))return!1;const t=Os(ri(e));return t.$x||t.$y||t.$value||t.$max}function $ce(e,t,n,r){const i=e.width,a=e.height,s=e.x1||0,o=e.y1||0,l=e.x2||i,u=e.y2||a,c=e.values,d=c?v=>c[v]:yu,p=Ru(l-s,u-o),g=p.getContext("2d"),m=g.getImageData(0,0,l-s,u-o),x=m.data;for(let v=o,_=0;v<u;++v){t.$y=v-o;for(let E=s,k=v*i;E<l;++E,_+=4){t.$x=E-s,t.$value=d(E+k);const A=n(t);x[_+0]=A.r,x[_+1]=A.g,x[_+2]=A.b,x[_+3]=~~(255*r(t))}}return g.putImageData(m,0,0),p}function fH(e){ye.call(this,null,e),this.modified(!0)}Ue(fH,ye,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Pce(e.type),n4.forEach(r=>{e[r]!=null&&S9(n,r,e[r])})):n4.forEach(r=>{e.modified(r)&&S9(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Lce(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Lce(e,t){const n=Bce(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Pce(e){const t=i5((e||"mercator").toLowerCase());return t||ve("Unrecognized projection type: "+e),t()}function S9(e,t,n){vt(e[t])&&e[t](n)}function Bce(e){return e=Ve(e),e.length===1?e[0]:{type:l5,features:e.reduce((t,n)=>t.concat(zce(n)),[])}}function zce(e){return e.type===l5?e.features:Ve(e).filter(t=>t!=null).map(t=>t.type===r4?t:{type:r4,geometry:t})}const Uce=Object.freeze(Object.defineProperty({__proto__:null,contour:o5,geojson:u5,geopath:c5,geopoint:f5,geoshape:d5,graticule:h5,heatmap:p5,isocontour:a5,kde2d:s5,projection:fH},Symbol.toStringTag,{value:"Module"}));function Wce(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,s=n.length,o,l=0,u=0;for(a=0;a<s;++a)o=n[a],l+=o.x,u+=o.y;for(l=(l/s-e)*r,u=(u/s-t)*r,a=0;a<s;++a)o=n[a],o.x-=l,o.y-=u}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function Hce(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return dH(this.cover(t,n),t,n,e)}function dH(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,s={data:r},o=e._x0,l=e._y0,u=e._x1,c=e._y1,d,p,g,m,x,v,_,E;if(!a)return e._root=s,e;for(;a.length;)if((x=t>=(d=(o+u)/2))?o=d:u=d,(v=n>=(p=(l+c)/2))?l=p:c=p,i=a,!(a=a[_=v<<1|x]))return i[_]=s,e;if(g=+e._x.call(null,a.data),m=+e._y.call(null,a.data),t===g&&n===m)return s.next=a,i?i[_]=s:e._root=s,e;do i=i?i[_]=new Array(4):e._root=new Array(4),(x=t>=(d=(o+u)/2))?o=d:u=d,(v=n>=(p=(l+c)/2))?l=p:c=p;while((_=v<<1|x)===(E=(m>=p)<<1|g>=d));return i[E]=a,i[_]=s,e}function jce(e){var t,n,r=e.length,i,a,s=new Array(r),o=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(s[n]=i,o[n]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>d&&(d=a));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)dH(this,s[n],o[n],e[n]);return this}function Gce(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var s=i-n||1,o=this._root,l,u;n>e||e>=i||r>t||t>=a;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=o,o=l,s*=2,u){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function Yce(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Vce(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ki(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function qce(e,t,n){var r,i=this._x0,a=this._y0,s,o,l,u,c=this._x1,d=this._y1,p=[],g=this._root,m,x;for(g&&p.push(new ki(g,i,a,c,d)),n==null?n=1/0:(i=e-n,a=t-n,c=e+n,d=t+n,n*=n);m=p.pop();)if(!(!(g=m.node)||(s=m.x0)>c||(o=m.y0)>d||(l=m.x1)<i||(u=m.y1)<a))if(g.length){var v=(s+l)/2,_=(o+u)/2;p.push(new ki(g[3],v,_,l,u),new ki(g[2],s,_,v,u),new ki(g[1],v,o,l,_),new ki(g[0],s,o,v,_)),(x=(t>=_)<<1|e>=v)&&(m=p[p.length-1],p[p.length-1]=p[p.length-1-x],p[p.length-1-x]=m)}else{var E=e-+this._x.call(null,g.data),k=t-+this._y.call(null,g.data),A=E*E+k*k;if(A<n){var T=Math.sqrt(n=A);i=e-T,a=t-T,c=e+T,d=t+T,r=g.data}}return r}function Xce(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,s=this._x0,o=this._y0,l=this._x1,u=this._y1,c,d,p,g,m,x,v,_;if(!n)return this;if(n.length)for(;;){if((m=c>=(p=(s+l)/2))?s=p:l=p,(x=d>=(g=(o+u)/2))?o=g:u=g,t=n,!(n=n[v=x<<1|m]))return this;if(!n.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(r=t,_=v)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[v]=a:delete t[v],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=a,this)}function Kce(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Jce(){return this._root}function Qce(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Zce(e){var t=[],n,r=this._root,i,a,s,o,l;for(r&&t.push(new ki(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,s=n.y0,o=n.x1,l=n.y1)&&r.length){var u=(a+o)/2,c=(s+l)/2;(i=r[3])&&t.push(new ki(i,u,c,o,l)),(i=r[2])&&t.push(new ki(i,a,c,u,l)),(i=r[1])&&t.push(new ki(i,u,s,o,c)),(i=r[0])&&t.push(new ki(i,a,s,u,c))}return this}function efe(e){var t=[],n=[],r;for(this._root&&t.push(new ki(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,s=r.x0,o=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,d=(o+u)/2;(a=i[0])&&t.push(new ki(a,s,o,c,d)),(a=i[1])&&t.push(new ki(a,c,o,l,d)),(a=i[2])&&t.push(new ki(a,s,d,c,u)),(a=i[3])&&t.push(new ki(a,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function tfe(e){return e[0]}function nfe(e){return arguments.length?(this._x=e,this):this._x}function rfe(e){return e[1]}function ife(e){return arguments.length?(this._y=e,this):this._y}function g5(e,t,n){var r=new m5(t??tfe,n??rfe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function m5(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function b9(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ri=g5.prototype=m5.prototype;Ri.copy=function(){var e=new m5(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=b9(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=b9(r));return e};Ri.add=Hce;Ri.addAll=jce;Ri.cover=Gce;Ri.data=Yce;Ri.extent=Vce;Ri.find=qce;Ri.remove=Xce;Ri.removeAll=Kce;Ri.root=Jce;Ri.size=Qce;Ri.visit=Zce;Ri.visitAfter=efe;Ri.x=nfe;Ri.y=ife;function Si(e){return function(){return e}}function Au(e){return(e()-.5)*1e-6}function afe(e){return e.x+e.vx}function sfe(e){return e.y+e.vy}function ofe(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=Si(e==null?1:+e));function s(){for(var u,c=t.length,d,p,g,m,x,v,_=0;_<a;++_)for(d=g5(t,afe,sfe).visitAfter(o),u=0;u<c;++u)p=t[u],x=n[p.index],v=x*x,g=p.x+p.vx,m=p.y+p.vy,d.visit(E);function E(k,A,T,D,b){var F=k.data,C=k.r,N=x+C;if(F){if(F.index>p.index){var R=g-F.x-F.vx,L=m-F.y-F.vy,j=R*R+L*L;j<N*N&&(R===0&&(R=Au(r),j+=R*R),L===0&&(L=Au(r),j+=L*L),j=(N-(j=Math.sqrt(j)))/j*i,p.vx+=(R*=j)*(N=(C*=C)/(v+C)),p.vy+=(L*=j)*N,F.vx-=R*(N=1-N),F.vy-=L*N)}return}return A>g+N||D<g-N||T>m+N||b<m-N}}function o(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(a=+u,s):a},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Si(+u),l(),s):e},s}function lfe(e){return e.index}function A9(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function ufe(e){var t=lfe,n=d,r,i=Si(30),a,s,o,l,u,c=1;e==null&&(e=[]);function d(v){return 1/Math.min(o[v.source.index],o[v.target.index])}function p(v){for(var _=0,E=e.length;_<c;++_)for(var k=0,A,T,D,b,F,C,N;k<E;++k)A=e[k],T=A.source,D=A.target,b=D.x+D.vx-T.x-T.vx||Au(u),F=D.y+D.vy-T.y-T.vy||Au(u),C=Math.sqrt(b*b+F*F),C=(C-a[k])/C*v*r[k],b*=C,F*=C,D.vx-=b*(N=l[k]),D.vy-=F*N,T.vx+=b*(N=1-N),T.vy+=F*N}function g(){if(s){var v,_=s.length,E=e.length,k=new Map(s.map((T,D)=>[t(T,D,s),T])),A;for(v=0,o=new Array(_);v<E;++v)A=e[v],A.index=v,typeof A.source!="object"&&(A.source=A9(k,A.source)),typeof A.target!="object"&&(A.target=A9(k,A.target)),o[A.source.index]=(o[A.source.index]||0)+1,o[A.target.index]=(o[A.target.index]||0)+1;for(v=0,l=new Array(E);v<E;++v)A=e[v],l[v]=o[A.source.index]/(o[A.source.index]+o[A.target.index]);r=new Array(E),m(),a=new Array(E),x()}}function m(){if(s)for(var v=0,_=e.length;v<_;++v)r[v]=+n(e[v],v,e)}function x(){if(s)for(var v=0,_=e.length;v<_;++v)a[v]=+i(e[v],v,e)}return p.initialize=function(v,_){s=v,u=_,g()},p.links=function(v){return arguments.length?(e=v,g(),p):e},p.id=function(v){return arguments.length?(t=v,p):t},p.iterations=function(v){return arguments.length?(c=+v,p):c},p.strength=function(v){return arguments.length?(n=typeof v=="function"?v:Si(+v),m(),p):n},p.distance=function(v){return arguments.length?(i=typeof v=="function"?v:Si(+v),x(),p):i},p}var cfe={value:()=>{}};function hH(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Vy(n)}function Vy(e){this._=e}function ffe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Vy.prototype=hH.prototype={constructor:Vy,on:function(e,t){var n=this._,r=ffe(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=dfe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=C9(n[i],e.name,t);else if(t==null)for(i in n)n[i]=C9(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Vy(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function dfe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function C9(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=cfe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Wd=0,u1=0,Ip=0,pH=1e3,f2,c1,d2=0,bf=0,q_=0,ig=typeof performance=="object"&&performance.now?performance:Date,gH=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function x5(){return bf||(gH(hfe),bf=ig.now()+q_)}function hfe(){bf=0}function h2(){this._call=this._time=this._next=null}h2.prototype=mH.prototype={constructor:h2,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?x5():+n)+(t==null?0:+t),!this._next&&c1!==this&&(c1?c1._next=this:f2=this,c1=this),this._call=e,this._time=n,i4()},stop:function(){this._call&&(this._call=null,this._time=1/0,i4())}};function mH(e,t,n){var r=new h2;return r.restart(e,t,n),r}function pfe(){x5(),++Wd;for(var e=f2,t;e;)(t=bf-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wd}function T9(){bf=(d2=ig.now())+q_,Wd=u1=0;try{pfe()}finally{Wd=0,mfe(),bf=0}}function gfe(){var e=ig.now(),t=e-d2;t>pH&&(q_-=t,d2=e)}function mfe(){for(var e,t=f2,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:f2=n);c1=e,i4(r)}function i4(e){if(!Wd){u1&&(u1=clearTimeout(u1));var t=e-bf;t>24?(e<1/0&&(u1=setTimeout(T9,e-ig.now()-q_)),Ip&&(Ip=clearInterval(Ip))):(Ip||(d2=ig.now(),Ip=setInterval(gfe,pH)),Wd=1,gH(T9))}}function xfe(e,t,n){var r=new h2,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(a,s,o){s=+s,o=o==null?x5():+o,r._restart(function l(u){u+=i,r._restart(l,i+=s,o),a(u)},s,o)},r.restart(e,t,n),r)}const yfe=1664525,vfe=1013904223,F9=4294967296;function _fe(){let e=1;return()=>(e=(yfe*e+vfe)%F9)/F9}function wfe(e){return e.x}function Efe(e){return e.y}var kfe=10,Sfe=Math.PI*(3-Math.sqrt(5));function bfe(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,o=new Map,l=mH(d),u=hH("tick","end"),c=_fe();e==null&&(e=[]);function d(){p(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function p(x){var v,_=e.length,E;x===void 0&&(x=1);for(var k=0;k<x;++k)for(n+=(a-n)*i,o.forEach(function(A){A(n)}),v=0;v<_;++v)E=e[v],E.fx==null?E.x+=E.vx*=s:(E.x=E.fx,E.vx=0),E.fy==null?E.y+=E.vy*=s:(E.y=E.fy,E.vy=0);return t}function g(){for(var x=0,v=e.length,_;x<v;++x){if(_=e[x],_.index=x,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var E=kfe*Math.sqrt(.5+x),k=x*Sfe;_.x=E*Math.cos(k),_.y=E*Math.sin(k)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function m(x){return x.initialize&&x.initialize(e,c),x}return g(),t={tick:p,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(x){return arguments.length?(e=x,g(),o.forEach(m),t):e},alpha:function(x){return arguments.length?(n=+x,t):n},alphaMin:function(x){return arguments.length?(r=+x,t):r},alphaDecay:function(x){return arguments.length?(i=+x,t):+i},alphaTarget:function(x){return arguments.length?(a=+x,t):a},velocityDecay:function(x){return arguments.length?(s=1-x,t):1-s},randomSource:function(x){return arguments.length?(c=x,o.forEach(m),t):c},force:function(x,v){return arguments.length>1?(v==null?o.delete(x):o.set(x,m(v)),t):o.get(x)},find:function(x,v,_){var E=0,k=e.length,A,T,D,b,F;for(_==null?_=1/0:_*=_,E=0;E<k;++E)b=e[E],A=x-b.x,T=v-b.y,D=A*A+T*T,D<_&&(F=b,_=D);return F},on:function(x,v){return arguments.length>1?(u.on(x,v),t):u.on(x)}}}function Afe(){var e,t,n,r,i=Si(-30),a,s=1,o=1/0,l=.81;function u(g){var m,x=e.length,v=g5(e,wfe,Efe).visitAfter(d);for(r=g,m=0;m<x;++m)t=e[m],v.visit(p)}function c(){if(e){var g,m=e.length,x;for(a=new Array(m),g=0;g<m;++g)x=e[g],a[x.index]=+i(x,g,e)}}function d(g){var m=0,x,v,_=0,E,k,A;if(g.length){for(E=k=A=0;A<4;++A)(x=g[A])&&(v=Math.abs(x.value))&&(m+=x.value,_+=v,E+=v*x.x,k+=v*x.y);g.x=E/_,g.y=k/_}else{x=g,x.x=x.data.x,x.y=x.data.y;do m+=a[x.data.index];while(x=x.next)}g.value=m}function p(g,m,x,v){if(!g.value)return!0;var _=g.x-t.x,E=g.y-t.y,k=v-m,A=_*_+E*E;if(k*k/l<A)return A<o&&(_===0&&(_=Au(n),A+=_*_),E===0&&(E=Au(n),A+=E*E),A<s&&(A=Math.sqrt(s*A)),t.vx+=_*g.value*r/A,t.vy+=E*g.value*r/A),!0;if(g.length||A>=o)return;(g.data!==t||g.next)&&(_===0&&(_=Au(n),A+=_*_),E===0&&(E=Au(n),A+=E*E),A<s&&(A=Math.sqrt(s*A)));do g.data!==t&&(k=a[g.data.index]*r/A,t.vx+=_*k,t.vy+=E*k);while(g=g.next)}return u.initialize=function(g,m){e=g,n=m,c()},u.strength=function(g){return arguments.length?(i=typeof g=="function"?g:Si(+g),c(),u):i},u.distanceMin=function(g){return arguments.length?(s=g*g,u):Math.sqrt(s)},u.distanceMax=function(g){return arguments.length?(o=g*g,u):Math.sqrt(o)},u.theta=function(g){return arguments.length?(l=g*g,u):Math.sqrt(l)},u}function Cfe(e){var t=Si(.1),n,r,i;typeof e!="function"&&(e=Si(e==null?0:+e));function a(o){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*o}function s(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:Si(+o),s(),a):t},a.x=function(o){return arguments.length?(e=typeof o=="function"?o:Si(+o),s(),a):e},a}function Tfe(e){var t=Si(.1),n,r,i;typeof e!="function"&&(e=Si(e==null?0:+e));function a(o){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*o}function s(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:Si(+o),s(),a):t},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:Si(+o),s(),a):e},a}const O9={center:Wce,collide:ofe,nbody:Afe,link:ufe,x:Cfe,y:Tfe},f1="forces",a4=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Ffe=["static","iterations"],xH=["x","y","vx","vy"];function y5(e){ye.call(this,null,e)}y5.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:xH}]};Ue(y5,ye,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(a4),a=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&yH(n,e,0,t)):(this.value=n=Dfe(t.source,e),n.on("tick",Ofe(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(Ffe)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),e.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let o=this._argops,l=0,u=o.length,c;l<u;++l)if(c=o[l],!(c.name!==f1||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,a=r.length,s;i<a;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(xH)}});function Ofe(e,t){return()=>e.touch(t).run()}function Dfe(e,t){const n=bfe(e),r=n.stop,i=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,i()),n.stop=()=>(a=!0,r()),yH(n,t,!0).on("end",()=>a=!0)}function yH(e,t,n,r){var i=Ve(t.forces),a,s,o,l;for(a=0,s=a4.length;a<s;++a)o=a4[a],o!==f1&&t.modified(o)&&e[o](t[o]);for(a=0,s=i.length;a<s;++a)l=f1+a,o=n||t.modified(f1,a)?Mfe(i[a]):r&&Nfe(i[a],r)?e.force(l):null,o&&e.force(l,o);for(s=e.numForces||0;a<s;++a)e.force(f1+a,null);return e.numForces=i.length,e}function Nfe(e,t){var n,r;for(n in e)if(vt(r=e[n])&&t.modified(ri(r)))return 1;return 0}function Mfe(e){var t,n;qe(O9,e.force)||ve("Unrecognized force: "+e.force),t=O9[e.force]();for(n in e)vt(t[n])&&Rfe(t[n],e[n],e);return t}function Rfe(e,t,n){e(vt(t)?r=>t(r,n):t)}const Ife=Object.freeze(Object.defineProperty({__proto__:null,force:y5},Symbol.toStringTag,{value:"Module"}));function $fe(e,t){return e.parent===t.parent?1:2}function Lfe(e){return e.reduce(Pfe,0)/e.length}function Pfe(e,t){return e+t.x}function Bfe(e){return 1+e.reduce(zfe,0)}function zfe(e,t){return Math.max(e,t.y)}function Ufe(e){for(var t;t=e.children;)e=t[0];return e}function Wfe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Hfe(){var e=$fe,t=1,n=1,r=!1;function i(a){var s,o=0;a.eachAfter(function(p){var g=p.children;g?(p.x=Lfe(g),p.y=Bfe(g)):(p.x=s?o+=e(p,s):0,p.y=0,s=p)});var l=Ufe(a),u=Wfe(a),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return a.eachAfter(r?function(p){p.x=(p.x-a.x)*t,p.y=(a.y-p.y)*n}:function(p){p.x=(p.x-c)/(d-c)*t,p.y=(1-(a.y?p.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function jfe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Gfe(){return this.eachAfter(jfe)}function Yfe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Vfe(e,t){for(var n=this,r=[n],i,a,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function qfe(e,t){for(var n=this,r=[n],i=[],a,s,o,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(s=0,o=a.length;s<o;++s)r.push(a[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function Xfe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Kfe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Jfe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Qfe(e){for(var t=this,n=Zfe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Zfe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function e0e(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function t0e(){return Array.from(this)}function n0e(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function r0e(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*i0e(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function v5(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=o0e)):t===void 0&&(t=s0e);for(var n=new Hd(e),r,i=[n],a,s,o,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,o=l-1;o>=0;--o)i.push(a=s[o]=new Hd(s[o])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(vH)}function a0e(){return v5(this).eachBefore(l0e)}function s0e(e){return e.children}function o0e(e){return Array.isArray(e)?e[1]:null}function l0e(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function vH(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Hd(e){this.data=e,this.depth=this.height=0,this.parent=null}Hd.prototype=v5.prototype={constructor:Hd,count:Gfe,each:Yfe,eachAfter:qfe,eachBefore:Vfe,find:Xfe,sum:Kfe,sort:Jfe,path:Qfe,ancestors:e0e,descendants:t0e,leaves:n0e,links:r0e,copy:a0e,[Symbol.iterator]:i0e};function qy(e){return e==null?null:_H(e)}function _H(e){if(typeof e!="function")throw new Error;return e}function Qc(){return 0}function Z0(e){return function(){return e}}const u0e=1664525,c0e=1013904223,D9=4294967296;function f0e(){let e=1;return()=>(e=(u0e*e+c0e)%D9)/D9}function d0e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h0e(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function p0e(e,t){for(var n=0,r=(e=h0e(Array.from(e),t)).length,i=[],a,s;n<r;)a=e[n],s&&wH(s,a)?++n:(s=m0e(i=g0e(i,a)),n=0);return s}function g0e(e,t){var n,r;if(TS(t,e))return[t];for(n=0;n<e.length;++n)if(iy(t,e[n])&&TS(d1(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(iy(d1(e[n],e[r]),t)&&iy(d1(e[n],t),e[r])&&iy(d1(e[r],t),e[n])&&TS(EH(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function iy(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function wH(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function TS(e,t){for(var n=0;n<t.length;++n)if(!wH(e,t[n]))return!1;return!0}function m0e(e){switch(e.length){case 1:return x0e(e[0]);case 2:return d1(e[0],e[1]);case 3:return EH(e[0],e[1],e[2])}}function x0e(e){return{x:e.x,y:e.y,r:e.r}}function d1(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,s=t.y,o=t.r,l=a-n,u=s-r,c=o-i,d=Math.sqrt(l*l+u*u);return{x:(n+a+l/d*c)/2,y:(r+s+u/d*c)/2,r:(d+i+o)/2}}function EH(e,t,n){var r=e.x,i=e.y,a=e.r,s=t.x,o=t.y,l=t.r,u=n.x,c=n.y,d=n.r,p=r-s,g=r-u,m=i-o,x=i-c,v=l-a,_=d-a,E=r*r+i*i-a*a,k=E-s*s-o*o+l*l,A=E-u*u-c*c+d*d,T=g*m-p*x,D=(m*A-x*k)/(T*2)-r,b=(x*v-m*_)/T,F=(g*k-p*A)/(T*2)-i,C=(p*_-g*v)/T,N=b*b+C*C-1,R=2*(a+D*b+F*C),L=D*D+F*F-a*a,j=-(Math.abs(N)>1e-6?(R+Math.sqrt(R*R-4*N*L))/(2*N):L/R);return{x:r+D+b*j,y:i+F+C*j,r:j}}function N9(e,t,n){var r=e.x-t.x,i,a,s=e.y-t.y,o,l,u=r*r+s*s;u?(a=t.r+n.r,a*=a,l=e.r+n.r,l*=l,a>l?(i=(u+l-a)/(2*u),o=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-o*s,n.y=e.y-i*s+o*r):(i=(u+a-l)/(2*u),o=Math.sqrt(Math.max(0,a/u-i*i)),n.x=t.x+i*r-o*s,n.y=t.y+i*s+o*r)):(n.x=t.x+n.r,n.y=t.y)}function M9(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function R9(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function ay(e){this._=e,this.next=null,this.previous=null}function y0e(e,t){if(!(a=(e=d0e(e)).length))return 0;var n,r,i,a,s,o,l,u,c,d,p;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;N9(r,n,i=e[2]),n=new ay(n),r=new ay(r),i=new ay(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<a;++l){N9(n._,r._,i=e[l]),i=new ay(i),u=r.next,c=n.previous,d=r._.r,p=n._.r;do if(d<=p){if(M9(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(M9(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}p+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=R9(n);(i=i.next)!==r;)(o=R9(i))<s&&(n=i,s=o);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=p0e(n,t),l=0;l<a;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function v0e(e){return Math.sqrt(e.value)}function _0e(){var e=null,t=1,n=1,r=Qc;function i(a){const s=f0e();return a.x=t/2,a.y=n/2,e?a.eachBefore(I9(e)).eachAfter(FS(r,.5,s)).eachBefore($9(1)):a.eachBefore(I9(v0e)).eachAfter(FS(Qc,1,s)).eachAfter(FS(r,a.r/Math.min(t,n),s)).eachBefore($9(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=qy(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Z0(+a),i):r},i}function I9(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function FS(e,t,n){return function(r){if(i=r.children){var i,a,s=i.length,o=e(r)*t||0,l;if(o)for(a=0;a<s;++a)i[a].r+=o;if(l=y0e(i,n),o)for(a=0;a<s;++a)i[a].r-=o;r.r=l+o}}}function $9(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function kH(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Zg(e,t,n,r,i){for(var a=e.children,s,o=-1,l=a.length,u=e.value&&(r-t)/e.value;++o<l;)s=a[o],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function w0e(){var e=1,t=1,n=0,r=!1;function i(s){var o=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/o,s.eachBefore(a(t,o)),r&&s.eachBefore(kH),s}function a(s,o){return function(l){l.children&&Zg(l,l.x0,s*(l.depth+1)/o,l.x1,s*(l.depth+2)/o);var u=l.x0,c=l.y0,d=l.x1-n,p=l.y1-n;d<u&&(u=d=(u+d)/2),p<c&&(c=p=(c+p)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=p}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var E0e={depth:-1},L9={},OS={};function k0e(e){return e.id}function S0e(e){return e.parentId}function P9(){var e=k0e,t=S0e,n;function r(i){var a=Array.from(i),s=e,o=t,l,u,c,d,p,g,m,x,v=new Map;if(n!=null){const _=a.map((A,T)=>b0e(n(A,T,i))),E=_.map(B9),k=new Set(_).add("");for(const A of E)k.has(A)||(k.add(A),_.push(A),E.push(B9(A)),a.push(OS));s=(A,T)=>_[T],o=(A,T)=>E[T]}for(c=0,l=a.length;c<l;++c)u=a[c],g=a[c]=new Hd(u),(m=s(u,c,i))!=null&&(m+="")&&(x=g.id=m,v.set(x,v.has(x)?L9:g)),(m=o(u,c,i))!=null&&(m+="")&&(g.parent=m);for(c=0;c<l;++c)if(g=a[c],m=g.parent){if(p=v.get(m),!p)throw new Error("missing: "+m);if(p===L9)throw new Error("ambiguous: "+m);p.children?p.children.push(g):p.children=[g],g.parent=p}else{if(d)throw new Error("multiple roots");d=g}if(!d)throw new Error("no root");if(n!=null){for(;d.data===OS&&d.children.length===1;)d=d.children[0],--l;for(let _=a.length-1;_>=0&&(g=a[_],g.data===OS);--_)g.data=null}if(d.parent=E0e,d.eachBefore(function(_){_.depth=_.parent.depth+1,--l}).eachBefore(vH),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=qy(i),r):e},r.parentId=function(i){return arguments.length?(t=qy(i),r):t},r.path=function(i){return arguments.length?(n=qy(i),r):n},r}function b0e(e){e=`${e}`;let t=e.length;return s4(e,t-1)&&!s4(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function B9(e){let t=e.length;if(t<2)return"";for(;--t>1&&!s4(e,t););return e.slice(0,t)}function s4(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function A0e(e,t){return e.parent===t.parent?1:2}function DS(e){var t=e.children;return t?t[0]:e.t}function NS(e){var t=e.children;return t?t[t.length-1]:e.t}function C0e(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function T0e(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function F0e(e,t,n){return e.a.parent===t.parent?e.a:n}function Xy(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Xy.prototype=Object.create(Hd.prototype);function O0e(e){for(var t=new Xy(e,0),n,r=[t],i,a,s,o;n=r.pop();)if(a=n._.children)for(n.children=new Array(o=a.length),s=o-1;s>=0;--s)r.push(i=n.children[s]=new Xy(a[s],s)),i.parent=n;return(t.parent=new Xy(null,0)).children=[t],t}function D0e(){var e=A0e,t=1,n=1,r=null;function i(u){var c=O0e(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var d=u,p=u,g=u;u.eachBefore(function(E){E.x<d.x&&(d=E),E.x>p.x&&(p=E),E.depth>g.depth&&(g=E)});var m=d===p?1:e(d,p)/2,x=m-d.x,v=t/(p.x+m+x),_=n/(g.depth||1);u.eachBefore(function(E){E.x=(E.x+x)*v,E.y=E.depth*_})}return u}function a(u){var c=u.children,d=u.parent.children,p=u.i?d[u.i-1]:null;if(c){T0e(u);var g=(c[0].z+c[c.length-1].z)/2;p?(u.z=p.z+e(u._,p._),u.m=u.z-g):u.z=g}else p&&(u.z=p.z+e(u._,p._));u.parent.A=o(u,p,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function o(u,c,d){if(c){for(var p=u,g=u,m=c,x=p.parent.children[0],v=p.m,_=g.m,E=m.m,k=x.m,A;m=NS(m),p=DS(p),m&&p;)x=DS(x),g=NS(g),g.a=u,A=m.z+E-p.z-v+e(m._,p._),A>0&&(C0e(F0e(m,u,d),u,A),v+=A,_+=A),E+=m.m,v+=p.m,k+=x.m,_+=g.m;m&&!NS(g)&&(g.t=m,g.m+=E-_),p&&!DS(x)&&(x.t=p,x.m+=v-k,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function X_(e,t,n,r,i){for(var a=e.children,s,o=-1,l=a.length,u=e.value&&(i-n)/e.value;++o<l;)s=a[o],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var SH=(1+Math.sqrt(5))/2;function bH(e,t,n,r,i,a){for(var s=[],o=t.children,l,u,c=0,d=0,p=o.length,g,m,x=t.value,v,_,E,k,A,T,D;c<p;){g=i-n,m=a-r;do v=o[d++].value;while(!v&&d<p);for(_=E=v,T=Math.max(m/g,g/m)/(x*e),D=v*v*T,A=Math.max(E/D,D/_);d<p;++d){if(v+=u=o[d].value,u<_&&(_=u),u>E&&(E=u),D=v*v*T,k=Math.max(E/D,D/_),k>A){v-=u;break}A=k}s.push(l={value:v,dice:g<m,children:o.slice(c,d)}),l.dice?Zg(l,n,r,i,x?r+=m*v/x:a):X_(l,n,r,x?n+=g*v/x:i,a),x-=v,c=d}return s}const AH=(function e(t){function n(r,i,a,s,o){bH(t,r,i,a,s,o)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(SH);function N0e(){var e=AH,t=!1,n=1,r=1,i=[0],a=Qc,s=Qc,o=Qc,l=Qc,u=Qc;function c(p){return p.x0=p.y0=0,p.x1=n,p.y1=r,p.eachBefore(d),i=[0],t&&p.eachBefore(kH),p}function d(p){var g=i[p.depth],m=p.x0+g,x=p.y0+g,v=p.x1-g,_=p.y1-g;v<m&&(m=v=(m+v)/2),_<x&&(x=_=(x+_)/2),p.x0=m,p.y0=x,p.x1=v,p.y1=_,p.children&&(g=i[p.depth+1]=a(p)/2,m+=u(p)-g,x+=s(p)-g,v-=o(p)-g,_-=l(p)-g,v<m&&(m=v=(m+v)/2),_<x&&(x=_=(x+_)/2),e(p,m,x,v,_))}return c.round=function(p){return arguments.length?(t=!!p,c):t},c.size=function(p){return arguments.length?(n=+p[0],r=+p[1],c):[n,r]},c.tile=function(p){return arguments.length?(e=_H(p),c):e},c.padding=function(p){return arguments.length?c.paddingInner(p).paddingOuter(p):c.paddingInner()},c.paddingInner=function(p){return arguments.length?(a=typeof p=="function"?p:Z0(+p),c):a},c.paddingOuter=function(p){return arguments.length?c.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):c.paddingTop()},c.paddingTop=function(p){return arguments.length?(s=typeof p=="function"?p:Z0(+p),c):s},c.paddingRight=function(p){return arguments.length?(o=typeof p=="function"?p:Z0(+p),c):o},c.paddingBottom=function(p){return arguments.length?(l=typeof p=="function"?p:Z0(+p),c):l},c.paddingLeft=function(p){return arguments.length?(u=typeof p=="function"?p:Z0(+p),c):u},c}function M0e(e,t,n,r,i){var a=e.children,s,o=a.length,l,u=new Array(o+1);for(u[0]=l=s=0;s<o;++s)u[s+1]=l+=a[s].value;c(0,o,e.value,t,n,r,i);function c(d,p,g,m,x,v,_){if(d>=p-1){var E=a[d];E.x0=m,E.y0=x,E.x1=v,E.y1=_;return}for(var k=u[d],A=g/2+k,T=d+1,D=p-1;T<D;){var b=T+D>>>1;u[b]<A?T=b+1:D=b}A-u[T-1]<u[T]-A&&d+1<T&&--T;var F=u[T]-k,C=g-F;if(v-m>_-x){var N=g?(m*C+v*F)/g:v;c(d,T,F,m,x,N,_),c(T,p,C,N,x,v,_)}else{var R=g?(x*C+_*F)/g:_;c(d,T,F,m,x,v,R),c(T,p,C,m,R,v,_)}}}function R0e(e,t,n,r,i){(e.depth&1?X_:Zg)(e,t,n,r,i)}const I0e=(function e(t){function n(r,i,a,s,o){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,p=-1,g,m=l.length,x=r.value;++p<m;){for(u=l[p],c=u.children,d=u.value=0,g=c.length;d<g;++d)u.value+=c[d].value;u.dice?Zg(u,i,a,s,x?a+=(o-a)*u.value/x:o):X_(u,i,a,x?i+=(s-i)*u.value/x:s,o),x-=u.value}else r._squarify=l=bH(t,r,i,a,s,o),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(SH);function o4(e,t,n){const r={};return e.each(i=>{const a=i.data;n(a)&&(r[t(a)]=i)}),e.lookup=r,e}function _5(e){ye.call(this,null,e)}_5.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const $0e=e=>e.values;Ue(_5,ye,{transform(e,t){t.source||ve("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each(s=>{s.children&&u_(s.data)&&i.rem.push(s.data)}),this.value=a=v5({values:Ve(e.keys).reduce((s,o)=>(s.key(o),s),L0e()).entries(i.source)},$0e),n&&a.each(s=>{s.children&&(s=jt(s.data),i.add.push(s),i.source.push(s))}),o4(a,st,st)),i.source.root=a,i}});function L0e(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,a){if(a>=e.length)return i;const s=i.length,o=e[a++],l={},u={};let c=-1,d,p,g;for(;++c<s;)d=o(p=i[c])+"",(g=l[d])?g.push(p):l[d]=[p];for(d in l)u[d]=n(l[d],a);return u}function r(i,a){if(++a>e.length)return i;const s=[];for(const o in i)s.push({key:o,values:r(i[o],a)});return s}return t}function Dl(e){ye.call(this,null,e)}const P0e=(e,t)=>e.parent===t.parent?1:2;Ue(Dl,ye,{transform(e,t){(!t.source||!t.source.root)&&ve(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Yf(e.sort,s=>s.data)),B0e(n,this.params,e),n.separation&&n.separation(e.separation!==!1?P0e:lh);try{this.value=n(i)}catch(s){ve(s)}return i.each(s=>z0e(s,r,a)),t.reflow(e.modified()).modifies(a).modifies("leaf")}});function B0e(e,t,n){for(let r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function z0e(e,t,n){const r=e.data,i=t.length-1;for(let a=0;a<i;++a)r[n[a]]=e[t[a]];r[n[i]]=e.children?e.children.length:0}const l4=["x","y","r","depth","children"];function w5(e){Dl.call(this,e)}w5.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:l4.length,default:l4}]};Ue(w5,Dl,{layout:_0e,params:["radius","size","padding"],fields:l4});const u4=["x0","y0","x1","y1","depth","children"];function E5(e){Dl.call(this,e)}E5.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:u4.length,default:u4}]};Ue(E5,Dl,{layout:w0e,params:["size","round","padding"],fields:u4});function k5(e){ye.call(this,null,e)}k5.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Ue(k5,ye,{transform(e,t){t.source||ve("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?o4(P9().id(e.key).parentId(e.parentKey)(i.source),e.key,Ya):o4(P9()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const z9={tidy:D0e,cluster:Hfe},c4=["x","y","depth","children"];function S5(e){Dl.call(this,e)}S5.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:c4.length,default:c4}]};Ue(S5,Dl,{layout(e){const t=e||"tidy";if(qe(z9,t))return z9[t]();ve("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:c4});function b5(e){ye.call(this,[],e)}b5.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Ue(b5,ye,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||ve("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>a[st(s)]=1),r.each(s=>{const o=s.data,l=s.parent&&s.parent.data;l&&a[st(o)]&&a[st(l)]&&i.add.push(jt({source:l,target:o}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>a[st(s)]=1),n.forEach(s=>{(a[st(s.source)]||a[st(s.target)])&&i.mod.push(s)})),i}});const U9={binary:M0e,dice:Zg,slice:X_,slicedice:R0e,squarify:AH,resquarify:I0e},f4=["x0","y0","x1","y1","depth","children"];function A5(e){Dl.call(this,e)}A5.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:f4.length,default:f4}]};Ue(A5,Dl,{layout(){const e=N0e();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{qe(U9,t)?e.tile(U9[t]):ve("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:f4});const U0e=Object.freeze(Object.defineProperty({__proto__:null,nest:_5,pack:w5,partition:E5,stratify:k5,tree:S5,treelinks:b5,treemap:A5},Symbol.toStringTag,{value:"Module"})),MS=4278190080;function W0e(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function H0e(e,t,n,r,i){const a=e.width,s=e.height,o=r||i,l=Ru(a,s).getContext("2d"),u=Ru(a,s).getContext("2d"),c=o&&Ru(a,s).getContext("2d");n.forEach(F=>Ky(l,F,!1)),Ky(u,t,!1),o&&Ky(c,t,!0);const d=RS(l,a,s),p=RS(u,a,s),g=o&&RS(c,a,s),m=e.bitmap(),x=o&&e.bitmap();let v,_,E,k,A,T,D,b;for(_=0;_<s;++_)for(v=0;v<a;++v)A=_*a+v,T=d[A]&MS,b=p[A]&MS,D=o&&g[A]&MS,(T||D||b)&&(E=e(v),k=e(_),!i&&(T||b)&&m.set(E,k),o&&(T||D)&&x.set(E,k));return[m,x]}function RS(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function Ky(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(a=>Ky(e,a.items,n))}):ka[r].draw(e,{items:n?t.map(j0e):t})}function j0e(e){const t=c_(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Zo=5,pi=31,ag=32,mu=new Uint32Array(ag+1),xs=new Uint32Array(ag+1);xs[0]=0;mu[0]=~xs[0];for(let e=1;e<=ag;++e)xs[e]=xs[e-1]<<1|1,mu[e]=~xs[e];function G0e(e,t){const n=new Uint32Array(~~((e*t+ag)/ag));function r(a,s){n[a]|=s}function i(a,s){n[a]&=s}return{array:n,get:(a,s)=>{const o=s*e+a;return n[o>>>Zo]&1<<(o&pi)},set:(a,s)=>{const o=s*e+a;r(o>>>Zo,1<<(o&pi))},clear:(a,s)=>{const o=s*e+a;i(o>>>Zo,~(1<<(o&pi)))},getRange:(a,s,o,l)=>{let u=l,c,d,p,g;for(;u>=s;--u)if(c=u*e+a,d=u*e+o,p=c>>>Zo,g=d>>>Zo,p===g){if(n[p]&mu[c&pi]&xs[(d&pi)+1])return!0}else{if(n[p]&mu[c&pi]||n[g]&xs[(d&pi)+1])return!0;for(let m=p+1;m<g;++m)if(n[m])return!0}return!1},setRange:(a,s,o,l)=>{let u,c,d,p,g;for(;s<=l;++s)if(u=s*e+a,c=s*e+o,d=u>>>Zo,p=c>>>Zo,d===p)r(d,mu[u&pi]&xs[(c&pi)+1]);else for(r(d,mu[u&pi]),r(p,xs[(c&pi)+1]),g=d+1;g<p;++g)r(g,4294967295)},clearRange:(a,s,o,l)=>{let u,c,d,p,g;for(;s<=l;++s)if(u=s*e+a,c=s*e+o,d=u>>>Zo,p=c>>>Zo,d===p)i(d,xs[u&pi]|mu[(c&pi)+1]);else for(i(d,xs[u&pi]),i(p,mu[(c&pi)+1]),g=d+1;g<p;++g)i(g,0)},outOfBounds:(a,s,o,l)=>a<0||s<0||l>=t||o>=e}}function Y0e(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),a=~~((t+2*n+r)/r),s=o=>~~((o+n)/r);return s.invert=o=>o*r-n,s.bitmap=()=>G0e(i,a),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function V0e(e,t,n,r){const i=e.width,a=e.height;return function(s){const o=s.datum.datum.items[r].items,l=o.length,u=s.datum.fontSize,c=xa.width(s.datum,s.datum.text);let d=0,p,g,m,x,v,_,E;for(let k=0;k<l;++k)p=o[k].x,m=o[k].y,g=o[k].x2===void 0?p:o[k].x2,x=o[k].y2===void 0?m:o[k].y2,v=(p+g)/2,_=(m+x)/2,E=Math.abs(g-p+x-m),E>=d&&(d=E,s.x=v,s.y=_);return v=c/2,_=u/2,p=s.x-v,g=s.x+v,m=s.y-_,x=s.y+_,s.align="center",p<0&&g<=i?s.align="left":0<=p&&i<g&&(s.align="right"),s.baseline="middle",m<0&&x<=a?s.baseline="top":0<=m&&a<x&&(s.baseline="bottom"),!0}}function p2(e,t,n,r,i,a){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>a}function Cu(e,t,n,r,i,a,s,o){const l=i*a/(r*2),u=e(t-l),c=e(t+l),d=e(n-(a=a/2)),p=e(n+a);return s.outOfBounds(u,d,c,p)||s.getRange(u,d,c,p)||o&&o.getRange(u,d,c,p)}function q0e(e,t,n,r){const i=e.width,a=e.height,s=t[0],o=t[1];function l(u,c,d,p,g){const m=e.invert(u),x=e.invert(c);let v=d,_=a,E;if(!p2(m,x,p,g,i,a)&&!Cu(e,m,x,g,p,v,s,o)&&!Cu(e,m,x,g,p,g,s,null)){for(;_-v>=1;)E=(v+_)/2,Cu(e,m,x,g,p,E,s,o)?_=E:v=E;if(v>d)return[m,x,v,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,p=u.datum.fontSize,g=xa.width(u.datum,u.datum.text);let m=n?p:0,x=!1,v=!1,_=0,E,k,A,T,D,b,F,C,N,R,L,j,q,U,K,ee,ne;for(let z=0;z<d;++z){for(E=c[z].x,A=c[z].y,k=c[z].x2===void 0?E:c[z].x2,T=c[z].y2===void 0?A:c[z].y2,E>k&&(ne=E,E=k,k=ne),A>T&&(ne=A,A=T,T=ne),N=e(E),L=e(k),R=~~((N+L)/2),j=e(A),U=e(T),q=~~((j+U)/2),F=R;F>=N;--F)for(C=q;C>=j;--C)ee=l(F,C,m,g,p),ee&&([u.x,u.y,m,x]=ee);for(F=R;F<=L;++F)for(C=q;C<=U;++C)ee=l(F,C,m,g,p),ee&&([u.x,u.y,m,x]=ee);!x&&!n&&(K=Math.abs(k-E+T-A),D=(E+k)/2,b=(A+T)/2,K>=_&&!p2(D,b,g,p,i,a)&&!Cu(e,D,b,p,g,p,s,null)&&(_=K,u.x=D,u.y=b,v=!0))}return x||v?(D=g/2,b=p/2,s.setRange(e(u.x-D),e(u.y-b),e(u.x+D),e(u.y+b)),u.align="center",u.baseline="middle",!0):!1}}const X0e=[-1,-1,1,1],K0e=[-1,1,-1,1];function J0e(e,t,n,r){const i=e.width,a=e.height,s=t[0],o=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,p=u.datum.fontSize,g=xa.width(u.datum,u.datum.text),m=[];let x=n?p:0,v=!1,_=!1,E=0,k,A,T,D,b,F,C,N,R,L,j,q;for(let U=0;U<d;++U){for(k=c[U].x,T=c[U].y,A=c[U].x2===void 0?k:c[U].x2,D=c[U].y2===void 0?T:c[U].y2,m.push([e((k+A)/2),e((T+D)/2)]);m.length;)if([C,N]=m.pop(),!(s.get(C,N)||o.get(C,N)||l.get(C,N))){l.set(C,N);for(let K=0;K<4;++K)b=C+X0e[K],F=N+K0e[K],l.outOfBounds(b,F,b,F)||m.push([b,F]);if(b=e.invert(C),F=e.invert(N),R=x,L=a,!p2(b,F,g,p,i,a)&&!Cu(e,b,F,p,g,R,s,o)&&!Cu(e,b,F,p,g,p,s,null)){for(;L-R>=1;)j=(R+L)/2,Cu(e,b,F,p,g,j,s,o)?L=j:R=j;R>x&&(u.x=b,u.y=F,x=R,v=!0)}}!v&&!n&&(q=Math.abs(A-k+D-T),b=(k+A)/2,F=(T+D)/2,q>=E&&!p2(b,F,g,p,i,a)&&!Cu(e,b,F,p,g,p,s,null)&&(E=q,u.x=b,u.y=F,_=!0))}return v||_?(b=g/2,F=p/2,s.setRange(e(u.x-b),e(u.y-F),e(u.x+b),e(u.y+F)),u.align="center",u.baseline="middle",!0):!1}}const Q0e=["right","center","left"],Z0e=["bottom","middle","top"];function ede(e,t,n,r){const i=e.width,a=e.height,s=t[0],o=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>a)return!1;let p=u.textWidth??0,g,m,x,v,_,E,k,A,T,D,b,F,C,N,R;for(let L=0;L<l;++L){if(g=(n[L]&3)-1,m=(n[L]>>>2&3)-1,x=g===0&&m===0||r[L]<0,v=g&&m?Math.SQRT1_2:1,_=r[L]<0?-1:1,E=c[1+g]+r[L]*g*v,b=c[4+m]+_*d*m/2+r[L]*m*v,A=b-d/2,T=b+d/2,F=e(E),N=e(A),R=e(T),!p)if(W9(F,F,N,R,s,o,E,E,A,T,c,x))p=xa.width(u.datum,u.datum.text);else continue;if(D=E+_*p*g/2,E=D-p/2,k=D+p/2,F=e(E),C=e(k),W9(F,C,N,R,s,o,E,k,A,T,c,x))return u.x=g?g*_<0?k:E:D,u.y=m?m*_<0?T:A:b,u.align=Q0e[g*_+1],u.baseline=Z0e[m*_+1],s.setRange(F,N,C,R),!0}return!1}}function W9(e,t,n,r,i,a,s,o,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&a||i).getRange(e,n,t,r))}const IS=0,$S=4,LS=8,PS=0,BS=1,zS=2,tde={"top-left":IS+PS,top:IS+BS,"top-right":IS+zS,left:$S+PS,middle:$S+BS,right:$S+zS,"bottom-left":LS+PS,bottom:LS+BS,"bottom-right":LS+zS},nde={naive:V0e,"reduced-search":q0e,floodfill:J0e};function rde(e,t,n,r,i,a,s,o,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),p=ide(r,d),g=ade(i,d),m=sde(e[0].datum),x=m==="group"&&e[0].datum.items[l].marktype,v=x==="area",_=ode(m,x,o,l),E=u===null||u===1/0,k=v&&c==="naive";let A=-1,T=-1;const D=e.map(N=>{const R=E?xa.width(N,N.text):void 0;return A=Math.max(A,R),T=Math.max(T,N.fontSize),{datum:N,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:_(N),textWidth:R}});u=u===null||u===1/0?Math.max(A,T)+Math.max(...r):u;const b=Y0e(t[0],t[1],u);let F;if(!k){n&&D.sort((L,j)=>n(L.datum,j.datum));let N=!1;for(let L=0;L<g.length&&!N;++L)N=g[L]===5||p[L]<0;const R=(m&&s||v)&&e.map(L=>L.datum);F=a.length||R?H0e(b,R||[],a,N,v):W0e(b,s&&D)}const C=v?nde[c](b,F,s,l):ede(b,F,g,p);return D.forEach(N=>N.opacity=+C(N)),D}function ide(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function ade(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=tde[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function sde(e){return e&&e.mark&&e.mark.marktype}function ode(e,t,n,r){const i=a=>[a.x,a.x,a.x,a.y,a.y,a.y];return e?e==="line"||e==="area"?a=>i(a.datum):t==="line"?a=>{const s=a.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:a=>{const s=a.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const d4=["x","y","opacity","align","baseline"],CH=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function C5(e){ye.call(this,null,e)}C5.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:CH},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:d4.length,default:d4}]};Ue(C5,ye,{transform(e,t){function n(a){const s=e[a];return vt(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&ve("Size parameter should be specified as a [width, height] array.");const i=e.as||d4;return rde(t.materialize(t.SOURCE).source||[],e.size,e.sort,Ve(e.offset==null?1:e.offset),Ve(e.anchor||CH),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(a=>{const s=a.datum;s[i[0]]=a.x,s[i[1]]=a.y,s[i[2]]=a.opacity,s[i[3]]=a.align,s[i[4]]=a.baseline}),t.reflow(r).modifies(i)}});const lde=Object.freeze(Object.defineProperty({__proto__:null,label:C5},Symbol.toStringTag,{value:"Module"}));function TH(e,t){var n=[],r=function(c){return c(o)},i,a,s,o,l,u;if(t==null)n.push(e);else for(i={},a=0,s=e.length;a<s;++a)o=e[a],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(o);return n}function T5(e){ye.call(this,null,e)}T5.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Ue(T5,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=TH(r,e.groupby),a=(e.groupby||[]).map(Mn),s=a.length,o=e.as||[Mn(e.x),Mn(e.y)],l=[];i.forEach(u=>{$P(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let p=0;p<s;++p)d[a[p]]=u.dims[p];d[o[0]]=c[0],d[o[1]]=c[1],l.push(jt(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const h4={constant:uC,linear:cC,log:NP,exp:MP,pow:RP,quad:fC,poly:IP},ude=(e,t)=>e==="poly"?t:e==="quad"?2:1;function F5(e){ye.call(this,null,e)}F5.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(h4)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Ue(F5,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=TH(r,e.groupby),a=(e.groupby||[]).map(Mn),s=e.method||"linear",o=e.order==null?3:e.order,l=ude(s,o),u=e.as||[Mn(e.x),Mn(e.y)],c=h4[s],d=[];let p=e.extent;qe(h4,s)||ve("Invalid regression method: "+s),p!=null&&s==="log"&&p[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),p=null),i.forEach(g=>{if(g.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const x=c(g,e.x,e.y,o);if(e.params){d.push(jt({keys:g.dims,coef:x.coef,rSquared:x.rSquared}));return}const v=p||xo(g,e.x),_=E=>{const k={};for(let A=0;A<a.length;++A)k[a[A]]=g.dims[A];k[u[0]]=E[0],k[u[1]]=E[1],d.push(jt(k))};s==="linear"||s==="constant"?v.forEach(E=>_([E,x.predict(E)])):x_(x.predict,v,25,200).forEach(_)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const cde=Object.freeze(Object.defineProperty({__proto__:null,loess:T5,regression:F5},Symbol.toStringTag,{value:"Module"})),gl=11102230246251565e-32,Yr=134217729,fde=(3+8*gl)*gl;function US(e,t,n,r,i){let a,s,o,l,u=t[0],c=r[0],d=0,p=0;c>u==c>-u?(a=u,u=t[++d]):(a=c,c=r[++p]);let g=0;if(d<e&&p<n)for(c>u==c>-u?(s=u+a,o=a-(s-u),u=t[++d]):(s=c+a,o=a-(s-c),c=r[++p]),a=s,o!==0&&(i[g++]=o);d<e&&p<n;)c>u==c>-u?(s=a+u,l=s-a,o=a-(s-l)+(u-l),u=t[++d]):(s=a+c,l=s-a,o=a-(s-l)+(c-l),c=r[++p]),a=s,o!==0&&(i[g++]=o);for(;d<e;)s=a+u,l=s-a,o=a-(s-l)+(u-l),u=t[++d],a=s,o!==0&&(i[g++]=o);for(;p<n;)s=a+c,l=s-a,o=a-(s-l)+(c-l),c=r[++p],a=s,o!==0&&(i[g++]=o);return(a!==0||g===0)&&(i[g++]=a),g}function dde(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function em(e){return new Float64Array(e)}const hde=(3+16*gl)*gl,pde=(2+12*gl)*gl,gde=(9+64*gl)*gl*gl,Y0=em(4),H9=em(8),j9=em(12),G9=em(16),gi=em(4);function mde(e,t,n,r,i,a,s){let o,l,u,c,d,p,g,m,x,v,_,E,k,A,T,D,b,F;const C=e-i,N=n-i,R=t-a,L=r-a;A=C*L,p=Yr*C,g=p-(p-C),m=C-g,p=Yr*L,x=p-(p-L),v=L-x,T=m*v-(A-g*x-m*x-g*v),D=R*N,p=Yr*R,g=p-(p-R),m=R-g,p=Yr*N,x=p-(p-N),v=N-x,b=m*v-(D-g*x-m*x-g*v),_=T-b,d=T-_,Y0[0]=T-(_+d)+(d-b),E=A+_,d=E-A,k=A-(E-d)+(_-d),_=k-D,d=k-_,Y0[1]=k-(_+d)+(d-D),F=E+_,d=F-E,Y0[2]=E-(F-d)+(_-d),Y0[3]=F;let j=dde(4,Y0),q=pde*s;if(j>=q||-j>=q||(d=e-C,o=e-(C+d)+(d-i),d=n-N,u=n-(N+d)+(d-i),d=t-R,l=t-(R+d)+(d-a),d=r-L,c=r-(L+d)+(d-a),o===0&&l===0&&u===0&&c===0)||(q=gde*s+fde*Math.abs(j),j+=C*c+L*o-(R*u+N*l),j>=q||-j>=q))return j;A=o*L,p=Yr*o,g=p-(p-o),m=o-g,p=Yr*L,x=p-(p-L),v=L-x,T=m*v-(A-g*x-m*x-g*v),D=l*N,p=Yr*l,g=p-(p-l),m=l-g,p=Yr*N,x=p-(p-N),v=N-x,b=m*v-(D-g*x-m*x-g*v),_=T-b,d=T-_,gi[0]=T-(_+d)+(d-b),E=A+_,d=E-A,k=A-(E-d)+(_-d),_=k-D,d=k-_,gi[1]=k-(_+d)+(d-D),F=E+_,d=F-E,gi[2]=E-(F-d)+(_-d),gi[3]=F;const U=US(4,Y0,4,gi,H9);A=C*c,p=Yr*C,g=p-(p-C),m=C-g,p=Yr*c,x=p-(p-c),v=c-x,T=m*v-(A-g*x-m*x-g*v),D=R*u,p=Yr*R,g=p-(p-R),m=R-g,p=Yr*u,x=p-(p-u),v=u-x,b=m*v-(D-g*x-m*x-g*v),_=T-b,d=T-_,gi[0]=T-(_+d)+(d-b),E=A+_,d=E-A,k=A-(E-d)+(_-d),_=k-D,d=k-_,gi[1]=k-(_+d)+(d-D),F=E+_,d=F-E,gi[2]=E-(F-d)+(_-d),gi[3]=F;const K=US(U,H9,4,gi,j9);A=o*c,p=Yr*o,g=p-(p-o),m=o-g,p=Yr*c,x=p-(p-c),v=c-x,T=m*v-(A-g*x-m*x-g*v),D=l*u,p=Yr*l,g=p-(p-l),m=l-g,p=Yr*u,x=p-(p-u),v=u-x,b=m*v-(D-g*x-m*x-g*v),_=T-b,d=T-_,gi[0]=T-(_+d)+(d-b),E=A+_,d=E-A,k=A-(E-d)+(_-d),_=k-D,d=k-_,gi[1]=k-(_+d)+(d-D),F=E+_,d=F-E,gi[2]=E-(F-d)+(_-d),gi[3]=F;const ee=US(K,j9,4,gi,G9);return G9[ee-1]}function sy(e,t,n,r,i,a){const s=(t-a)*(n-i),o=(e-i)*(r-a),l=s-o,u=Math.abs(s+o);return Math.abs(l)>=hde*u?l:-mde(e,t,n,r,i,a,u)}const Y9=Math.pow(2,-52),oy=new Uint32Array(512);class g2{static from(t,n=wde,r=Ede){const i=t.length,a=new Float64Array(i*2);for(let s=0;s<i;s++){const o=t[s];a[2*s]=n(o),a[2*s+1]=r(o)}return new g2(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,s=t.length>>1;let o=1/0,l=1/0,u=-1/0,c=-1/0;for(let C=0;C<s;C++){const N=t[2*C],R=t[2*C+1];N<o&&(o=N),R<l&&(l=R),N>u&&(u=N),R>c&&(c=R),this._ids[C]=C}const d=(o+u)/2,p=(l+c)/2;let g,m,x;for(let C=0,N=1/0;C<s;C++){const R=WS(d,p,t[2*C],t[2*C+1]);R<N&&(g=C,N=R)}const v=t[2*g],_=t[2*g+1];for(let C=0,N=1/0;C<s;C++){if(C===g)continue;const R=WS(v,_,t[2*C],t[2*C+1]);R<N&&R>0&&(m=C,N=R)}let E=t[2*m],k=t[2*m+1],A=1/0;for(let C=0;C<s;C++){if(C===g||C===m)continue;const N=vde(v,_,E,k,t[2*C],t[2*C+1]);N<A&&(x=C,A=N)}let T=t[2*x],D=t[2*x+1];if(A===1/0){for(let R=0;R<s;R++)this._dists[R]=t[2*R]-t[0]||t[2*R+1]-t[1];od(this._ids,this._dists,0,s-1);const C=new Uint32Array(s);let N=0;for(let R=0,L=-1/0;R<s;R++){const j=this._ids[R],q=this._dists[j];q>L&&(C[N++]=j,L=q)}this.hull=C.subarray(0,N),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(sy(v,_,E,k,T,D)<0){const C=m,N=E,R=k;m=x,E=T,k=D,x=C,T=N,D=R}const b=_de(v,_,E,k,T,D);this._cx=b.x,this._cy=b.y;for(let C=0;C<s;C++)this._dists[C]=WS(t[2*C],t[2*C+1],b.x,b.y);od(this._ids,this._dists,0,s-1),this._hullStart=g;let F=3;r[g]=n[x]=m,r[m]=n[g]=x,r[x]=n[m]=g,i[g]=0,i[m]=1,i[x]=2,a.fill(-1),a[this._hashKey(v,_)]=g,a[this._hashKey(E,k)]=m,a[this._hashKey(T,D)]=x,this.trianglesLen=0,this._addTriangle(g,m,x,-1,-1,-1);for(let C=0,N,R;C<this._ids.length;C++){const L=this._ids[C],j=t[2*L],q=t[2*L+1];if(C>0&&Math.abs(j-N)<=Y9&&Math.abs(q-R)<=Y9||(N=j,R=q,L===g||L===m||L===x))continue;let U=0;for(let ae=0,W=this._hashKey(j,q);ae<this._hashSize&&(U=a[(W+ae)%this._hashSize],!(U!==-1&&U!==r[U]));ae++);U=n[U];let K=U,ee;for(;ee=r[K],sy(j,q,t[2*K],t[2*K+1],t[2*ee],t[2*ee+1])>=0;)if(K=ee,K===U){K=-1;break}if(K===-1)continue;let ne=this._addTriangle(K,L,r[K],-1,-1,i[K]);i[L]=this._legalize(ne+2),i[K]=ne,F++;let z=r[K];for(;ee=r[z],sy(j,q,t[2*z],t[2*z+1],t[2*ee],t[2*ee+1])<0;)ne=this._addTriangle(z,L,ee,i[L],-1,i[z]),i[L]=this._legalize(ne+2),r[z]=z,F--,z=ee;if(K===U)for(;ee=n[K],sy(j,q,t[2*ee],t[2*ee+1],t[2*K],t[2*K+1])<0;)ne=this._addTriangle(ee,L,K,-1,i[K],i[ee]),this._legalize(ne+2),i[ee]=ne,r[K]=K,F--,K=ee;this._hullStart=n[L]=K,r[K]=n[z]=L,r[L]=z,a[this._hashKey(j,q)]=L,a[this._hashKey(t[2*K],t[2*K+1])]=K}this.hull=new Uint32Array(F);for(let C=0,N=this._hullStart;C<F;C++)this.hull[C]=N,N=r[N];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(xde(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,s=0;for(;;){const o=r[t],l=t-t%3;if(s=l+(t+2)%3,o===-1){if(a===0)break;t=oy[--a];continue}const u=o-o%3,c=l+(t+1)%3,d=u+(o+2)%3,p=n[s],g=n[t],m=n[c],x=n[d];if(yde(i[2*p],i[2*p+1],i[2*g],i[2*g+1],i[2*m],i[2*m+1],i[2*x],i[2*x+1])){n[t]=x,n[o]=p;const _=r[d];if(_===-1){let k=this._hullStart;do{if(this._hullTri[k]===d){this._hullTri[k]=t;break}k=this._hullPrev[k]}while(k!==this._hullStart)}this._link(t,_),this._link(o,r[s]),this._link(s,d);const E=u+(o+1)%3;a<oy.length&&(oy[a++]=E)}else{if(a===0)break;t=oy[--a]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,s){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=n,this._triangles[o+2]=r,this._link(o,i),this._link(o+1,a),this._link(o+2,s),this.trianglesLen+=3,o}}function xde(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function WS(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function yde(e,t,n,r,i,a,s,o){const l=e-s,u=t-o,c=n-s,d=r-o,p=i-s,g=a-o,m=l*l+u*u,x=c*c+d*d,v=p*p+g*g;return l*(d*v-x*g)-u*(c*v-x*p)+m*(c*g-d*p)<0}function vde(e,t,n,r,i,a){const s=n-e,o=r-t,l=i-e,u=a-t,c=s*s+o*o,d=l*l+u*u,p=.5/(s*u-o*l),g=(u*c-o*d)*p,m=(s*d-l*c)*p;return g*g+m*m}function _de(e,t,n,r,i,a){const s=n-e,o=r-t,l=i-e,u=a-t,c=s*s+o*o,d=l*l+u*u,p=.5/(s*u-o*l),g=e+(u*c-o*d)*p,m=t+(s*d-l*c)*p;return{x:g,y:m}}function od(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],s=t[a];let o=i-1;for(;o>=n&&t[e[o]]>s;)e[o+1]=e[o--];e[o+1]=a}else{const i=n+r>>1;let a=n+1,s=r;$p(e,i,a),t[e[n]]>t[e[r]]&&$p(e,n,r),t[e[a]]>t[e[r]]&&$p(e,a,r),t[e[n]]>t[e[a]]&&$p(e,n,a);const o=e[a],l=t[o];for(;;){do a++;while(t[e[a]]<l);do s--;while(t[e[s]]>l);if(s<a)break;$p(e,a,s)}e[n+1]=e[s],e[s]=o,r-a+1>=s-n?(od(e,t,a,r),od(e,t,n,s-1)):(od(e,t,n,s-1),od(e,t,a,r))}}function $p(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function wde(e){return e[0]}function Ede(e){return e[1]}const V9=1e-6;class rf{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>V9||Math.abs(this._y1-a)>V9)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class p4{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let kde=class{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let a,s;const o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let x=0,v=0,_=r.length,E,k;x<_;x+=3,v+=2){const A=r[x]*2,T=r[x+1]*2,D=r[x+2]*2,b=t[A],F=t[A+1],C=t[T],N=t[T+1],R=t[D],L=t[D+1],j=C-b,q=N-F,U=R-b,K=L-F,ee=(j*K-q*U)*2;if(Math.abs(ee)<1e-9){if(a===void 0){a=s=0;for(const z of n)a+=t[z*2],s+=t[z*2+1];a/=n.length,s/=n.length}const ne=1e9*Math.sign((a-b)*K-(s-F)*U);E=(b+R)/2-ne*K,k=(F+L)/2+ne*U}else{const ne=1/ee,z=j*j+q*q,ae=U*U+K*K;E=b+(K*z-q*ae)*ne,k=F+(j*ae-U*z)*ne}o[v]=E,o[v+1]=k}let l=n[n.length-1],u,c=l*4,d,p=t[2*l],g,m=t[2*l+1];i.fill(0);for(let x=0;x<n.length;++x)l=n[x],u=c,d=p,g=m,c=l*4,p=t[2*l],m=t[2*l+1],i[u+2]=i[c]=g-m,i[u+3]=i[c+1]=p-d}render(t){const n=t==null?t=new rf:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:s,vectors:o}=this;if(a.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const p=r[c];if(p<c)continue;const g=Math.floor(c/3)*2,m=Math.floor(p/3)*2,x=s[g],v=s[g+1],_=s[m],E=s[m+1];this._renderSegment(x,v,_,E,t)}let l,u=a[a.length-1];for(let c=0;c<a.length;++c){l=u,u=a[c];const d=Math.floor(i[u]/3)*2,p=s[d],g=s[d+1],m=l*4,x=this._project(p,g,o[m+2],o[m+3]);x&&this._renderSegment(p,g,x[0],x[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new rf:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new rf:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let s=2;s<a;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new p4;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let s;const o=this._regioncode(t,n),l=this._regioncode(r,i);o===0&&l===0?(a.moveTo(t,n),a.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,o,l))&&(a.moveTo(s[0],s[1]),a.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,s=n.length;a<s;a+=2)for(let o=0,l=i.length;o<l;o+=2)if(n[a]===i[o]&&n[a+1]===i[o+1]&&n[(a+2)%s]===i[(o+l-2)%l]&&n[(a+3)%s]===i[(o+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,s=r[t];if(s===-1)return null;const o=[];let l=s;do{const u=Math.floor(l/3);if(o.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,a[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,a,s,o=n[r-2],l=n[r-1],u,c=this._regioncode(o,l),d,p=0;for(let g=0;g<r;g+=2)if(a=o,s=l,o=n[g],l=n[g+1],u=c,c=this._regioncode(o,l),u===0&&c===0)d=p,p=0,i?i.push(o,l):i=[o,l];else{let m,x,v,_,E;if(u===0){if((m=this._clipSegment(a,s,o,l,u,c))===null)continue;[x,v,_,E]=m}else{if((m=this._clipSegment(o,l,a,s,c,u))===null)continue;[_,E,x,v]=m,d=p,p=this._edgecode(x,v),d&&p&&this._edge(t,d,p,i,i.length),i?i.push(x,v):i=[x,v]}d=p,p=this._edgecode(_,E),d&&p&&this._edge(t,d,p,i,i.length),i?i.push(_,E):i=[_,E]}if(i)d=p,p=this._edgecode(i[0],i[1]),d&&p&&this._edge(t,d,p,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,s){const o=a<s;for(o&&([t,n,r,i,a,s]=[r,i,t,n,s,a]);;){if(a===0&&s===0)return o?[r,i,t,n]:[t,n,r,i];if(a&s)return null;let l,u,c=a||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),a?(t=l,n=u,a=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,s){let o=Array.from(n),l;if((l=this._project(o[0],o[1],r,i))&&o.unshift(l[0],l[1]),(l=this._project(o[o.length-2],o[o.length-1],a,s))&&o.push(l[0],l[1]),o=this._clipFinite(t,o))for(let u=0,c=o.length,d,p=this._edgecode(o[c-2],o[c-1]);u<c;u+=2)d=p,p=this._edgecode(o[u],o[u+1]),d&&p&&(u=this._edge(t,d,p,o,u),c=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,n,r,i,a){for(;n!==r;){let s,o;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,o=this.ymin;break}(i[a]!==s||i[a+1]!==o)&&this.contains(t,s,o)&&(i.splice(a,0,s,o),a+=2)}return a}_project(t,n,r,i){let a=1/0,s,o,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<a&&(l=this.ymin,o=t+(a=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<a&&(l=this.ymax,o=t+(a=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<a&&(o=this.xmax,l=n+(a=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<a&&(o=this.xmin,l=n+(a=s)*i)}return[o,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const Sde=2*Math.PI,V0=Math.pow;function bde(e){return e[0]}function Ade(e){return e[1]}function Cde(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function Tde(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class O5{static from(t,n=bde,r=Ade,i){return new O5("length"in t?Fde(t,n,r,i):Float64Array.from(Ode(t,n,r,i)))}constructor(t){this._delaunator=new g2(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Cde(t)){this.collinear=Int32Array.from({length:n.length/2},(p,g)=>g).sort((p,g)=>n[2*p]-n[2*g]||n[2*p+1]-n[2*g+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let p=0,g=n.length/2;p<g;++p){const m=Tde(n[2*p],n[2*p+1],d);n[2*p]=m[0],n[2*p+1]=m[1]}this._delaunator=new g2(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=a[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)o[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new kde(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:s,collinear:o}=this;if(o){const d=o.indexOf(t);d>0&&(yield o[d-1]),d<o.length-1&&(yield o[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=a[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:s,halfedges:o,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=V0(n-u[t*2],2)+V0(r-u[t*2+1],2);const p=i[t];let g=p;do{let m=l[g];const x=V0(n-u[m*2],2)+V0(r-u[m*2+1],2);if(x<d&&(d=x,c=m),g=g%3===2?g-2:g+1,l[g]!==t)break;if(g=o[g],g===-1){if(g=a[(s[t]+1)%a.length],g!==m&&V0(n-u[g*2],2)+V0(r-u[g*2+1],2)<d)return g;break}}while(g!==p);return c}render(t){const n=t==null?t=new rf:void 0,{points:r,halfedges:i,triangles:a}=this;for(let s=0,o=i.length;s<o;++s){const l=i[s];if(l<s)continue;const u=a[s]*2,c=a[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new rf:void 0,{points:i}=this;for(let a=0,s=i.length;a<s;a+=2){const o=i[a],l=i[a+1];t.moveTo(o+n,l),t.arc(o,l,n,0,Sde)}return r&&r.value()}renderHull(t){const n=t==null?t=new rf:void 0,{hull:r,points:i}=this,a=r[0]*2,s=r.length;t.moveTo(i[a],i[a+1]);for(let o=1;o<s;++o){const l=2*r[o];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new p4;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new rf:void 0,{points:i,triangles:a}=this,s=a[t*=3]*2,o=a[t+1]*2,l=a[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[o],i[o+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new p4;return this.renderTriangle(t,n),n.value()}}function Fde(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let s=0;s<i;++s){const o=e[s];a[s*2]=t.call(r,o,s,e),a[s*2+1]=n.call(r,o,s,e)}return a}function*Ode(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}function D5(e){ye.call(this,null,e)}D5.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const Dde=[-1e5,-1e5,1e5,1e5];Ue(D5,ye,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:Dde;const a=this.value=O5.from(r,e.x,e.y).voronoi(i);for(let s=0,o=r.length;s<o;++s){const l=a.cellPolygon(s);r[s][n]=l&&!Mde(l)?Nde(l):null}return t.reflow(e.modified()).modifies(n)}});function Nde(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function Mde(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const Rde=Object.freeze(Object.defineProperty({__proto__:null,voronoi:D5},Symbol.toStringTag,{value:"Module"}));var HS=Math.PI/180,h1=64,Jy=2048;function Ide(){var e=[256,256],t,n,r,i,a,s,o,l=FH,u=[],c=Math.random,d={};d.layout=function(){for(var m=p(Ru()),x=Ude((e[0]>>5)*e[1]),v=null,_=u.length,E=-1,k=[],A=u.map(D=>({text:t(D),font:n(D),style:i(D),weight:a(D),rotate:s(D),size:~~(r(D)+1e-14),padding:o(D),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:D})).sort((D,b)=>b.size-D.size);++E<_;){var T=A[E];T.x=e[0]*(c()+.5)>>1,T.y=e[1]*(c()+.5)>>1,$de(m,T,A,E),T.hasText&&g(x,T,v)&&(k.push(T),v?Pde(v,T):v=[{x:T.x+T.x0,y:T.y+T.y0},{x:T.x+T.x1,y:T.y+T.y1}],T.x-=e[0]>>1,T.y-=e[1]>>1)}return k};function p(m){m.width=m.height=1;var x=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(h1<<5)/x,m.height=Jy/x;var v=m.getContext("2d");return v.fillStyle=v.strokeStyle="red",v.textAlign="center",{context:v,ratio:x}}function g(m,x,v){for(var _=x.x,E=x.y,k=Math.hypot(e[0],e[1]),A=l(e),T=c()<.5?1:-1,D=-T,b,F,C;(b=A(D+=T))&&(F=~~b[0],C=~~b[1],!(Math.min(Math.abs(F),Math.abs(C))>=k));)if(x.x=_+F,x.y=E+C,!(x.x+x.x0<0||x.y+x.y0<0||x.x+x.x1>e[0]||x.y+x.y1>e[1])&&(!v||!Lde(x,m,e[0]))&&(!v||Bde(x,v))){for(var N=x.sprite,R=x.width>>5,L=e[0]>>5,j=x.x-(R<<4),q=j&127,U=32-q,K=x.y1-x.y0,ee=(x.y+x.y0)*L+(j>>5),ne,z=0;z<K;z++){ne=0;for(var ae=0;ae<=R;ae++)m[ee+ae]|=ne<<U|(ae<R?(ne=N[z*R+ae])>>>q:0);ee+=L}return x.sprite=null,!0}return!1}return d.words=function(m){return arguments.length?(u=m,d):u},d.size=function(m){return arguments.length?(e=[+m[0],+m[1]],d):e},d.font=function(m){return arguments.length?(n=Rc(m),d):n},d.fontStyle=function(m){return arguments.length?(i=Rc(m),d):i},d.fontWeight=function(m){return arguments.length?(a=Rc(m),d):a},d.rotate=function(m){return arguments.length?(s=Rc(m),d):s},d.text=function(m){return arguments.length?(t=Rc(m),d):t},d.spiral=function(m){return arguments.length?(l=Wde[m]||m,d):l},d.fontSize=function(m){return arguments.length?(r=Rc(m),d):r},d.padding=function(m){return arguments.length?(o=Rc(m),d):o},d.random=function(m){return arguments.length?(c=m,d):c},d}function $de(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(h1<<5)/a,Jy/a);var s=0,o=0,l=0,u=n.length,c,d,p,g,m;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,c=i.measureText(t.text+"m").width*a,p=t.size<<1,t.rotate){var x=Math.sin(t.rotate*HS),v=Math.cos(t.rotate*HS),_=c*v,E=c*x,k=p*v,A=p*x;c=Math.max(Math.abs(_+A),Math.abs(_-A))+31>>5<<5,p=~~Math.max(Math.abs(E+k),Math.abs(E-k))}else c=c+31>>5<<5;if(p>l&&(l=p),s+c>=h1<<5&&(s=0,o+=l,l=0),o+p>=Jy)break;i.translate((s+(c>>1))/a,(o+(p>>1))/a),t.rotate&&i.rotate(t.rotate*HS),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=p,t.xoff=s,t.yoff=o,t.x1=c>>1,t.y1=p>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var T=i.getImageData(0,0,(h1<<5)/a,Jy/a).data,D=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,p=t.y1-t.y0,g=0;g<p*d;g++)D[g]=0;if(s=t.xoff,s==null)return;o=t.yoff;var b=0,F=-1;for(m=0;m<p;m++){for(g=0;g<c;g++){var C=d*m+(g>>5),N=T[(o+m)*(h1<<5)+(s+g)<<2]?1<<31-g%32:0;D[C]|=N,b|=N}b?F=m:(t.y0++,p--,m--,o++)}t.y1=t.y0+F,t.sprite=D.slice(0,(t.y1-t.y0)*d)}}}function Lde(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,a=e.x-(i<<4),s=a&127,o=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(a>>5),c,d=0;d<l;d++){c=0;for(var p=0;p<=i;p++)if((c<<o|(p<i?(c=r[d*i+p])>>>s:0))&t[u+p])return!0;u+=n}return!1}function Pde(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function Bde(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function FH(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function zde(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(a){var s=a<0?-1:1;switch(Math.sqrt(1+4*s*a)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function Ude(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Rc(e){return typeof e=="function"?e:function(){return e}}var Wde={archimedean:FH,rectangular:zde};const OH=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Hde=["text","font","rotate","fontSize","fontStyle","fontWeight"];function N5(e){ye.call(this,Ide(),e)}N5.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:OH}]};Ue(N5,ye,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&ve("Wordcloud size dimensions must be non-zero.");function n(m){const x=e[m];return vt(x)&&t.modified(x.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||Hde.some(n)))return;const i=t.materialize(t.SOURCE).source,a=this.value,s=e.as||OH;let o=e.fontSize||14,l;if(vt(o)?l=e.fontSizeRange:o=ui(o),l){const m=o,x=Ht("sqrt")().domain(xo(i,m)).range(l);o=v=>x(m(v))}i.forEach(m=>{m[s[0]]=NaN,m[s[1]]=NaN,m[s[3]]=0});const u=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(o).random(qa).layout(),c=a.size(),d=c[0]>>1,p=c[1]>>1,g=u.length;for(let m=0,x,v;m<g;++m)x=u[m],v=x.datum,v[s[0]]=x.x+d,v[s[1]]=x.y+p,v[s[2]]=x.font,v[s[3]]=x.size,v[s[4]]=x.style,v[s[5]]=x.weight,v[s[6]]=x.rotate;return t.reflow(r).modifies(s)}});const jde=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:N5},Symbol.toStringTag,{value:"Module"})),Gde=e=>new Uint8Array(e),Yde=e=>new Uint16Array(e),F1=e=>new Uint32Array(e);function Vde(){let e=8,t=[],n=F1(0),r=ly(0,e),i=ly(0,e);return{data:()=>t,seen:()=>n=qde(n,t.length),add(a){for(let s=0,o=t.length,l=a.length,u;s<l;++s)u=a[s],u._index=o++,t.push(u)},remove(a,s){const o=t.length,l=Array(o-a),u=t;let c,d,p;for(d=0;!s[d]&&d<o;++d)l[d]=t[d],u[d]=d;for(p=d;d<o;++d)c=t[d],s[d]?u[d]=-1:(u[d]=p,r[p]=r[d],i[p]=i[d],l[p]=c,c._index=p++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:a=>i[a]=r[a],all:()=>e<257?255:e<65537?65535:4294967295,set(a,s){r[a]|=s},clear(a,s){r[a]&=~s},resize(a,s){const o=r.length;(a>o||s>e)&&(e=Math.max(s,e),r=ly(a,e,r),i=ly(a,e))}}}function qde(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function ly(e,t,n){const r=(t<257?Gde:t<65537?Yde:F1)(e);return n&&r.set(n),r}function q9(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,a){const s=this,o=s.bisect(s.range,i.value),l=i.index,u=o[0],c=o[1],d=l.length;let p;for(p=0;p<u;++p)a[l[p]]|=r;for(p=c;p<d;++p)a[l[p]]|=r;return s}}}function X9(){let e=F1(0),t=[],n=0;function r(o,l,u){if(!l.length)return[];const c=n,d=l.length,p=F1(d);let g=Array(d),m,x,v;for(v=0;v<d;++v)g[v]=o(l[v]),p[v]=v;if(g=Xde(g,p),c)m=t,x=e,t=Array(c+d),e=F1(c+d),Kde(u,m,x,c,g,p,d,t,e);else{if(u>0)for(v=0;v<d;++v)p[v]+=u;t=g,e=p}return n=c+d,{index:p,value:g}}function i(o,l){const u=n;let c,d,p;for(d=0;!l[e[d]]&&d<u;++d);for(p=d;d<u;++d)l[c=e[d]]||(e[p]=c,t[p]=t[d],++p);n=u-o}function a(o){for(let l=0,u=n;l<u;++l)e[l]=o[e[l]]}function s(o,l){let u;return l?u=l.length:(l=t,u=n),[tZ(l,o[0],0,u),Pu(l,o[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:a,index:()=>e,size:()=>n}}function Xde(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],a=e[r];return i<a?-1:i>a?1:0}),iZ(e,t)}function Kde(e,t,n,r,i,a,s,o,l){let u=0,c=0,d;for(d=0;u<r&&c<s;++d)t[u]<i[c]?(o[d]=t[u],l[d]=n[u++]):(o[d]=i[c],l[d]=a[c++]+e);for(;u<r;++u,++d)o[d]=t[u],l[d]=n[u];for(;c<s;++c,++d)o[d]=i[c],l[d]=a[c]+e}function M5(e){ye.call(this,Vde(),e),this._indices=null,this._dims=null}M5.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Ue(M5,ye,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},a=this._dims=[],s=r.length;let o=0,l,u;for(;o<s;++o)l=n[o].fname,u=i[l]||(i[l]=X9()),a.push(q9(u,o,r[o]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,a=this._indices,s=this._dims,o=this.value,l=o.curr(),u=o.prev(),c=o.all(),d=n.rem=n.add,p=n.mod,g=i.length,m={};let x,v,_,E,k,A,T,D,b;if(u.set(l),t.rem.length&&(k=this.remove(e,t,n)),t.add.length&&o.add(t.add),t.mod.length)for(A={},E=t.mod,T=0,D=E.length;T<D;++T)A[E[T]._index]=1;for(T=0;T<g;++T)b=r[T],(!s[T]||e.modified("fields",T)||t.modified(b.fields))&&(_=b.fname,(x=m[_])||(a[_]=v=X9(),m[_]=x=v.insert(b,t.source,0)),s[T]=q9(v,T,i[T]).onAdd(x,l));for(T=0,D=o.data().length;T<D;++T)k[T]||(u[T]!==l[T]?d.push(T):A[T]&&l[T]!==c&&p.push(T));return o.mask=(1<<g)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,a=this._dims,s=this._indices,o=e.fields,l={},u=n.add,c=i.size()+r.length,d=a.length;let p=i.size(),g,m,x;i.resize(c,d),i.add(r);const v=i.curr(),_=i.prev(),E=i.all();for(g=0;g<d;++g)m=o[g].fname,x=l[m]||(l[m]=s[m].insert(o[g],r,p)),a[g].onAdd(x,v);for(;p<c;++p)_[p]=E,v[p]!==E&&u.push(p)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),a=r.all(),s=e.mod;let o,l,u;for(o=0,l=s.length;o<l;++o)u=s[o]._index,i[u]!==a&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,a=i.curr(),s=i.prev(),o=i.all(),l={},u=n.rem,c=t.rem;let d,p,g,m;for(d=0,p=c.length;d<p;++d)g=c[d]._index,l[g]=1,s[g]=m=a[g],a[g]=o,m!==o&&u.push(g);for(g in r)r[g].remove(p,l);return this.reindex(t,p,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const a=i.remove(t,n);for(const s in r)r[s].reindex(a)})},update(e,t,n){const r=this._dims,i=e.query,a=t.stamp,s=r.length;let o=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++o);if(o===1)o=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,o=0;u<s;++u)e.modified("query",u)&&(o|=r[u].one,this.incrementAll(r[u],i[u],a,n.add),n.rem=n.add);return o},incrementAll(e,t,n,r){const i=this.value,a=i.seen(),s=i.curr(),o=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],p=c[1],g=u[0],m=u[1],x=e.one;let v,_,E;if(d<g)for(v=d,_=Math.min(g,p);v<_;++v)E=l[v],a[E]!==n&&(o[E]=s[E],a[E]=n,r.push(E)),s[E]^=x;else if(d>g)for(v=g,_=Math.min(d,m);v<_;++v)E=l[v],a[E]!==n&&(o[E]=s[E],a[E]=n,r.push(E)),s[E]^=x;if(p>m)for(v=Math.max(d,m),_=p;v<_;++v)E=l[v],a[E]!==n&&(o[E]=s[E],a[E]=n,r.push(E)),s[E]^=x;else if(p<m)for(v=Math.max(g,p),_=m;v<_;++v)E=l[v],a[E]!==n&&(o[E]=s[E],a[E]=n,r.push(E)),s[E]^=x;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,a=i.curr(),s=e.index(),o=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=o[0],p=o[1],g=e.one;let m,x,v;if(u<d)for(m=u,x=Math.min(d,c);m<x;++m)v=s[m],a[v]^=g,n.push(v);else if(u>d)for(m=d,x=Math.min(u,p);m<x;++m)v=s[m],a[v]^=g,r.push(v);if(c>p)for(m=Math.max(u,p),x=c;m<x;++m)v=s[m],a[v]^=g,n.push(v);else if(c<p)for(m=Math.max(d,c),x=p;m<x;++m)v=s[m],a[v]^=g,r.push(v);e.range=t.slice()}});function R5(e){ye.call(this,null,e)}R5.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Ue(R5,ye,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const a=t.fork(t.ALL),s=r.data(),o=r.curr(),l=r.prev(),u=c=>o[c]&n?null:s[c];return a.filter(a.MOD,u),i&i-1?(a.filter(a.ADD,c=>{const d=o[c]&n;return!d&&d^l[c]&n?s[c]:null}),a.filter(a.REM,c=>{const d=o[c]&n;return d&&!(d^(d^l[c]&n))?s[c]:null})):(a.filter(a.ADD,u),a.filter(a.REM,c=>(o[c]&n)===i?s[c]:null)),a.filter(a.SOURCE,c=>u(c._index))}});const Jde=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:M5,resolvefilter:R5},Symbol.toStringTag,{value:"Module"})),Qde="RawCode",Af="Literal",Zde="Property",ehe="Identifier",the="ArrayExpression",nhe="BinaryExpression",DH="CallExpression",rhe="ConditionalExpression",ihe="LogicalExpression",ahe="MemberExpression",she="ObjectExpression",ohe="UnaryExpression";function Ls(e){this.type=e}Ls.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=lhe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function lhe(e){switch(e.type){case the:return e.elements;case nhe:case ihe:return[e.left,e.right];case DH:return[e.callee].concat(e.arguments);case rhe:return[e.test,e.consequent,e.alternate];case ahe:return[e.object,e.property];case she:return e.properties;case Zde:return[e.key,e.value];case ohe:return[e.argument];case ehe:case Af:case Qde:default:return[]}}var No,tt,_e,ai,Qt,K_=1,tm=2,Cf=3,sc=4,J_=5,Kf=6,ji=7,nm=8,uhe=9;No={};No[K_]="Boolean";No[tm]="<end>";No[Cf]="Identifier";No[sc]="Keyword";No[J_]="Null";No[Kf]="Numeric";No[ji]="Punctuator";No[nm]="String";No[uhe]="RegularExpression";var che="ArrayExpression",fhe="BinaryExpression",dhe="CallExpression",hhe="ConditionalExpression",NH="Identifier",phe="Literal",ghe="LogicalExpression",mhe="MemberExpression",xhe="ObjectExpression",yhe="Property",vhe="UnaryExpression",xr="Unexpected token %0",_he="Unexpected number",whe="Unexpected string",Ehe="Unexpected identifier",khe="Unexpected reserved word",She="Unexpected end of input",g4="Invalid regular expression",jS="Invalid regular expression: missing /",MH="Octal literals are not allowed in strict mode.",bhe="Duplicate data property in object literal not allowed in strict mode",Ir="ILLEGAL",sg="Disabled.",Ahe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Che=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Q_(e,t){if(!e)throw new Error("ASSERT: "+t)}function rl(e){return e>=48&&e<=57}function I5(e){return"0123456789abcdefABCDEF".includes(e)}function O1(e){return"01234567".includes(e)}function The(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function og(e){return e===10||e===13||e===8232||e===8233}function rm(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&Ahe.test(String.fromCharCode(e))}function m2(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&Che.test(String.fromCharCode(e))}const Fhe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function RH(){for(;_e<ai;){const e=tt.charCodeAt(_e);if(The(e)||og(e))++_e;else break}}function m4(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)_e<ai&&I5(tt[_e])?(r=tt[_e++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):zt({},xr,Ir);return String.fromCharCode(i)}function Ohe(){var e,t,n,r;for(e=tt[_e],t=0,e==="}"&&zt({},xr,Ir);_e<ai&&(e=tt[_e++],!!I5(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&zt({},xr,Ir),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function IH(){var e,t;for(e=tt.charCodeAt(_e++),t=String.fromCharCode(e),e===92&&(tt.charCodeAt(_e)!==117&&zt({},xr,Ir),++_e,e=m4("u"),(!e||e==="\\"||!rm(e.charCodeAt(0)))&&zt({},xr,Ir),t=e);_e<ai&&(e=tt.charCodeAt(_e),!!m2(e));)++_e,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),tt.charCodeAt(_e)!==117&&zt({},xr,Ir),++_e,e=m4("u"),(!e||e==="\\"||!m2(e.charCodeAt(0)))&&zt({},xr,Ir),t+=e);return t}function Dhe(){var e,t;for(e=_e++;_e<ai;){if(t=tt.charCodeAt(_e),t===92)return _e=e,IH();if(m2(t))++_e;else break}return tt.slice(e,_e)}function Nhe(){var e,t,n;return e=_e,t=tt.charCodeAt(_e)===92?IH():Dhe(),t.length===1?n=Cf:Fhe.hasOwnProperty(t)?n=sc:t==="null"?n=J_:t==="true"||t==="false"?n=K_:n=Cf,{type:n,value:t,start:e,end:_e}}function GS(){var e=_e,t=tt.charCodeAt(_e),n,r=tt[_e],i,a,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++_e,{type:ji,value:String.fromCharCode(t),start:e,end:_e};default:if(n=tt.charCodeAt(_e+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return _e+=2,{type:ji,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:_e};case 33:case 61:return _e+=2,tt.charCodeAt(_e)===61&&++_e,{type:ji,value:tt.slice(e,_e),start:e,end:_e}}}if(s=tt.substr(_e,4),s===">>>=")return _e+=4,{type:ji,value:s,start:e,end:_e};if(a=s.substr(0,3),a===">>>"||a==="<<="||a===">>=")return _e+=3,{type:ji,value:a,start:e,end:_e};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return _e+=2,{type:ji,value:i,start:e,end:_e};if(i==="//"&&zt({},xr,Ir),"<>=!+-*%&|^/".includes(r))return++_e,{type:ji,value:r,start:e,end:_e};zt({},xr,Ir)}function Mhe(e){let t="";for(;_e<ai&&I5(tt[_e]);)t+=tt[_e++];return t.length===0&&zt({},xr,Ir),rm(tt.charCodeAt(_e))&&zt({},xr,Ir),{type:Kf,value:parseInt("0x"+t,16),start:e,end:_e}}function Rhe(e){let t="0"+tt[_e++];for(;_e<ai&&O1(tt[_e]);)t+=tt[_e++];return(rm(tt.charCodeAt(_e))||rl(tt.charCodeAt(_e)))&&zt({},xr,Ir),{type:Kf,value:parseInt(t,8),octal:!0,start:e,end:_e}}function K9(){var e,t,n;if(n=tt[_e],Q_(rl(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=_e,e="",n!=="."){if(e=tt[_e++],n=tt[_e],e==="0"){if(n==="x"||n==="X")return++_e,Mhe(t);if(O1(n))return Rhe(t);n&&rl(n.charCodeAt(0))&&zt({},xr,Ir)}for(;rl(tt.charCodeAt(_e));)e+=tt[_e++];n=tt[_e]}if(n==="."){for(e+=tt[_e++];rl(tt.charCodeAt(_e));)e+=tt[_e++];n=tt[_e]}if(n==="e"||n==="E")if(e+=tt[_e++],n=tt[_e],(n==="+"||n==="-")&&(e+=tt[_e++]),rl(tt.charCodeAt(_e)))for(;rl(tt.charCodeAt(_e));)e+=tt[_e++];else zt({},xr,Ir);return rm(tt.charCodeAt(_e))&&zt({},xr,Ir),{type:Kf,value:parseFloat(e),start:t,end:_e}}function Ihe(){var e="",t,n,r,i,a=!1;for(t=tt[_e],Q_(t==="'"||t==='"',"String literal must starts with a quote"),n=_e,++_e;_e<ai;)if(r=tt[_e++],r===t){t="";break}else if(r==="\\")if(r=tt[_e++],!r||!og(r.charCodeAt(0)))switch(r){case"u":case"x":tt[_e]==="{"?(++_e,e+=Ohe()):e+=m4(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:O1(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),_e<ai&&O1(tt[_e])&&(a=!0,i=i*8+"01234567".indexOf(tt[_e++]),"0123".includes(r)&&_e<ai&&O1(tt[_e])&&(i=i*8+"01234567".indexOf(tt[_e++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&tt[_e]===`
`&&++_e;else{if(og(r.charCodeAt(0)))break;e+=r}return t!==""&&zt({},xr,Ir),{type:nm,value:e,octal:a,start:n,end:_e}}function $he(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";zt({},g4)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{zt({},g4)}try{return new RegExp(e,t)}catch{return null}}function Lhe(){var e,t,n,r,i;for(e=tt[_e],Q_(e==="/","Regular expression literal must start with a slash"),t=tt[_e++],n=!1,r=!1;_e<ai;)if(e=tt[_e++],t+=e,e==="\\")e=tt[_e++],og(e.charCodeAt(0))&&zt({},jS),t+=e;else if(og(e.charCodeAt(0)))zt({},jS);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||zt({},jS),i=t.substr(1,t.length-2),{value:i,literal:t}}function Phe(){var e,t,n;for(t="",n="";_e<ai&&(e=tt[_e],!!m2(e.charCodeAt(0)));)++_e,e==="\\"&&_e<ai?zt({},xr,Ir):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&zt({},g4,n),{value:n,literal:t}}function Bhe(){var e,t,n,r;return Qt=null,RH(),e=_e,t=Lhe(),n=Phe(),r=$he(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:_e}}function zhe(e){return e.type===Cf||e.type===sc||e.type===K_||e.type===J_}function $H(){if(RH(),_e>=ai)return{type:tm,start:_e,end:_e};const e=tt.charCodeAt(_e);return rm(e)?Nhe():e===40||e===41||e===59?GS():e===39||e===34?Ihe():e===46?rl(tt.charCodeAt(_e+1))?K9():GS():rl(e)?K9():GS()}function Yi(){const e=Qt;return _e=e.end,Qt=$H(),_e=e.end,e}function LH(){const e=_e;Qt=$H(),_e=e}function Uhe(e){const t=new Ls(che);return t.elements=e,t}function J9(e,t,n){const r=new Ls(e==="||"||e==="&&"?ghe:fhe);return r.operator=e,r.left=t,r.right=n,r}function Whe(e,t){const n=new Ls(dhe);return n.callee=e,n.arguments=t,n}function Hhe(e,t,n){const r=new Ls(hhe);return r.test=e,r.consequent=t,r.alternate=n,r}function $5(e){const t=new Ls(NH);return t.name=e,t}function p1(e){const t=new Ls(phe);return t.value=e.value,t.raw=tt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Q9(e,t,n){const r=new Ls(mhe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function jhe(e){const t=new Ls(xhe);return t.properties=e,t}function Z9(e,t,n){const r=new Ls(yhe);return r.key=t,r.value=n,r.kind=e,r}function Ghe(e,t){const n=new Ls(vhe);return n.operator=e,n.argument=t,n.prefix=!0,n}function zt(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,s)=>(Q_(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=_e,n.description=i,n}function Z_(e){e.type===tm&&zt(e,She),e.type===Kf&&zt(e,_he),e.type===nm&&zt(e,whe),e.type===Cf&&zt(e,Ehe),e.type===sc&&zt(e,khe),zt(e,xr,e.value)}function si(e){const t=Yi();(t.type!==ji||t.value!==e)&&Z_(t)}function hn(e){return Qt.type===ji&&Qt.value===e}function YS(e){return Qt.type===sc&&Qt.value===e}function Yhe(){const e=[];for(_e=Qt.start,si("[");!hn("]");)hn(",")?(Yi(),e.push(null)):(e.push(Tf()),hn("]")||si(","));return Yi(),Uhe(e)}function eR(){_e=Qt.start;const e=Yi();return e.type===nm||e.type===Kf?(e.octal&&zt(e,MH),p1(e)):$5(e.value)}function Vhe(){var e,t,n,r;if(_e=Qt.start,e=Qt,e.type===Cf)return n=eR(),si(":"),r=Tf(),Z9("init",n,r);if(e.type===tm||e.type===ji)Z_(e);else return t=eR(),si(":"),r=Tf(),Z9("init",t,r)}function qhe(){var e=[],t,n,r,i={},a=String;for(_e=Qt.start,si("{");!hn("}");)t=Vhe(),t.key.type===NH?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?zt({},bhe):i[r]=!0,e.push(t),hn("}")||si(",");return si("}"),jhe(e)}function Xhe(){si("(");const e=L5();return si(")"),e}const Khe={if:1};function Jhe(){var e,t,n;if(hn("("))return Xhe();if(hn("["))return Yhe();if(hn("{"))return qhe();if(e=Qt.type,_e=Qt.start,e===Cf||Khe[Qt.value])n=$5(Yi().value);else if(e===nm||e===Kf)Qt.octal&&zt(Qt,MH),n=p1(Yi());else{if(e===sc)throw new Error(sg);e===K_?(t=Yi(),t.value=t.value==="true",n=p1(t)):e===J_?(t=Yi(),t.value=null,n=p1(t)):hn("/")||hn("/=")?(n=p1(Bhe()),LH()):Z_(Yi())}return n}function Qhe(){const e=[];if(si("("),!hn(")"))for(;_e<ai&&(e.push(Tf()),!hn(")"));)si(",");return si(")"),e}function Zhe(){_e=Qt.start;const e=Yi();return zhe(e)||Z_(e),$5(e.value)}function epe(){return si("."),Zhe()}function tpe(){si("[");const e=L5();return si("]"),e}function npe(){var e,t,n;for(e=Jhe();;)if(hn("."))n=epe(),e=Q9(".",e,n);else if(hn("("))t=Qhe(),e=Whe(e,t);else if(hn("["))n=tpe(),e=Q9("[",e,n);else break;return e}function tR(){const e=npe();if(Qt.type===ji&&(hn("++")||hn("--")))throw new Error(sg);return e}function Qy(){var e,t;if(Qt.type!==ji&&Qt.type!==sc)t=tR();else{if(hn("++")||hn("--"))throw new Error(sg);if(hn("+")||hn("-")||hn("~")||hn("!"))e=Yi(),t=Qy(),t=Ghe(e.value,t);else{if(YS("delete")||YS("void")||YS("typeof"))throw new Error(sg);t=tR()}}return t}function nR(e){let t=0;if(e.type!==ji&&e.type!==sc)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function rpe(){var e,t,n,r,i,a,s,o,l,u;if(e=Qt,l=Qy(),r=Qt,i=nR(r),i===0)return l;for(r.prec=i,Yi(),t=[e,Qt],s=Qy(),a=[l,r,s];(i=nR(Qt))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)s=a.pop(),o=a.pop().value,l=a.pop(),t.pop(),n=J9(o,l,s),a.push(n);r=Yi(),r.prec=i,a.push(r),t.push(Qt),n=Qy(),a.push(n)}for(u=a.length-1,n=a[u],t.pop();u>1;)t.pop(),n=J9(a[u-1].value,a[u-2],n),u-=2;return n}function Tf(){var e,t,n;return e=rpe(),hn("?")&&(Yi(),t=Tf(),si(":"),n=Tf(),e=Hhe(e,t,n)),e}function L5(){const e=Tf();if(hn(","))throw new Error(sg);return e}function P5(e){tt=e,_e=0,ai=tt.length,Qt=null,LH();const t=L5();if(Qt.type!==tm)throw new Error("Unexpect token after expression.");return t}var PH={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function BH(e){function t(s,o,l,u){let c=e(o[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+o.slice(1).map(e).join(",")+")")}function n(s,o,l){return u=>t(s,u,o,l)}const r="new Date",i="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&ve("Missing arguments to clamp function."),s.length>3&&ve("Too many arguments to clamp function.");const o=s.map(e);return"Math.max("+o[1]+", Math.min("+o[2]+","+o[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:a,test:n("test",a),if:function(s){s.length<3&&ve("Missing arguments to if function."),s.length>3&&ve("Too many arguments to if function.");const o=s.map(e);return"("+o[0]+"?"+o[1]+":"+o[2]+")"}}}function ipe(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function zH(e){e=e||{};const t=e.allowed?Os(e.allowed):{},n=e.forbidden?Os(e.forbidden):{},r=e.constants||PH,i=(e.functions||BH)(d),a=e.globalvar,s=e.fieldvar,o=vt(a)?a:m=>`${a}["${m}"]`;[...Object.getOwnPropertyNames(Object.prototype).filter(m=>typeof Object.prototype[m]=="function")];let l={},u={},c=0;function d(m){if(Ye(m))return m;const x=p[m.type];return x==null&&ve("Unsupported type: "+m.type),x(m)}const p={Literal:m=>m.raw,Identifier:m=>{const x=m.name;return c>0?x:qe(n,x)?ve("Illegal identifier: "+x):qe(r,x)?r[x]:qe(t,x)?x:(l[x]=1,o(x))},MemberExpression:m=>{const x=!m.computed,v=d(m.object);x&&(c+=1);const _=d(m.property);return v===s&&(u[ipe(_)]=1),x&&(c-=1),v+(x?"."+_:"["+_+"]")},CallExpression:m=>{m.callee.type!=="Identifier"&&ve("Illegal callee type: "+m.callee.type);const x=m.callee.name,v=m.arguments,_=qe(i,x)&&i[x];return _||ve("Unrecognized function: "+x),vt(_)?_(v):_+"("+v.map(d).join(",")+")"},ArrayExpression:m=>"["+m.elements.map(d).join(",")+"]",BinaryExpression:m=>"("+d(m.left)+" "+m.operator+" "+d(m.right)+")",UnaryExpression:m=>"("+m.operator+d(m.argument)+")",ConditionalExpression:m=>"("+d(m.test)+"?"+d(m.consequent)+":"+d(m.alternate)+")",LogicalExpression:m=>"("+d(m.left)+m.operator+d(m.right)+")",ObjectExpression:m=>{for(const x of m.properties){const v=x.key.name;w3.has(v)&&ve("Illegal property: "+v)}return"{"+m.properties.map(d).join(",")+"}"},Property:m=>{c+=1;const x=d(m.key);return c-=1,x+":"+d(m.value)}};function g(m){const x={code:d(m),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},x}return g.functions=i,g.constants=r,g}const rR=Symbol("vega_selection_getter");function UH(e){return(!e.getter||!e.getter[rR])&&(e.getter=Ga(e.field),e.getter[rR]=!0),e.getter}const B5="intersect",iR="union",ape="vlMulti",spe="vlPoint",aR="or",ope="and",io="_vgsid_",lg=Ga(io),lpe="E",upe="R",cpe="R-E",fpe="R-LE",dpe="R-RE",hpe="E-LT",ppe="E-LTE",gpe="E-GT",mpe="E-GTE",xpe="E-VALID",ype="E-ONE",x2="index:unit";function sR(e,t){for(var n=t.fields,r=t.values,i=n.length,a=0,s,o;a<i;++a)if(o=n[a],s=UH(o)(e),Du(s)&&(s=ei(s)),Du(r[a])&&(r[a]=ei(r[a])),ke(r[a])&&Du(r[a][0])&&(r[a]=r[a].map(ei)),o.type===lpe){if(ke(r[a])?!r[a].includes(s):s!==r[a])return!1}else if(o.type===upe){if(!rd(s,r[a]))return!1}else if(o.type===dpe){if(!rd(s,r[a],!0,!1))return!1}else if(o.type===cpe){if(!rd(s,r[a],!1,!1))return!1}else if(o.type===fpe){if(!rd(s,r[a],!1,!0))return!1}else if(o.type===hpe){if(s>=r[a])return!1}else if(o.type===ppe){if(s>r[a])return!1}else if(o.type===gpe){if(s<=r[a])return!1}else if(o.type===mpe){if(s<r[a])return!1}else if(o.type===xpe){if(s===null||isNaN(s))return!1}else if(o.type===ype&&r[a].indexOf(s)===-1)return!1;return!0}function vpe(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],a=r?r[x2]&&r[x2].value:void 0,s=n===B5,o=i.length,l=0,u,c,d,p,g;l<o;++l)if(u=i[l],a&&s){if(c=c||{},d=c[p=u.unit]||0,d===-1)continue;if(g=sR(t,u),c[p]=g?-1:++d,g&&a.size===1)return!0;if(!g&&d===a.get(p).count)return!1}else if(g=sR(t,u),s^g)return g;return o&&s}const WH=hh(lg),_pe=WH.left,wpe=WH.right;function Epe(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],a=r?r[x2]&&r[x2].value:void 0,s=n===B5,o=lg(t),l=_pe(i,o);if(l===i.length||lg(i[l])!==o)return!1;if(a&&s){if(a.size===1)return!0;if(wpe(i,o)-l<a.size)return!1}return!0}function kpe(e,t){return ke(e)||ve("First argument to selectionTuples must be an array."),Ge(t)||ve("Second argument to selectionTuples must be an object."),e.map(n=>wt(t.fields?{values:t.fields.map(r=>UH(r)(n.datum))}:{[io]:lg(n.datum)},t))}function Spe(e,t,n,r){for(var i=this.context.data[e],a=i?i.values.value:[],s={},o={},l={},u,c,d,p,g,m,x,v,_,E,k=a.length,A=0,T,D;A<k;++A)if(u=a[A],p=u.unit,c=u.fields,d=u.values,c&&d){for(T=0,D=c.length;T<D;++T)g=c[T],x=s[g.field]||(s[g.field]={}),v=x[p]||(x[p]=[]),l[g.field]=_=g.type.charAt(0),E=VS[`${_}_union`],x[p]=E(v,Ve(d[T]));n&&(v=o[p]||(o[p]=[]),v.push(Ve(d).reduce((b,F,C)=>(b[c[C].field]=F,b),{})))}else g=io,m=lg(u),x=s[g]||(s[g]={}),v=x[p]||(x[p]=[]),v.push(m),n&&(v=o[p]||(o[p]=[]),v.push({[io]:m}));if(t=t||iR,s[io]?s[io]=VS[`${io}_${t}`](...Object.values(s[io])):Object.keys(s).forEach(b=>{s[b]=Object.keys(s[b]).map(F=>s[b][F]).reduce((F,C)=>F===void 0?C:VS[`${l[b]}_${t}`](F,C))}),a=Object.keys(o),n&&a.length){const b=r?spe:ape;s[b]=t===iR?{[aR]:a.reduce((F,C)=>(F.push(...o[C]),F),[])}:{[ope]:a.map(F=>({[aR]:o[F]}))}}return s}var VS={[`${io}_union`]:hZ,[`${io}_intersect`]:fZ,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=ei(t[0]),r=ei(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=ei(t[0]),r=ei(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const bpe=":",Ape="@";function z5(e,t,n,r){t[0].type!==Af&&ve("First argument to selection functions must be a string literal.");const i=t[0].value,a=t.length>=2&&Dt(t).value,s="unit",o=Ape+s,l=bpe+i;a===B5&&!qe(r,o)&&(r[o]=n.getData(i).indataRef(n,s)),qe(r,l)||(r[l]=n.getData(i).tuplesRef())}function HH(e){const t=this.context.data[e];return t?t.values.value:[]}function Cpe(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function Tpe(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Ya).insert(t)),1}function Fpe(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const im=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},Ope=im("format"),jH=im("timeFormat"),Dpe=im("utcFormat"),Npe=im("timeParse"),Mpe=im("utcParse"),uy=new Date(2e3,0,1);function ew(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(uy.setYear(2e3),uy.setMonth(e),uy.setDate(t),jH.call(this,uy,n))}function Rpe(e){return ew.call(this,e,1,"%B")}function Ipe(e){return ew.call(this,e,1,"%b")}function $pe(e){return ew.call(this,0,2+e,"%A")}function Lpe(e){return ew.call(this,0,2+e,"%a")}const Ppe=":",Bpe="@",x4="%",GH="$";function U5(e,t,n,r){t[0].type!==Af&&ve("First argument to data functions must be a string literal.");const i=t[0].value,a=Ppe+i;if(!qe(a,r))try{r[a]=n.getData(i).tuplesRef()}catch{}}function zpe(e,t,n,r){t[0].type!==Af&&ve("First argument to indata must be a string literal."),t[1].type!==Af&&ve("Second argument to indata must be a string literal.");const i=t[0].value,a=t[1].value,s=Bpe+a;qe(s,r)||(r[s]=n.getData(i).indataRef(n,a))}function Ti(e,t,n,r){if(t[0].type===Af)oR(n,r,t[0].value);else for(e in n.scales)oR(n,r,e)}function oR(e,t,n){const r=x4+n;if(!qe(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Mo(e,t){if(Ye(e)){const n=t.scales[e];return n&&cM(n.value)?n.value:void 0}else if(vt(e))return cM(e)?e:void 0}function Upe(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Ti,n._range=Ti,n._scale=Ti;const r=i=>"_["+(i.type===Af?Le(x4+i.value):Le(x4)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function W5(e,t){return function(n,r,i){if(n){const a=Mo(n,(i||this).context);return a&&a.path[e](r)}else return t(r)}}const Wpe=W5("area",sue),Hpe=W5("bounds",cue),jpe=W5("centroid",mue);function Gpe(e,t){const n=Mo(e,(t||this).context);return n&&n.scale()}function Ype(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function H5(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function Vpe(){return H5(this.context.dataflow,"warn",arguments)}function qpe(){return H5(this.context.dataflow,"info",arguments)}function Xpe(){return H5(this.context.dataflow,"debug",arguments)}function qS(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function y4(e){const t=Wu(e),n=qS(t.r),r=qS(t.g),i=qS(t.b);return .2126*n+.7152*r+.0722*i}function Kpe(e,t){const n=y4(e),r=y4(t),i=Math.max(n,r),a=Math.min(n,r);return(i+.05)/(a+.05)}function Jpe(){const e=[].slice.call(arguments);return e.unshift({}),wt(...e)}function YH(e,t){return e===t||e!==e&&t!==t?!0:ke(e)?ke(t)&&e.length===t.length?Qpe(e,t):!1:Ge(e)&&Ge(t)?VH(e,t):!1}function Qpe(e,t){for(let n=0,r=e.length;n<r;++n)if(!YH(e[n],t[n]))return!1;return!0}function VH(e,t){for(const n in e)if(!YH(e[n],t[n]))return!1;return!0}function lR(e){return t=>VH(e,t)}function Zpe(e,t,n,r,i,a){const s=this.context.dataflow,o=this.context.data[e],l=o.input,u=s.stamp();let c=o.changes,d,p;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(o.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{o.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(d=n===!0?Ya:ke(n)||u_(n)?n:lR(n),c.remove(d)),t&&c.insert(t),r&&(d=lR(r),l.value.some(d)?c.remove(d):c.insert(r)),i){if(vt(i))throw Error("modify parameter must be a data tuple, not a function");for(p in a)c.modify(i,p,a[p])}return 1}function e1e(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function t1e(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const uR={};function n1e(e,t){const n=uR[t]||(uR[t]=Ga(t));return ke(e)?e.map(n):n(e)}function tw(e){return ke(e)||ArrayBuffer.isView(e)?e:null}function j5(e){return tw(e)||(Ye(e)?e:null)}function r1e(e,...t){return tw(e).join(...t)}function i1e(e,...t){return j5(e).indexOf(...t)}function a1e(e,...t){return j5(e).lastIndexOf(...t)}function s1e(e,...t){return j5(e).slice(...t)}function o1e(e,t,n){return vt(n)&&ve("Function argument passed to replace."),!Ye(t)&&!F3(t)&&ve("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function l1e(e){return tw(e).slice().reverse()}function u1e(e){return tw(e).slice().sort(fh)}function c1e(e,t,n){return rT(e||0,t||0,n||0)}function f1e(e,t){const n=Mo(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function d1e(e,t){const n=Mo(e,(t||this).context);return n?n.copy():void 0}function h1e(e,t){const n=Mo(e,(t||this).context);return n?n.domain():[]}function p1e(e,t,n){const r=Mo(e,(n||this).context);return r?ke(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function g1e(e,t){const n=Mo(e,(t||this).context);return n&&n.range?n.range():[]}function m1e(e,t,n){const r=Mo(e,(n||this).context);return r?r(t):void 0}function x1e(e,t,n,r,i){e=Mo(e,(i||this).context);const a=Pz(t,n);let s=e.domain(),o=s[0],l=Dt(s),u=li;return l-o?u=Az(e,o,l):e=(e.interpolator?Ht("sequential")().interpolator(e.interpolator()):Ht("linear")().interpolate(e.interpolate()).range(e.range())).domain([o=0,l=1]),e.ticks&&(s=e.ticks(+r||15),o!==s[0]&&s.unshift(o),l!==Dt(s)&&s.push(l)),s.forEach(c=>a.stop(u(c),e(c))),a}function y1e(e,t,n){const r=Mo(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function v1e(e){let t=null;return function(n){return n?Q1(n,t=t||$d(e)):e}}const qH=e=>e.data;function XH(e,t){const n=HH.call(t,e);return n.root&&n.root.lookup||{}}function _1e(e,t,n){const r=XH(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(qH):void 0}function w1e(e,t){const n=XH(e,this)[t];return n?n.ancestors().map(qH):void 0}const KH=()=>typeof window<"u"&&window||null;function E1e(){const e=KH();return e?e.screen:{}}function k1e(){const e=KH();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function S1e(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function JH(e,t,n){if(!e)return[];const[r,i]=e,a=new Kn().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return RU(s,a,b1e(t))}function b1e(e){let t=null;if(e){const n=Ve(e.marktype),r=Ve(e.markname);t=i=>(!n.length||n.some(a=>i.marktype===a))&&(!r.length||r.some(a=>i.name===a))}return t}function A1e(e,t,n,r=5){e=Ve(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function C1e(e){return Ve(e).reduce((t,[n,r],i)=>t+=i==0?`M ${n},${r} `:i===e.length-1?" Z":`L ${n},${r} `,"")}function T1e(e,t,n){const{x:r,y:i,mark:a}=n,s=new Kn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),JH([[s.x1,s.y1],[s.x2,s.y2]],e,a).filter(l=>F1e(l.x,l.y,t))}function F1e(e,t,n){let r=0;for(let i=0,a=n.length-1;i<n.length;a=i++){const[s,o]=n[a],[l,u]=n[i];u>t!=o>t&&e<(s-l)*(t-u)/(o-u)+l&&r++}return r&1}const ug={random(){return qa()},cumulativeNormal:p_,cumulativeLogNormal:rC,cumulativeUniform:oC,densityNormal:Q3,densityLogNormal:nC,densityUniform:sC,quantileNormal:g_,quantileLogNormal:iC,quantileUniform:lC,sampleNormal:h_,sampleLogNormal:tC,sampleUniform:aC,isArray:ke,isBoolean:tc,isDate:Du,isDefined(e){return e!==void 0},isNumber:Ut,isObject:Ge,isRegExp:F3,isString:Ye,isTuple:u_,isValid(e){return e!=null&&e===e},toBoolean:D3,toDate(e){return N3(e)},toNumber:ei,toString:M3,indexof:i1e,join:r1e,lastindexof:a1e,replace:o1e,reverse:l1e,sort:u1e,slice:s1e,flush:iL,lerp:sL,merge:Jpe,pad:uL,peek:Dt,pluck:n1e,span:Dg,inrange:rd,truncate:cL,rgb:Wu,lab:kv,hcl:Sv,hsl:wv,luminance:y4,contrast:Kpe,sequence:pa,format:Ope,utcFormat:Dpe,utcParse:Mpe,utcOffset:HL,utcSequence:YL,timeFormat:jH,timeParse:Npe,timeOffset:WL,timeSequence:GL,timeUnitSpecifier:DL,monthFormat:Rpe,monthAbbrevFormat:Ipe,dayFormat:$pe,dayAbbrevFormat:Lpe,quarter:eL,utcquarter:tL,week:ML,utcweek:$L,dayofyear:NL,utcdayofyear:IL,warn:Vpe,info:qpe,debug:Xpe,extent(e){return xo(e)},inScope:Ype,intersect:JH,clampRange:nL,pinchDistance:e1e,pinchAngle:t1e,screen:E1e,containerSize:S1e,windowSize:k1e,bandspace:c1e,setdata:Tpe,pathShape:v1e,panLinear:K$,panLog:J$,panPow:Q$,panSymlog:Z$,zoomLinear:S3,zoomLog:b3,zoomPow:lv,zoomSymlog:A3,encode:Fpe,modify:Zpe,lassoAppend:A1e,lassoPath:C1e,intersectLasso:T1e},O1e=["view","item","group","xy","x","y"],D1e="event.vega.",QH="this.",G5={},ZH={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Le(GH+e)}]`,functions:N1e,constants:PH,visitors:G5},v4=zH(ZH);function N1e(e){const t=BH(e);O1e.forEach(n=>t[n]=D1e+n);for(const n in ug)t[n]=QH+n;return wt(t,Upe(e,ug,G5)),t}function Wn(e,t,n){return arguments.length===1?ug[e]:(ug[e]=t,n&&(G5[e]=n),v4&&(v4.functions[e]=QH+e),this)}Wn("bandwidth",f1e,Ti);Wn("copy",d1e,Ti);Wn("domain",h1e,Ti);Wn("range",g1e,Ti);Wn("invert",p1e,Ti);Wn("scale",m1e,Ti);Wn("gradient",x1e,Ti);Wn("geoArea",Wpe,Ti);Wn("geoBounds",Hpe,Ti);Wn("geoCentroid",jpe,Ti);Wn("geoShape",y1e,Ti);Wn("geoScale",Gpe,Ti);Wn("indata",Cpe,zpe);Wn("data",HH,U5);Wn("treePath",_1e,U5);Wn("treeAncestors",w1e,U5);Wn("vlSelectionTest",vpe,z5);Wn("vlSelectionIdTest",Epe,z5);Wn("vlSelectionResolve",Spe,z5);Wn("vlSelectionTuples",kpe);function Eo(e,t){const n={};let r;try{e=Ye(e)?e:Le(e)+"",r=P5(e)}catch{ve("Expression parse error: "+e)}r.visit(a=>{if(a.type!==DH)return;const s=a.callee.name,o=ZH.visitors[s];o&&o(s,a.arguments,t,n)});const i=v4(r);return i.globals.forEach(a=>{const s=GH+a;!qe(n,s)&&t.getSignal(a)&&(n[s]=t.signalRef(a))}),{$expr:wt({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function M1e(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const R1e=Os(["rule"]),cR=Os(["group","image","rect"]);function I1e(e,t){let n="";return R1e[t]||(e.x2&&(e.x?(cR[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(cR[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function Y5(e){return(e+"").toLowerCase()}function $1e(e){return Y5(e)==="operator"}function L1e(e){return Y5(e)==="collect"}function Lp(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function P1e(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var B1e={operator:(e,t)=>Lp(e,["_"],t.code),parameter:(e,t)=>Lp(e,["datum","_"],t.code),event:(e,t)=>Lp(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return Lp(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const a in r){const s="o["+Le(a)+"]";i+=`$=${r[a].code};if(${s}!==$)${s}=$,m=1;`}return i+=I1e(r,n),i+="return m;",Lp(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(Le).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(a,s)=>{const o=t[s];let l,u;return a.path?(l=`a${a.path}`,u=`b${a.path}`):((n=n||{})["f"+s]=a,l=`this.f${s}(a)`,u=`this.f${s}(b)`),P1e(l,u,-o,o)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function z1e(e){const t=this;$1e(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function U1e(e){const t=this;if(e.params){const n=t.get(e.id);n||ve("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function W1e(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=ke(i)?i.map(a=>fR(a,n,t)):fR(i,n,t)}return t}function fR(e,t,n){if(!e||!Ge(e))return e;for(let r=0,i=dR.length,a;r<i;++r)if(a=dR[r],qe(e,a.key))return a.parse(e,t,n);return e}var dR=[{key:"$ref",parse:H1e},{key:"$key",parse:G1e},{key:"$expr",parse:j1e},{key:"$field",parse:Y1e},{key:"$encode",parse:q1e},{key:"$compare",parse:V1e},{key:"$context",parse:X1e},{key:"$subflow",parse:K1e},{key:"$tupleid",parse:J1e}];function H1e(e,t){return t.get(e.$ref)||ve("Operator not defined: "+e.$ref)}function j1e(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=ta(t.parameterExpression(e.$expr),e.$fields))}function G1e(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=O3(e.$key,e.$flat,t.expr.codegen))}function Y1e(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Ga(e.$field,e.$name,t.expr.codegen))}function V1e(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Ve(e.$compare).map(i=>i&&i.$tupleid?st:i);return t.fn[n]||(t.fn[n]=C3(r,e.$order,t.expr.codegen))}function q1e(e,t){const n=e.$encode,r={};for(const i in n){const a=n[i];r[i]=ta(t.encodeExpression(a.$expr),a.$fields),r[i].output=a.$output}return r}function X1e(e,t){return t}function K1e(e,t){const n=e.$subflow;return function(r,i,a){const s=t.fork().parse(n),o=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(a),o.detachSubflow=()=>t.detach(s),o}}function J1e(){return st}function Q1e(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(a=>t.get(a)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(a=>t.get(a)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&ve("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function Z1e(e){var t=this,n=Ge(n=e.source)?n.$ref:n,r=t.get(n),i=null,a=e.update,s=void 0;r||ve("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),a&&a.$expr&&(a.$params&&(s=t.parseParameters(a.$params)),a=t.handlerExpression(a.$expr)),t.update(e,r,i,a,s)}const ege={skip:!0};function tge(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(a=>{const s=t.signals[a];e.signals(a,s)&&(r[a]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(a=>{const s=t.data[a];e.data(a,s)&&(i[a]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(a=>a.getState(e))),n}function nge(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(a=>{n.update(t.signals[a],i[a],ege)}),Object.keys(r||{}).forEach(a=>{n.pulse(t.data[a].input,n.changeset().remove(Ya).insert(r[a]))}),(e.subcontext||[]).forEach((a,s)=>{const o=t.subcontext[s];o&&o.setState(a)})}function ej(e,t,n,r){return new tj(e,t,n,r)}function tj(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||B1e,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function hR(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}tj.prototype=hR.prototype={fork(){const e=new hR(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),L1e(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push(()=>{a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const a in e.data){const s=n.data[a]||(n.data[a]={});e.data[a].forEach(o=>s[o]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[Y5(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:M1e,parseOperator:z1e,parseOperatorParameters:U1e,parseParameters:W1e,parseStream:Q1e,parseUpdate:Z1e,getState:tge,setState:nge};function rge(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),nj(t,e.description()))}function nj(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function ige(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const XS="default";function age(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:XS,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,a=i?Ye(i)?i:i.user:XS,s=r.item&&r.item.cursor||null;return i&&a===i.user&&s==i.item?i:{user:a,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Ye(r)||(i=r.item,r=r.user),_4(e,r&&r!==XS?r:i||r),i},{cursor:t})}function _4(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function y2(e,t){var n=e._runtime.data;return qe(n,t)||ve("Unrecognized data set: "+t),n[t]}function sge(e,t){return arguments.length<2?y2(this,e).values.value:nw.call(this,e,Vf().remove(Ya).insert(t))}function nw(e,t){vP(t)||ve("Second argument to changes must be a changeset.");const n=y2(this,e);return n.modified=!0,this.pulse(n.input,t)}function oge(e,t){return nw.call(this,e,Vf().insert(t))}function lge(e,t){return nw.call(this,e,Vf().remove(t))}function rj(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function ij(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function rw(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function uge(e){var t=rw(e),n=rj(e),r=ij(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(a){e.error(a)}})}function cge(e,t,n){var r=e._renderer,i=r&&r.canvas(),a,s,o;return i&&(o=rw(e),s=t.changedTouches?t.changedTouches[0]:t,a=W_(s,i),a[0]-=o[0],a[1]-=o[1]),t.dataflow=e,t.item=n,t.vega=fge(e,n,a),t}function fge(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var o=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){o=l;break}}return o&&o.mark&&o.mark.interactive?o:{}}function a(s){if(!s)return n;Ye(s)&&(s=i(s));const o=n.slice();for(;s;)o[0]-=s.x||0,o[1]-=s.y||0,s=s.mark&&s.mark.group;return o}return{view:ui(e),item:ui(t||{}),group:i,xy:a,x:s=>a(s)[0],y:s=>a(s)[1]}}const pR="view",dge="timer",hge="window",pge={trap:!1};function gge(e){const t=wt({defaults:{}},e),n=(r,i)=>{i.forEach(a=>{ke(r[a])&&(r[a]=Os(r[a]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function aj(e,t,n,r){e._eventListeners.push({type:n,sources:Ve(t),handler:r})}function mge(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function cy(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Ge(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function xge(e,t,n){var r=this,i=new d_(n),a=function(u,c){r.runAsync(null,()=>{e===pR&&mge(r,t)&&u.preventDefault(),i.receive(cge(r,u,c))})},s;if(e===dge)cy(r,"timer",t)&&r.timer(a,t);else if(e===pR)cy(r,"view",t)&&r.addEventListener(t,a,pge);else if(e===hge?cy(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&cy(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var o=0,l=s.length;o<l;++o)s[o].addEventListener(t,a);aj(r,s,t,a)}return i}function gR(e){return e.item}function mR(e){return e.item.mark.source}function xR(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function yge(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",gR),mR,xR(e)),this.on(this.events("view","pointerout",gR),mR,xR(t)),this}function vge(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,a,s,o,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],a=s.sources.length;--a>=0;)s.sources[a].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,o=n[i].handler,this._handler.off(l,o);return this}function ya(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const _ge="vega-bind",wge="vega-bind-name",Ege="vega-bind-radio";function kge(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=T3(r.debounce,i.update))),(r.input==null&&r.element?Sge:Age)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function Sge(e,t,n,r){const i=n.event||"input",a=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,a),aj(r,t,i,a),e.set=s=>{t.value=s,t.dispatchEvent(bge(i))}}function bge(e){return typeof Event<"u"?new Event(e):{type:e}}function Age(e,t,n,r){const i=r.signal(n.signal),a=ya("div",{class:_ge}),s=n.input==="radio"?a:a.appendChild(ya("label"));s.appendChild(ya("span",{class:wge},n.name||n.signal)),t.appendChild(a);let o=Cge;switch(n.input){case"checkbox":o=Tge;break;case"select":o=Fge;break;case"radio":o=Oge;break;case"range":o=Dge;break}o(e,s,n,i)}function Cge(e,t,n,r){const i=ya("input");for(const a in n)a!=="signal"&&a!=="element"&&i.setAttribute(a==="input"?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=a=>i.value=a}function Tge(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const a=ya("input",i);t.appendChild(a),a.addEventListener("change",()=>e.update(a.checked)),e.elements=[a],e.set=s=>a.checked=!!s||null}function Fge(e,t,n,r){const i=ya("select",{name:n.signal}),a=n.labels||[];n.options.forEach((s,o)=>{const l={value:s};v2(s,r)&&(l.selected=!0),i.appendChild(ya("option",l,(a[o]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let o=0,l=n.options.length;o<l;++o)if(v2(n.options[o],s)){i.selectedIndex=o;return}}}function Oge(e,t,n,r){const i=ya("span",{class:Ege}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,o)=>{const l={type:"radio",name:n.signal,value:s};v2(s,r)&&(l.checked=!0);const u=ya("input",l);u.addEventListener("change",()=>e.update(s));const c=ya("label",{},(a[o]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const o=e.elements,l=o.length;for(let u=0;u<l;++u)v2(o[u].value,s)&&(o[u].checked=!0)}}function Dge(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,s=n.step||Bu(a,i,100),o=ya("input",{type:"range",name:n.signal,min:a,max:i,step:s});o.value=r;const l=ya("span",{},+r);t.appendChild(o),t.appendChild(l);const u=()=>{l.textContent=o.value,e.update(+o.value)};o.addEventListener("input",u),o.addEventListener("change",u),e.elements=[o],e.set=c=>{o.value=c,l.textContent=c}}function v2(e,t){return e===t||e+""==t+""}function sj(e,t,n,r,i,a){return t=t||new r(e.loader()),t.initialize(n,rj(e),ij(e),rw(e),i,a).background(e.background())}function V5(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function Nge(e,t,n,r){const i=new r(e.loader(),V5(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,rw(e),e);return t&&t.handlers().forEach(a=>{i.on(a.type,a.handler)}),i}function Mge(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,a=H_(r);e=n._el=e?KS(n,e,!0):null,rge(n),a||n.error("Unrecognized renderer type: "+r);const s=a.handler||Kg,o=e?a.renderer:a.headless;return n._renderer=o?sj(n,n._renderer,e,o):null,n._handler=Nge(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=KS(n,t,!0):e.appendChild(ya("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=KS(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{kge(n,l.element||t,l)})),n}function KS(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const Pp=e=>+e||0,Rge=e=>({top:e,bottom:e,left:e,right:e});function yR(e){return Ge(e)?{top:Pp(e.top),bottom:Pp(e.bottom),left:Pp(e.left),right:Pp(e.right)}:Rge(Pp(e))}async function q5(e,t,n,r){const i=H_(t),a=i&&i.headless;return a||ve("Unrecognized renderer type: "+t),await e.runAsync(),sj(e,null,null,a,n,r).renderAsync(e._scenegraph.root)}async function Ige(e,t){e!==ku.Canvas&&e!==ku.SVG&&e!==ku.PNG&&ve("Unrecognized image type: "+e);const n=await q5(this,e,t);return e===ku.SVG?$ge(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function $ge(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function Lge(e,t){return(await q5(this,ku.Canvas,e,t)).canvas()}async function Pge(e){return(await q5(this,ku.SVG,e)).svg()}function Bge(e,t,n){return ej(e,Od,ug,n).parse(t)}function zge(e){var t=this._runtime.scales;return qe(t,e)||ve("Unrecognized scale or projection: "+e),t[e].value}var oj="width",lj="height",X5="padding",vR={skip:!0};function uj(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===X5?r.left+r.right:0)}function cj(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===X5?r.top+r.bottom:0)}function Uge(e){var t=e._signals,n=t[oj],r=t[lj],i=t[X5];function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,o=>{e._width=o.size,e._viewWidth=uj(e,o.size),a()},{size:n}),e._resizeHeight=e.add(null,o=>{e._height=o.size,e._viewHeight=cj(e,o.size),a()},{size:r});const s=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function Wge(e,t,n,r,i,a){this.runAfter(s=>{let o=0;s._autosize=0,s.width()!==n&&(o=1,s.signal(oj,n,vR),s._resizeWidth.skip(!0)),s.height()!==r&&(o=1,s.signal(lj,r,vR),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),o&&s.run("enter"),a&&s.runAfter(l=>l.resize())},!1,1)}function Hge(e){return this._runtime.getState(e||{data:jge,signals:Gge,recurse:!0})}function jge(e,t){return t.modified&&ke(t.input.value)&&!e.startsWith("_:vega:_")}function Gge(e,t){return!(e==="parent"||t instanceof Od.proxy)}function Yge(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function Vge(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(xfe(n,t))}function qge(e,t,n,r){const i=e.element();i&&i.setAttribute("title",Xge(r))}function Xge(e){return e==null?"":ke(e)?fj(e):Ge(e)&&!Du(e)?Kge(e):e+""}function Kge(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(ke(n)?fj(n):dj(n))}).join(`
`)}function fj(e){return"["+e.map(dj).join(", ")+"]"}function dj(e){return ke(e)?"[]":Ge(e)&&!Du(e)?"{}":e}function Jge(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function hj(e,t){const n=this;if(t=t||{},fd.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const a=wt({},e.locale,t.locale);n.locale(uP(a.number,a.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||ku.Canvas,n._scenegraph=new oU;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||qge,n._redraw=!0,n._handler=new Kg().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=gge(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=Bge(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(a=>({state:null,param:wt({},a)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=uj(n,n._width),n._viewHeight=cj(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,Uge(n),ige(n),age(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function fy(e,t){return qe(e._signals,t)?e._signals[t]:ve("Unrecognized signal name: "+Le(t))}function pj(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function _R(e,t,n,r){let i=pj(n,r);return i||(i=V5(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function wR(e,t,n){const r=pj(t,n);return r&&t._targets.remove(r),e}Ue(hj,fd,{async evaluate(e,t,n){if(await fd.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,uge(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&Iy(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&nj(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=fy(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",yR(e)):yR(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(H_(e)||ve("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(fd.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(fy(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:Wge,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=V5(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,a;--r>=0;)if(a=n[r].type,i=n[r].handler,e===a&&(t===i||t===i.raw)){this._handler.off(a,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return _R(this,e,fy(this,e),t)},removeSignalListener(e,t){return wR(this,fy(this,e),t)},addDataListener(e,t){return _R(this,e,y2(this,e).values,t)},removeDataListener(e,t){return wR(this,y2(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=_4(this,null);this._globalCursor=!!e,t&&_4(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:Vge,events:xge,finalize:vge,hover:yge,data:sge,change:nw,insert:oge,remove:lge,scale:zge,initialize:Mge,toImageURL:Ige,toCanvas:Lge,toSVG:Pge,getState:Hge,setState:Yge,_watchPixelRatio:Jge});const Qge="view",_2="[",w2="]",gj="{",mj="}",Zge=":",xj=",",eme="@",tme=">",nme=/[[\]{}]/,rme={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let yj,vj;function oc(e,t,n){return yj=t||Qge,vj=n||rme,_j(e.trim()).map(w4)}function ime(e){return vj[e]}function D1(e,t,n,r,i){const a=e.length;let s=0,o;for(;t<a;++t){if(o=e[t],!s&&o===n)return t;i&&i.includes(o)?--s:r&&r.includes(o)&&++s}return t}function _j(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=D1(e,i,xj,_2+gj,w2+mj),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function w4(e){return e[0]==="["?ame(e):sme(e)}function ame(e){const t=e.length;let n=1,r;if(n=D1(e,n,w2,_2,w2),n===t)throw"Empty between selector: "+e;if(r=_j(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==tme)throw"Expected '>' after between selector: "+e;r=r.map(w4);const i=w4(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function sme(e){const t={source:yj},n=[];let r=[0,0],i=0,a=0,s=e.length,o=0,l,u;if(e[s-1]===mj){if(o=e.lastIndexOf(gj),o>=0){try{r=ome(e.substring(o+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,o).trim(),s=e.length}else throw"Unmatched right brace: "+e;o=0}if(!s)throw e;if(e[0]===eme&&(i=++o),l=D1(e,o,Zge),l<s&&(n.push(e.substring(a,l).trim()),a=o=++l),o=D1(e,o,_2),o===s)n.push(e.substring(a,s).trim());else if(n.push(e.substring(a,o).trim()),u=[],a=++o,a===s)throw"Unmatched left bracket: "+e;for(;o<s;){if(o=D1(e,o,w2),o===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(a,o).trim()),o<s-1&&e[++o]!==_2)throw"Expected left bracket: "+e;a=++o}if(!(s=n.length)||nme.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):ime(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function ome(e){const t=e.split(xj);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function lme(e){return Ge(e)?e:{type:e||"pad"}}const Bp=e=>+e||0,ume=e=>({top:e,bottom:e,left:e,right:e});function cme(e){return Ge(e)?e.signal?e:{top:Bp(e.top),bottom:Bp(e.bottom),left:Bp(e.left),right:Bp(e.right)}:ume(Bp(e))}const yr=e=>Ge(e)&&!ke(e)?wt({},e):{value:e};function ER(e,t,n,r){return n!=null?(Ge(n)&&!ke(n)||ke(n)&&n.length&&Ge(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Br(e,t,n){for(const r in t)ER(e,r,t[r]);for(const r in n)ER(e,r,n[r],"update")}function kh(e,t,n){for(const r in t)n&&qe(n,r)||(e[r]=wt(e[r]||{},t[r]));return e}function ed(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const K5="mark",J5="frame",Q5="scope",fme="axis",dme="axis-domain",hme="axis-grid",pme="axis-label",gme="axis-tick",mme="axis-title",xme="legend",yme="legend-band",vme="legend-entry",_me="legend-gradient",wj="legend-label",wme="legend-symbol",Eme="legend-title",kme="title",Sme="title-text",bme="title-subtitle";function Ame(e,t,n,r,i){const a={},s={};let o,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!ed(l,e)&&JS(a,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===J5?i.group:n===K5?wt({},i.mark,i[t]):null;for(l in c)u=ed(l,e)||(l==="fill"||l==="stroke")&&(ed("fill",e)||ed("stroke",e)),u||JS(a,l,c[l]);Ve(r).forEach(d=>{const p=i.style&&i.style[d];for(const g in p)ed(g,e)||JS(a,g,p[g])}),e=wt({},e);for(l in a)c=a[l],c.signal?(o=o||{})[l]=c:s[l]=c;return e.enter=wt(s,e.enter),o&&(e.update=wt(o,e.update)),e}function JS(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Ej=e=>Ye(e)?Le(e):e.signal?`(${e.signal})`:kj(e);function iw(e){if(e.gradient!=null)return Tme(e);let t=e.signal?`(${e.signal})`:e.color?Cme(e.color):e.field!=null?kj(e.field):e.value!==void 0?Le(e.value):void 0;return e.scale!=null&&(t=Fme(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${Zy(e.exponent)})`),e.mult!=null&&(t+=`*${Zy(e.mult)}`),e.offset!=null&&(t+=`+${Zy(e.offset)}`),e.round&&(t=`round(${t})`),t}const dy=(e,t,n,r)=>`(${e}(${[t,n,r].map(iw).join(",")})+'')`;function Cme(e){return e.c?dy("hcl",e.h,e.c,e.l):e.h||e.s?dy("hsl",e.h,e.s,e.l):e.l||e.a?dy("lab",e.l,e.a,e.b):e.r||e.g||e.b?dy("rgb",e.r,e.g,e.b):null}function Tme(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Le(n));for(;t.length&&Dt(t)==null;)t.pop();return t.unshift(Ej(e.gradient)),`gradient(${t.join(",")})`}function Zy(e){return Ge(e)?"("+iw(e)+")":e}function kj(e){return Sj(Ge(e)?e:{datum:e})}function Sj(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):ve("Invalid field reference: "+Le(e));return e.signal||(r=Ye(r)?Co(r).map(Le).join("]["):Sj(r)),t+"["+r+"]"}function Fme(e,t){const n=Ej(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+Zy(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function Ome(e){let t="";return e.forEach(n=>{const r=iw(n);t+=n.test?`(${n.test})?${r}:`:r}),Dt(t)===":"&&(t+="null"),t}function bj(e,t,n,r,i,a){const s={};a=a||{},a.encoders={$encode:s},e=Ame(e,t,n,r,i.config);for(const o in e)s[o]=Dme(e[o],t,a,i);return a}function Dme(e,t,n,r){const i={},a={};for(const s in e)e[s]!=null&&(i[s]=Mme(Nme(e[s]),r,n,a));return{$expr:{marktype:t,channels:i},$fields:Object.keys(a),$output:Object.keys(e)}}function Nme(e){return ke(e)?Ome(e):iw(e)}function Mme(e,t,n,r){const i=Eo(e,t);return i.$fields.forEach(a=>r[a]=1),wt(n,i.$params),i.$expr}const Rme="outer",Ime=["value","update","init","react","bind"];function kR(e,t){ve(e+' for "outer" push: '+Le(t))}function Aj(e,t){const n=e.name;if(e.push===Rme)t.signals[n]||kR("No prior signal definition",n),Ime.forEach(r=>{e[r]!==void 0&&kR("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function E4(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function aw(e,t,n,r){return new E4(e,t,n,r)}function E2(e,t){return aw("operator",e,t)}function at(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function cg(e,t){return t?{$field:e,$name:t}:{$field:e}}const k4=cg("key");function SR(e,t){return{$compare:e,$order:t}}function $me(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const Lme="ascending",Pme="descending";function Bme(e){return Ge(e)?(e.order===Pme?"-":"+")+sw(e.op,e.field):""}function sw(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const Z5="scope",S4="view";function ar(e){return e&&e.signal}function zme(e){return e&&e.expr}function ev(e){if(ar(e))return!0;if(Ge(e)){for(const t in e)if(ev(e[t]))return!0}return!1}function gs(e,t){return e??t}function cf(e){return e&&e.signal||e}const bR="timer";function fg(e,t){return(e.merge?Wme:e.stream?Hme:e.type?jme:ve("Invalid stream specification: "+Le(e)))(e,t)}function Ume(e){return e===Z5?S4:e||S4}function Wme(e,t){const n=e.merge.map(i=>fg(i,t)),r=eF({merge:n},e,t);return t.addStream(r).id}function Hme(e,t){const n=fg(e.stream,t),r=eF({stream:n},e,t);return t.addStream(r).id}function jme(e,t){let n;e.type===bR?(n=t.event(bR,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(Ume(e.source),e.type);const r=eF({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function eF(e,t,n){let r=t.between;return r&&(r.length!==2&&ve('Stream "between" parameter must have 2 entries: '+Le(t)),e.between=[fg(r[0],n),fg(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(Gme(t.marktype,t.markname,t.markrole)),t.source===Z5&&r.push("inScope(event.item)"),r.length&&(e.filter=Eo("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function Gme(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const Yme={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Vme(e,t,n){const r=e.encode,i={target:n};let a=e.events,s=e.update,o=[];a||ve("Signal update missing events specification."),Ye(a)&&(a=oc(a,t.isSubscope()?Z5:S4)),a=Ve(a).filter(l=>l.signal||l.scale?(o.push(l),0):1),o.length>1&&(o=[Xme(o)]),a.length&&o.push(a.length>1?{merge:a}:a[0]),r!=null&&(s&&ve("Signal encode and update are mutually exclusive."),s="encode(item(),"+Le(r)+")"),i.update=Ye(s)?Eo(s,t):s.expr!=null?Eo(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:Yme,$params:{$value:t.signalRef(s.signal)}}:ve("Invalid signal update specification."),e.force&&(i.options={force:!0}),o.forEach(l=>t.addUpdate(wt(qme(l,t),i)))}function qme(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):fg(e,t)}}function Xme(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function Kme(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?ve("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Eo(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>Vme(i,t,n.id))}const tn=e=>(t,n,r)=>aw(e,n,t||void 0,r),Cj=tn("aggregate"),Jme=tn("axisticks"),Tj=tn("bound"),Ps=tn("collect"),AR=tn("compare"),Qme=tn("datajoin"),Fj=tn("encode"),Zme=tn("expression"),exe=tn("facet"),txe=tn("field"),nxe=tn("key"),rxe=tn("legendentries"),ixe=tn("load"),axe=tn("mark"),sxe=tn("multiextent"),oxe=tn("multivalues"),lxe=tn("overlap"),uxe=tn("params"),Oj=tn("prefacet"),cxe=tn("projection"),fxe=tn("proxy"),dxe=tn("relay"),Dj=tn("render"),hxe=tn("scale"),Jf=tn("sieve"),pxe=tn("sortitems"),Nj=tn("viewlayout"),gxe=tn("values");let mxe=0;const Mj={min:"min",max:"max",count:"sum"};function xxe(e,t){const n=e.type||"linear";_z(n)||ve("Unrecognized scale type: "+Le(n)),t.addScale(e.name,{type:n,domain:void 0})}function yxe(e,t){const n=t.getScale(e.name).params;let r;n.domain=Rj(e.domain,e,t),e.range!=null&&(n.range=$j(e,t,n)),e.interpolate!=null&&Txe(e.interpolate,n),e.nice!=null&&(n.nice=Cxe(e.nice,t)),e.bins!=null&&(n.bins=Axe(e.bins,t));for(r in e)qe(n,r)||r==="name"||(n[r]=Ua(e[r],t))}function Ua(e,t){return Ge(e)?e.signal?t.signalRef(e.signal):ve("Unsupported object: "+Le(e)):e}function tv(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Ua(n,t))}function ow(e){ve("Can not find data set: "+Le(e))}function Rj(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&ve("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(ke(e)?vxe:e.fields?wxe:_xe)(e,t,n)}function vxe(e,t,n){return e.map(r=>Ua(r,n))}function _xe(e,t,n){const r=n.getData(e.data);return r||ow(e.data),Id(t.type)?r.valuesRef(n,e.field,Ij(e.sort,!1)):kz(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function wxe(e,t,n){const r=e.data,i=e.fields.reduce((a,s)=>(s=Ye(s)?{data:r,field:s}:ke(s)||s.signal?Exe(s,n):s,a.push(s),a),[]);return(Id(t.type)?kxe:kz(t.type)?Sxe:bxe)(e,n,i)}function Exe(e,t){const n="_:vega:_"+mxe++,r=Ps({});if(ke(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+Le(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Jf({})]),{data:n,field:"data"}}function kxe(e,t,n){const r=Ij(e.sort,!0);let i,a;const s=n.map(u=>{const c=t.getData(u.data);return c||ow(u.data),c.countsRef(t,u.field,r)}),o={groupby:k4,pulse:s};r&&(i=r.op||"count",a=r.field?sw(i,r.field):"count",o.ops=[Mj[i]],o.fields=[t.fieldRef(a)],o.as=[a]),i=t.add(Cj(o));const l=t.add(Ps({pulse:at(i)}));return a=t.add(gxe({field:k4,sort:t.sortRef(r),pulse:at(l)})),at(a)}function Ij(e,t){return e&&(!e.field&&!e.op?Ge(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?ve("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!Mj[e.op]&&ve("Multiple domain scales can not be sorted using "+e.op)),e}function Sxe(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||ow(i.data),a.domainRef(t,i.field)});return at(t.add(oxe({values:r})))}function bxe(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||ow(i.data),a.extentRef(t,i.field)});return at(t.add(sxe({extents:r})))}function Axe(e,t){return e.signal||ke(e)?tv(e,t):t.objectProperty(e)}function Cxe(e,t){return e.signal?t.signalRef(e.signal):Ge(e)?{interval:Ua(e.interval),step:Ua(e.step)}:Ua(e)}function Txe(e,t){t.interpolate=Ua(e.type||e),e.gamma!=null&&(t.interpolateGamma=Ua(e.gamma))}function $j(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Ye(i)){if(r&&qe(r,i))return e=wt({},e,{range:r[i]}),$j(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=Id(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:ve("Unrecognized scale range value: "+Le(i))}else if(i.scheme){n.scheme=ke(i.scheme)?tv(i.scheme,t):Ua(i.scheme,t),i.extent&&(n.schemeExtent=tv(i.extent,t)),i.count&&(n.schemeCount=Ua(i.count,t));return}else if(i.step){n.rangeStep=Ua(i.step,t);return}else{if(Id(e.type)&&!ke(i))return Rj(i,e,t);ke(i)||ve("Unsupported range type: "+Le(i))}return i.map(a=>(ke(a)?tv:Ua)(a,t))}function Fxe(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=b4(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=b4(n[i],i,t));t.addProjection(e.name,r)}function b4(e,t,n){return ke(e)?e.map(r=>b4(r,t,n)):Ge(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:ve("Unsupported parameter object: "+Le(e)):e}const Bs="top",Sh="left",bh="right",Vu="bottom",Lj="center",Oxe="vertical",Dxe="start",Nxe="middle",Mxe="end",A4="index",tF="label",Rxe="offset",jd="perc",Ixe="perc2",Ha="value",am="guide-label",nF="guide-title",$xe="group-title",Lxe="group-subtitle",CR="symbol",nv="gradient",C4="discrete",T4="size",Pxe="shape",Bxe="fill",zxe="stroke",Uxe="strokeWidth",Wxe="strokeDash",Hxe="opacity",rF=[T4,Pxe,Bxe,zxe,Uxe,Wxe,Hxe],sm={name:1,style:1,interactive:1},Mt={value:0},ja={value:1},lw="group",Pj="rect",iF="rule",jxe="symbol",Qf="text";function dg(e){return e.type=lw,e.interactive=e.interactive||!1,e}function na(e,t){const n=(r,i)=>gs(e[r],gs(t[r],i));return n.isVertical=r=>Oxe===gs(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>gs(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>gs(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>gs(e.columns,gs(t.columns,+n.isVertical(!0))),n}function Bj(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function Gxe(e,t,n){const r=t.config.style[n];return r&&r[e]}function uw(e,t,n){return`item.anchor === '${Dxe}' ? ${e} : item.anchor === '${Mxe}' ? ${t} : ${n}`}const aF=uw(Le(Sh),Le(bh),Le(Lj));function Yxe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Ge(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function zj(e,t){return t?e?Ge(e)?Object.assign({},e,{offset:zj(e.offset,t)}):{value:e,offset:t}:t:e}function Sa(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=kh(e.encode,t,sm)):e.interactive=!1,e}function Vxe(e,t,n,r){const i=na(e,n),a=i.isVertical(),s=i.gradientThickness(),o=i.gradientLength();let l,u,c,d,p;a?(u=[0,1],c=[0,0],d=s,p=o):(u=[0,0],c=[1,0],d=o,p=s);const g={enter:l={opacity:Mt,x:Mt,y:Mt,width:yr(d),height:yr(p)},update:wt({},l,{opacity:ja,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:Mt}};return Br(g,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Sa({type:Pj,role:_me,encode:g},r)}function qxe(e,t,n,r,i){const a=na(e,n),s=a.isVertical(),o=a.gradientThickness(),l=a.gradientLength();let u,c,d,p,g="";s?(u="y",d="y2",c="x",p="width",g="1-"):(u="x",d="x2",c="y",p="height");const m={opacity:Mt,fill:{scale:t,field:Ha}};m[u]={signal:g+"datum."+jd,mult:l},m[c]=Mt,m[d]={signal:g+"datum."+Ixe,mult:l},m[p]=yr(o);const x={enter:m,update:wt({},m,{opacity:ja}),exit:{opacity:Mt}};return Br(x,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),Sa({type:Pj,role:yme,key:Ha,from:i,encode:x},r)}const Xxe=`datum.${jd}<=0?"${Sh}":datum.${jd}>=1?"${bh}":"${Lj}"`,Kxe=`datum.${jd}<=0?"${Vu}":datum.${jd}>=1?"${Bs}":"${Nxe}"`;function TR(e,t,n,r){const i=na(e,t),a=i.isVertical(),s=yr(i.gradientThickness()),o=i.gradientLength();let l=i("labelOverlap"),u,c,d,p,g="";const m={enter:u={opacity:Mt},update:c={opacity:ja,text:{field:tF}},exit:{opacity:Mt}};return Br(m,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:gs(e.labelLimit,t.gradientLabelLimit)}),a?(u.align={value:"left"},u.baseline=c.baseline={signal:Kxe},d="y",p="x",g="1-"):(u.align=c.align={signal:Xxe},u.baseline={value:"top"},d="x",p="y"),u[d]=c[d]={signal:g+"datum."+jd,mult:o},u[p]=c[p]=s,s.offset=gs(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+A4}:void 0,Sa({type:Qf,role:wj,style:am,key:Ha,from:r,encode:m,overlap:l},n)}function Jxe(e,t,n,r,i){const a=na(e,t),s=n.entries,o=!!(s&&s.interactive),l=s?s.name:void 0,u=a("clipHeight"),c=a("symbolOffset"),d={data:"value"},p=`(${i}) ? datum.${Rxe} : datum.${T4}`,g=u?yr(u):{field:T4},m=`datum.${A4}`,x=`max(1, ${i})`;let v,_,E,k,A;g.mult=.5,v={enter:_={opacity:Mt,x:{signal:p,mult:.5,offset:c},y:g},update:E={opacity:ja,x:_.x,y:_.y},exit:{opacity:Mt}};let T=null,D=null;e.fill||(T=t.symbolBaseFillColor,D=t.symbolBaseStrokeColor),Br(v,{fill:a("symbolFillColor",T),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",D),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),rF.forEach(N=>{e[N]&&(E[N]=_[N]={scale:e[N],field:Ha})});const b=Sa({type:jxe,role:wme,key:Ha,from:d,clip:u?!0:void 0,encode:v},n.symbols),F=yr(c);F.offset=a("labelOffset"),v={enter:_={opacity:Mt,x:{signal:p,offset:F},y:g},update:E={opacity:ja,text:{field:tF},x:_.x,y:_.y},exit:{opacity:Mt}},Br(v,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const C=Sa({type:Qf,role:wj,style:am,key:Ha,from:d,encode:v},n.labels);return v={enter:{noBound:{value:!u},width:Mt,height:u?yr(u):Mt,opacity:Mt},exit:{opacity:Mt},update:E={opacity:ja,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(k=`ceil(item.mark.items.length / ${x})`,E.row.signal=`${m}%${k}`,E.column.signal=`floor(${m} / ${k})`,A={field:["row",m]}):(E.row.signal=`floor(${m} / ${x})`,E.column.signal=`${m} % ${x}`,A={field:m}),E.column.signal=`(${i})?${E.column.signal}:${m}`,r={facet:{data:r,name:"value",groupby:A4}},dg({role:Q5,from:r,encode:kh(v,s,sm),marks:[b,C],name:l,interactive:o,sort:A})}function Qxe(e,t){const n=na(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const sF='item.orient === "left"',oF='item.orient === "right"',cw=`(${sF} || ${oF})`,Zxe=`datum.vgrad && ${cw}`,eye=uw('"top"','"bottom"','"middle"'),tye=uw('"right"','"left"','"center"'),nye=`datum.vgrad && ${oF} ? (${tye}) : (${cw} && !(datum.vgrad && ${sF})) ? "left" : ${aF}`,rye=`item._anchor || (${cw} ? "middle" : "start")`,iye=`${Zxe} ? (${sF} ? -90 : 90) : 0`,aye=`${cw} ? (datum.vgrad ? (${oF} ? "bottom" : "top") : ${eye}) : "top"`;function sye(e,t,n,r){const i=na(e,t),a={enter:{opacity:Mt},update:{opacity:ja,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Mt}};return Br(a,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:rye},angle:{signal:iye},align:{signal:nye},baseline:{signal:aye},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Sa({type:Qf,role:Eme,style:nF,from:r,encode:a},n)}function oye(e,t){let n;return Ge(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+FR(e.path)+")":e.sphere&&(n="geoShape("+FR(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function FR(e){return Ge(e)&&e.signal?e.signal:Le(e)}function Uj(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===lw?Q5:t||K5}function lye(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Uj(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function uye(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function lF(e,t){const n=EP(e.type);n||ve("Unrecognized transform type: "+Le(e.type));const r=aw(n.type.toLowerCase(),null,Wj(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function Wj(e,t,n){const r={},i=e.params.length;for(let a=0;a<i;++a){const s=e.params[a];r[s.name]=cye(s,t,n)}return r}function cye(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return fye(e,t,n);if(i===void 0){e.required&&ve("Missing required "+Le(t.type)+" parameter: "+Le(e.name));return}else{if(r==="param")return dye(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!ar(i)?i.map(a=>OR(e,a,n)):OR(e,i,n)}function OR(e,t,n){const r=e.type;if(ar(t))return NR(r)?ve("Expression references can not be signals."):QS(r)?n.fieldRef(t):MR(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||QS(r);return i&&hye(t)?n.exprRef(t.expr,t.as):i&&pye(t)?cg(t.field,t.as):NR(r)?Eo(t,n):gye(r)?at(n.getData(t).values):QS(r)?cg(t):MR(r)?n.compareRef(t):t}}function fye(e,t,n){return Ye(t.from)||ve('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function dye(e,t,n){const r=t[e.name];return e.array?(ke(r)||ve("Expected an array of sub-parameters. Instead: "+Le(r)),r.map(i=>DR(e,i,n))):DR(e,r,n)}function DR(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const o in i.key)if(i.key[o]!==t[o]){i=null;break}if(i)break}i||ve("Unsupported parameter: "+Le(t));const a=wt(Wj(i,t,n),i.key);return at(n.add(uxe(a)))}const hye=e=>e&&e.expr,pye=e=>e&&e.field,gye=e=>e==="data",NR=e=>e==="expr",QS=e=>e==="field",MR=e=>e==="compare";function mye(e,t,n){let r,i,a,s,o;return e?(r=e.facet)&&(t||ve("Only group marks can be faceted."),r.field!=null?s=o=rv(r,n):(e.data?o=at(n.getData(e.data).aggregate):(a=lF(wt({type:"aggregate",groupby:Ve(r.groupby)},r.aggregate),n),a.params.key=n.keyRef(r.groupby),a.params.pulse=rv(r,n),s=o=at(n.add(a))),i=n.keyRef(r.groupby,!0))):s=at(n.add(Ps(null,[{}]))),s||(s=rv(e,n)),{key:i,pulse:s,parent:o}}function rv(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:at(t.getData(e.data).output)}function Ff(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Ff.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let a=t[0],s=null,o=1;for(a&&a.type==="load"&&(a=t[1]),e.add(t[0]);o<n;++o)t[o].params.pulse=at(t[o-1]),e.add(t[o]),t[o].type==="aggregate"&&(s=t[o]);return new Ff(e,a,i,r,s)};function Hj(e){return Ye(e)?e:null}function RR(e,t,n){const r=sw(n.op,n.field);let i;if(t.ops){for(let a=0,s=t.as.length;a<s;++a)if(t.as[a]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function zp(e,t,n,r,i,a,s){const o=t[n]||(t[n]={}),l=Bme(a);let u=Hj(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=o[u]),!c){const p=a?{field:k4,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:at(t.output)};l&&(p.sort=e.sortRef(a)),d=e.add(aw(r,void 0,p)),s&&(t.index[i]=d),c=at(d),u!=null&&(o[u]=c)}return c}Ff.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),a=Hj(t);let s,o,l;return a!=null&&(e=r.scope,s=i[a]),s?n&&n.field&&RR(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:at(r.output)},n&&n.field&&RR(e,l,n),o=e.add(Cj(l)),s=e.add(Ps({pulse:at(o)})),s={agg:o,ref:at(s)},a!=null&&(i[a]=s)),s.ref},tuplesRef(){return at(this.values)},extentRef(e,t){return zp(e,this,"extent","extent",t,!1)},domainRef(e,t){return zp(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return zp(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return zp(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return zp(e,this,"indata","tupleindex",t,!0,!0)}};function xye(e,t,n){const r=e.from.facet,i=r.name,a=rv(r,t);let s;r.name||ve("Facet must have a name: "+Le(r)),r.data||ve("Facet must reference a data set: "+Le(r)),r.field?s=t.add(Oj({field:t.fieldRef(r.field),pulse:a})):r.groupby?s=t.add(exe({key:t.keyRef(r.groupby),group:at(t.proxy(n.parent)),pulse:a})):ve("Facet must specify groupby or field: "+Le(r));const o=t.fork(),l=o.add(Ps()),u=o.add(Jf({pulse:at(l)}));o.addData(i,new Ff(o,l,l,u)),o.addSignal("parent",null),s.params.subflow={$subflow:o.parse(e).toRuntime()}}function yye(e,t,n){const r=t.add(Oj({pulse:n.pulse})),i=t.fork();i.add(Jf()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function jj(e,t,n){const r=e.remove,i=e.insert,a=e.toggle,s=e.modify,o=e.values,l=t.add(E2()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,a,s,o].map(d=>d??"null").join(",")+"),0)",c=Eo(u,t);l.update=c.$expr,l.params=c.$params}function fw(e,t){const n=Uj(e),r=e.type===lw,i=e.from&&e.from.facet,a=e.overlap;let s=e.layout||n===Q5||n===J5,o,l,u,c,d,p,g;const m=n===K5||s||i,x=mye(e.from,r,t);l=t.add(Qme({key:x.key||(e.key?cg(e.key):void 0),pulse:x.pulse,clean:!r}));const v=at(l);l=u=t.add(Ps({pulse:v})),l=t.add(axe({markdef:lye(e),interactive:uye(e.interactive,t),clip:oye(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:at(l)}));const _=at(l);l=c=t.add(Fj(bj(e.encode,e.type,n,e.style,t,{mod:!1,pulse:_}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(D=>{const b=lF(D,t),F=b.metadata;(F.generates||F.changes)&&ve("Mark transforms should not generate new data."),F.nomod||(c.params.mod=!0),b.params.pulse=at(l),t.add(l=b)}),e.sort&&(l=t.add(pxe({sort:t.compareRef(e.sort),pulse:at(l)})));const E=at(l);(i||s)&&(s=t.add(Nj({layout:t.objectProperty(e.layout),legends:t.legends,mark:_,pulse:E})),p=at(s));const k=t.add(Tj({mark:_,pulse:p||E}));g=at(k),r&&(m&&(o=t.operators,o.pop(),s&&o.pop()),t.pushState(E,p||g,v),i?xye(e,t,x):m?yye(e,t,x):t.parse(e),t.popState(),m&&(s&&o.push(s),o.push(k))),a&&(g=vye(a,g,t));const A=t.add(Dj({pulse:g})),T=t.add(Jf({pulse:at(A)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new Ff(t,u,A,T)),e.on&&e.on.forEach(D=>{(D.insert||D.remove||D.toggle)&&ve("Marks only support modify triggers."),jj(D,t,d)}))}function vye(e,t,n){const r=e.method,i=e.bound,a=e.separation,s={separation:ar(a)?n.signalRef(a.signal):a,method:ar(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const o=i.tolerance;s.boundTolerance=ar(o)?n.signalRef(o.signal):+o,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return at(n.add(lxe(s)))}function _ye(e,t){const n=t.config.legend,r=e.encode||{},i=na(e,n),a=r.legend||{},s=a.name||void 0,o=a.interactive,l=a.style,u={};let c=0,d,p,g;rF.forEach(k=>e[k]?(u[k]=e[k],c=c||e[k]):0),c||ve("Missing valid scale for legend.");const m=wye(e,t.scaleType(c)),x={title:e.title!=null,scales:u,type:m,vgrad:m!=="symbol"&&i.isVertical()},v=at(t.add(Ps(null,[x]))),_={enter:{x:{value:0},y:{value:0}}},E=at(t.add(rxe(p={type:m,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return m===nv?(g=[Vxe(e,c,n,r.gradient),TR(e,n,r.labels,E)],p.count=p.count||t.signalRef(`max(2,2*floor((${cf(i.gradientLength())})/100))`)):m===C4?g=[qxe(e,c,n,r.gradient,E),TR(e,n,r.labels,E)]:(d=Qxe(e,n),g=[Jxe(e,n,r,E,cf(d.columns))],p.size=Sye(e,t,g[0].marks)),g=[dg({role:vme,from:v,encode:_,marks:g,layout:d,interactive:o})],x.title&&g.push(sye(e,n,r.title,v)),fw(dg({role:xme,from:v,encode:kh(kye(i,e,n),a,sm),marks:g,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:o,style:l}),t)}function wye(e,t){let n=e.type||CR;return!e.type&&Eye(e)===1&&(e.fill||e.stroke)&&(n=lT(t)?nv:vA(t)?C4:CR),n!==nv?n:vA(t)?C4:nv}function Eye(e){return rF.reduce((t,n)=>t+(e[n]?1:0),0)}function kye(e,t,n){const r={enter:{},update:{}};return Br(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function Sye(e,t,n){const r=cf(IR("size",e,n)),i=cf(IR("strokeWidth",e,n)),a=cf(bye(n[1].encode,t,am));return Eo(`max(ceil(sqrt(${r})+${i}),${a})`,t)}function IR(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Bj(e,n[0].encode)}function bye(e,t,n){return Bj("fontSize",e)||Gxe("fontSize",t,n)}const Aye=`item.orient==="${Sh}"?-90:item.orient==="${bh}"?90:0`;function Cye(e,t){e=Ye(e)?{text:e}:e;const n=na(e,t.config.title),r=e.encode||{},i=r.group||{},a=i.name||void 0,s=i.interactive,o=i.style,l=[],u={},c=at(t.add(Ps(null,[u])));return l.push(Oye(e,n,Tye(e),c)),e.subtitle&&l.push(Dye(e,n,r.subtitle,c)),fw(dg({role:kme,from:c,encode:Fye(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:s,style:o}),t)}function Tye(e){const t=e.encode;return t&&t.title||wt({name:e.name,interactive:e.interactive,style:e.style},t)}function Fye(e,t){const n={enter:{},update:{}};return Br(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:aF},angle:{signal:Aye},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),kh(n,t,sm)}function Oye(e,t,n,r){const i={value:0},a=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Br(s,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Sa({type:Qf,role:Sme,style:$xe,from:r,encode:s},n)}function Dye(e,t,n,r){const i={value:0},a=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Br(s,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Sa({type:Qf,role:bme,style:Lxe,from:r,encode:s},n)}function Nye(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(lF(r,t))}),e.on&&e.on.forEach(r=>{jj(r,t,e.name)}),t.addDataPipeline(e.name,Mye(e,t,n))}function Mye(e,t,n){const r=[];let i=null,a=!1,s=!1,o,l,u,c,d;for(e.values?ar(e.values)||ev(e.format)?(r.push($R(t,e)),r.push(i=Ic())):r.push(i=Ic({$ingest:e.values,$format:e.format})):e.url?ev(e.url)||ev(e.format)?(r.push($R(t,e)),r.push(i=Ic())):r.push(i=Ic({$request:e.url,$format:e.format})):e.source&&(i=o=Ve(e.source).map(p=>at(t.getData(p).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=Ic()),r.push(c),d.generates&&(s=!0),d.modifies&&!s&&(a=!0),d.source?i=c:d.changes&&(i=null);return o&&(u=o.length-1,r[0]=dxe({derive:a,pulse:u?o:o[0]}),(a||u)&&r.splice(1,0,Ic())),i||r.push(Ic()),r.push(Jf({})),r}function Ic(e){const t=Ps({},e);return t.metadata={source:!0},t}function $R(e,t){return ixe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const Gj=e=>e===Vu||e===Bs,dw=(e,t,n)=>ar(e)?Lye(e.signal,t,n):e===Sh||e===Bs?t:n,vr=(e,t,n)=>ar(e)?Iye(e.signal,t,n):Gj(e)?t:n,Cs=(e,t,n)=>ar(e)?$ye(e.signal,t,n):Gj(e)?n:t,Yj=(e,t,n)=>ar(e)?Pye(e.signal,t,n):e===Bs?{value:t}:{value:n},Rye=(e,t,n)=>ar(e)?Bye(e.signal,t,n):e===bh?{value:t}:{value:n},Iye=(e,t,n)=>Vj(`${e} === '${Bs}' || ${e} === '${Vu}'`,t,n),$ye=(e,t,n)=>Vj(`${e} !== '${Bs}' && ${e} !== '${Vu}'`,t,n),Lye=(e,t,n)=>uF(`${e} === '${Sh}' || ${e} === '${Bs}'`,t,n),Pye=(e,t,n)=>uF(`${e} === '${Bs}'`,t,n),Bye=(e,t,n)=>uF(`${e} === '${bh}'`,t,n),Vj=(e,t,n)=>(t=t!=null?yr(t):t,n=n!=null?yr(n):n,LR(t)&&LR(n)?(t=t?t.signal||Le(t.value):null,n=n?n.signal||Le(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[wt({test:e},t)].concat(n||[])),LR=e=>e==null||Object.keys(e).length===1,uF=(e,t,n)=>({signal:`${e} ? (${ld(t)}) : (${ld(n)})`}),zye=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${Sh}' ? (${ld(r)}) : `:"")+(n!=null?`${e} === '${Vu}' ? (${ld(n)}) : `:"")+(i!=null?`${e} === '${bh}' ? (${ld(i)}) : `:"")+(t!=null?`${e} === '${Bs}' ? (${ld(t)}) : `:"")+"(null)"}),ld=e=>ar(e)?e.signal:e==null?null:Le(e),Uye=(e,t)=>t===0?0:ar(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},gd=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function q0(e,t,n,r){let i;if(t&&qe(t,e))return t[e];if(qe(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[nF][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[am][i]}return null}function PR(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function Wye(e,t){var n=t.config,r=n.style,i=n.axis,a=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,o,l,u;if(ar(s)){const d=PR([n.axisX,n.axisY]),p=PR([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);o={};for(u of d)o[u]=vr(s,q0(u,n.axisX,i,r),q0(u,n.axisY,i,r));l={};for(u of p)l[u]=zye(s.signal,q0(u,n.axisTop,i,r),q0(u,n.axisBottom,i,r),q0(u,n.axisLeft,i,r),q0(u,n.axisRight,i,r))}else o=s===Bs||s===Vu?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return o||l||a?wt({},i,o,l,a):i}function Hye(e,t,n,r){const i=na(e,t),a=e.orient;let s,o;const l={enter:s={opacity:Mt},update:o={opacity:ja},exit:{opacity:Mt}};Br(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=BR(e,0),c=BR(e,1);return s.x=o.x=vr(a,u,Mt),s.x2=o.x2=vr(a,c),s.y=o.y=Cs(a,u,Mt),s.y2=o.y2=Cs(a,c),Sa({type:iF,role:dme,from:r,encode:l},n)}function BR(e,t){return{scale:e.scale,range:t}}function jye(e,t,n,r,i){const a=na(e,t),s=e.orient,o=e.gridScale,l=dw(s,1,-1),u=Gye(e.offset,l);let c,d,p;const g={enter:c={opacity:Mt},update:p={opacity:ja},exit:d={opacity:Mt}};Br(g,{stroke:a("gridColor"),strokeCap:a("gridCap"),strokeDash:a("gridDash"),strokeDashOffset:a("gridDashOffset"),strokeOpacity:a("gridOpacity"),strokeWidth:a("gridWidth")});const m={scale:e.scale,field:Ha,band:i.band,extra:i.extra,offset:i.offset,round:a("tickRound")},x=vr(s,{signal:"height"},{signal:"width"}),v=o?{scale:o,range:0,mult:l,offset:u}:{value:0,offset:u},_=o?{scale:o,range:1,mult:l,offset:u}:wt(x,{mult:l,offset:u});return c.x=p.x=vr(s,m,v),c.y=p.y=Cs(s,m,v),c.x2=p.x2=Cs(s,_),c.y2=p.y2=vr(s,_),d.x=vr(s,m),d.y=Cs(s,m),Sa({type:iF,role:hme,key:Ha,from:r,encode:g},n)}function Gye(e,t){if(t!==1)if(!Ge(e))e=ar(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=wt({},e);for(;n.mult!=null;)if(Ge(n.mult))n=n.mult=wt({},n.mult);else return n.mult=ar(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function Yye(e,t,n,r,i,a){const s=na(e,t),o=e.orient,l=dw(o,-1,1);let u,c,d;const p={enter:u={opacity:Mt},update:d={opacity:ja},exit:c={opacity:Mt}};Br(p,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const g=yr(i);g.mult=l;const m={scale:e.scale,field:Ha,band:a.band,extra:a.extra,offset:a.offset,round:s("tickRound")};return d.y=u.y=vr(o,Mt,m),d.y2=u.y2=vr(o,g),c.x=vr(o,m),d.x=u.x=Cs(o,Mt,m),d.x2=u.x2=Cs(o,g),c.y=Cs(o,m),Sa({type:iF,role:gme,key:Ha,from:r,encode:p},n)}function ZS(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function Vye(e,t,n,r,i,a){const s=na(e,t),o=e.orient,l=e.scale,u=dw(o,-1,1),c=cf(s("labelFlush")),d=cf(s("labelFlushOffset")),p=s("labelAlign"),g=s("labelBaseline");let m=c===0||!!c,x;const v=yr(i);v.mult=u,v.offset=yr(s("labelPadding")||0),v.offset.mult=u;const _={scale:l,field:Ha,band:.5,offset:zj(a.offset,s("labelOffset"))},E=vr(o,m?ZS(l,c,'"left"','"right"','"center"'):{value:"center"},Rye(o,"left","right")),k=vr(o,Yj(o,"bottom","top"),m?ZS(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),A=ZS(l,c,`-(${d})`,d,0);m=m&&d;const T={opacity:Mt,x:vr(o,_,v),y:Cs(o,_,v)},D={enter:T,update:x={opacity:ja,text:{field:tF},x:T.x,y:T.y,align:E,baseline:k},exit:{opacity:Mt,x:T.x,y:T.y}};Br(D,{dx:!p&&m?vr(o,A):null,dy:!g&&m?Cs(o,A):null}),Br(D,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:p,baseline:g});const b=s("labelBound");let F=s("labelOverlap");return F=F||b?{separation:s("labelSeparation"),method:F,order:"datum.index",bound:b?{scale:l,orient:o,tolerance:b}:null}:void 0,x.align!==E&&(x.align=gd(x.align,E)),x.baseline!==k&&(x.baseline=gd(x.baseline,k)),Sa({type:Qf,role:pme,style:am,key:Ha,from:r,encode:D,overlap:F},n)}function qye(e,t,n,r){const i=na(e,t),a=e.orient,s=dw(a,-1,1);let o,l;const u={enter:o={opacity:Mt,anchor:yr(i("titleAnchor",null)),align:{signal:aF}},update:l=wt({},o,{opacity:ja,text:yr(e.title)}),exit:{opacity:Mt}},c={signal:`lerp(range("${e.scale}"), ${uw(0,1,.5)})`};return l.x=vr(a,c),l.y=Cs(a,c),o.angle=vr(a,Mt,Uye(s,90)),o.baseline=vr(a,Yj(a,Vu,Bs),{value:Vu}),l.angle=o.angle,l.baseline=o.baseline,Br(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),Xye(i,a,u,n),u.update.align=gd(u.update.align,o.align),u.update.angle=gd(u.update.angle,o.angle),u.update.baseline=gd(u.update.baseline,o.baseline),Sa({type:Qf,role:mme,style:nF,from:r,encode:u},n)}function Xye(e,t,n,r){const i=(o,l)=>o!=null?(n.update[l]=gd(yr(o),n.update[l]),!1):!ed(l,r),a=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===a?yr(s):vr(t,yr(s),yr(a))}function Kye(e,t){const n=Wye(e,t),r=e.encode||{},i=r.axis||{},a=i.name||void 0,s=i.interactive,o=i.style,l=na(e,n),u=Yxe(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=at(t.add(Ps({},[c]))),p=at(t.add(Jme({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),g=[];let m;return c.grid&&g.push(jye(e,n,r.grid,p,u)),c.ticks&&(m=l("tickSize"),g.push(Yye(e,n,r.ticks,p,m,u))),c.labels&&(m=c.ticks?m:0,g.push(Vye(e,n,r.labels,p,m,u))),c.domain&&g.push(Hye(e,n,r.domain,d)),c.title&&g.push(qye(e,n,r.title,d)),fw(dg({role:fme,from:d,encode:kh(Jye(l,e),i,sm),marks:g,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:a,interactive:s,style:o}),t)}function Jye(e,t){const n={enter:{},update:{}};return Br(n,{orient:e("orient"),offset:e("offset")||0,position:gs(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function qj(e,t,n){const r=Ve(e.signals),i=Ve(e.scales);return n||r.forEach(a=>Aj(a,t)),Ve(e.projections).forEach(a=>Fxe(a,t)),i.forEach(a=>xxe(a,t)),Ve(e.data).forEach(a=>Nye(a,t)),i.forEach(a=>yxe(a,t)),(n||r).forEach(a=>Kme(a,t)),Ve(e.axes).forEach(a=>Kye(a,t)),Ve(e.marks).forEach(a=>fw(a,t)),Ve(e.legends).forEach(a=>_ye(a,t)),e.title&&Cye(e.title,t),t.parseLambdas(),t}const Qye=e=>kh({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function Zye(e,t){const n=t.config,r=at(t.root=t.add(E2())),i=eve(e,n);i.forEach(u=>Aj(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const a=t.add(Ps()),s=t.add(Fj(bj(Qye(e.encode),lw,J5,e.style,t,{pulse:at(a)}))),o=t.add(Nj({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:at(s)}));t.operators.pop(),t.pushState(at(s),at(o),null),qj(e,t,i),t.operators.push(o);let l=t.add(Tj({mark:r,pulse:at(o)}));return l=t.add(Dj({pulse:at(l)})),l=t.add(Jf({pulse:at(l)})),t.addData("root",new Ff(t,a,a,l)),t}function Up(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function eve(e,t){const n=s=>gs(e[s],t[s]),r=[Up("background",n("background")),Up("autosize",lme(n("autosize"))),Up("padding",cme(n("padding"))),Up("width",n("width")||0),Up("height",n("height")||0)],i=r.reduce((s,o)=>(s[o.name]=o,s),{}),a={};return Ve(e.signals).forEach(s=>{qe(i,s.name)?s=wt(i[s.name],s):r.push(s),a[s.name]=s}),Ve(t.signals).forEach(s=>{!qe(a,s.name)&&!qe(i,s.name)&&r.push(s)}),r}function Xj(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function zR(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}Xj.prototype=zR.prototype={parse(e){return qj(e,this)},fork(){return new zR(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof E4?at(e):e;return this.add(fxe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,a){let s,o;r&&(s=r.data||(r.data={}),o=s[i]||(s[i]=[]),o.push(a))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(at(this.add(Jf({pulse:e})))),this._parent.push(t),this._lookup.push(n?at(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Dt(this._parent)},encode(){return Dt(this._encode)},lookup(){return Dt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ye(e))return cg(e,t);e.signal||ve("Unsupported field reference: "+Le(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=at(this.add(txe(i)))}return r},compareRef(e){let t=!1;const n=a=>ar(a)?(t=!0,this.signalRef(a.signal)):zme(a)?(t=!0,this.exprRef(a.expr)):a,r=Ve(e.field).map(n),i=Ve(e.order).map(n);return t?at(this.add(AR({fields:r,orders:i}))):SR(r,i)},keyRef(e,t){let n=!1;const r=a=>ar(a)?(n=!0,at(i[a.signal])):a,i=this.signals;return e=Ve(e).map(r),n?at(this.add(nxe({fields:e,flat:t}))):$me(e,t)},sortRef(e){if(!e)return e;const t=sw(e.op,e.field),n=e.order||Lme;return n.signal?at(this.add(AR({fields:t,orders:this.signalRef(n.signal)}))):SR(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return qe(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&ve("Duplicate signal name: "+Le(e));const n=t instanceof E4?t:this.add(E2(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||ve("Unrecognized signal name: "+Le(e)),this.signals[e]},signalRef(e){return this.signals[e]?at(this.signals[e]):(qe(this.lambdas,e)||(this.lambdas[e]=this.add(E2(null))),at(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Eo(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Ge(e)?e:this.signalRef(e.signal||cF(e))},exprRef(e,t){const n={expr:Eo(e,this)};return t&&(n.expr.$name=t),at(this.add(Zme(n)))},addBinding(e,t){this.bindings||ve("Nested signals do not support binding: "+Le(e)),this.bindings.push(wt({signal:e},t))},addScaleProj(e,t){qe(this.scales,e)&&ve("Duplicate scale or projection name: "+Le(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,hxe(t))},addProjection(e,t){this.addScaleProj(e,cxe(t))},getScale(e){return this.scales[e]||ve("Unrecognized scale name: "+Le(e)),this.scales[e]},scaleRef(e){return at(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return qe(this.data,e)&&ve("Duplicate data set name: "+Le(e)),this.data[e]=t},getData(e){return this.data[e]||ve("Undefined data set name: "+Le(e)),this.data[e]},addDataPipeline(e,t){return qe(this.data,e)&&ve("Duplicate data set name: "+Le(e)),this.addData(e,Ff.fromEntries(this,t))}};function cF(e){return(ke(e)?tve:nve)(e)}function tve(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Ge(i)?i.signal||cF(i):Le(i))}return n+"]"}function nve(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+Le(r)+":"+(Ge(i)?i.signal||cF(i):Le(i));return t+"}"}function rve(){const e="sans-serif",r="#4c78a8",i="#000",a="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function ive(e,t,n){return Ge(e)||ve("Input Vega specification must be an object."),t=uh(rve(),t,e.config),Zye(e,new Xj(t,n)).toRuntime()}var ave="6.2.0";wt(Od,Vne,Sle,nue,Uce,Ife,lde,U0e,cde,Rde,jde,Jde);const sve=ave,ove=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Kn,CanvasHandler:Kg,CanvasRenderer:$v,DATE:Ki,DAY:Qr,DAYOFYEAR:_o,Dataflow:fd,Debug:G$,DisallowedObjectProperties:w3,Error:E3,EventStream:d_,Gradient:Pz,GroupItem:I_,HOURS:wa,Handler:MT,HybridHandler:TU,HybridRenderer:OA,Info:j$,Item:R_,MILLISECONDS:Ds,MINUTES:Ea,MONTH:ii,Marks:ka,MultiPulse:V3,None:H$,Operator:rn,Parameters:f_,Pulse:Mu,QUARTER:Xi,RenderType:ku,Renderer:Xg,ResourceLoader:jz,SECONDS:Va,SVGHandler:gU,SVGRenderer:BT,SVGStringRenderer:CU,Scenegraph:oU,TIME_UNITS:L3,Transform:ye,View:hj,WEEK:nr,Warn:k3,YEAR:$r,accessor:ta,accessorFields:ri,accessorName:Mn,array:Ve,ascending:fh,bandwidthNRD:J3,bin:bP,bootstrapCI:AP,boundClip:PU,boundContext:Gg,boundItem:bA,boundMark:rU,boundStroke:Ol,changeset:Vf,clampRange:nL,codegenExpression:zH,compare:C3,constant:ui,cumulativeLogNormal:rC,cumulativeNormal:p_,cumulativeUniform:oC,dayofyear:NL,debounce:T3,defaultLocale:W3,definition:EP,densityLogNormal:nC,densityNormal:Q3,densityUniform:sC,domChild:tr,domClear:La,domCreate:wu,domFind:NT,dotbin:CP,error:ve,expressionFunction:Wn,extend:wt,extent:xo,extentIndex:rL,falsy:cu,fastmap:dh,field:Ga,flush:iL,font:z_,fontFamily:qg,fontSize:Oo,format:Ry,formatLocale:pv,formats:G3,hasOwnProperty:qe,id:Og,identity:li,inferType:fP,inferTypes:dP,ingest:jt,inherits:Ue,inrange:rd,interpolate:uT,interpolateColors:N_,interpolateRange:Sz,intersect:RU,intersectBoxLine:id,intersectPath:xT,intersectPoint:yT,intersectRule:Yz,isArray:ke,isBoolean:tc,isDate:Du,isFunction:vt,isIterable:aL,isNumber:Ut,isObject:Ge,isRegExp:F3,isString:Ye,isTuple:u_,key:O3,lerp:sL,lineHeight:ju,loader:o_,locale:uP,logger:Q2,lruCache:oL,markup:PT,merge:lL,mergeConfig:uh,multiLineOffset:FT,one:lh,pad:uL,panLinear:K$,panLog:J$,panPow:Q$,panSymlog:Z$,parse:ive,parseExpression:P5,parseSelector:oc,path:v_,pathCurves:pT,pathEqual:BU,pathParse:$d,pathRectangle:Uz,pathRender:Q1,pathSymbols:zz,pathTrail:Wz,peek:Dt,point:W_,projection:i5,quantileLogNormal:iC,quantileNormal:g_,quantileUniform:lC,quantiles:X3,quantizeInterpolator:bz,quarter:eL,quartiles:K3,get random(){return qa},randomInteger:Jte,randomKDE:eC,randomLCG:Kte,randomLogNormal:FP,randomMixture:OP,randomNormal:Z3,randomUniform:DP,read:gP,regressionConstant:uC,regressionExp:MP,regressionLinear:cC,regressionLoess:$P,regressionLog:NP,regressionPoly:IP,regressionPow:RP,regressionQuad:fC,renderModule:H_,repeat:qp,resetDefaultLocale:qee,resetSVGDefIds:Woe,responseType:pP,runtimeContext:ej,sampleCurve:x_,sampleLogNormal:tC,sampleNormal:h_,sampleUniform:aC,scale:Ht,sceneEqual:zT,sceneFromJSON:aU,scenePickVisit:Tv,sceneToJSON:iU,sceneVisit:Ns,sceneZOrder:vT,scheme:cT,serializeXML:kU,setHybridRendererOptions:Poe,setRandom:qte,span:Dg,splitAccessPath:Co,stringValue:Le,textMetrics:xa,timeBin:XL,timeFloor:BL,timeFormatLocale:Y1,timeInterval:mh,timeOffset:WL,timeSequence:GL,timeUnitSpecifier:DL,timeUnits:P3,toBoolean:D3,toDate:N3,toNumber:ei,toSet:Os,toString:M3,transform:kP,transforms:Od,truncate:cL,truthy:Ya,tupleid:st,typeParsers:oA,utcFloor:zL,utcInterval:xh,utcOffset:HL,utcSequence:YL,utcdayofyear:IL,utcquarter:tL,utcweek:$L,version:sve,visitArray:hu,week:ML,writeConfig:ch,zero:yu,zoomLinear:S3,zoomLog:b3,zoomPow:lv,zoomSymlog:A3},Symbol.toStringTag,{value:"Module"}));function lve(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var uve={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},cve={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},fve={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const dve=Array.prototype.slice,$c=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,dve.call(t,1))},hve=(e,t=0,n=1,r=0,i=0,a=0,s=0)=>Ye(e)?new Date(e):new Date(e,t,n,r,i,a,s);var pve={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:hve,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return $c("join",arguments)},indexof:function(){return $c("indexOf",arguments)},lastindexof:function(){return $c("lastIndexOf",arguments)},slice:function(){return $c("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(fh),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return $c("substring",arguments,String)},split:function(){return $c("split",arguments,String)},replace:function(){return $c("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const gve=["view","item","group","xy","x","y"],F4=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&F4.add(setImmediate);const mve={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:uve[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),F4.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||pve[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>cve[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>fve[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);e.memberDepth-=1;const a=e(r.value);return w3.has(i)?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):F4.has(a)?console.error(`Prevented interpretation of method "${i}" which could lead to insecure code execution`):n[i]=a,n},{})};function Wp(e,t,n,r,i,a){const s=o=>mve[o.type](s,o);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=a,gve.forEach(o=>s.fn[o]=(...l)=>i.vega[o](...l)),s(e)}var xve={operator(e,t){const n=t.ast,r=e.functions;return i=>Wp(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,a)=>Wp(n,r,a,i)},event(e,t){const n=t.ast,r=e.functions;return i=>Wp(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,a)=>{const s=a.item&&a.item.datum;return Wp(n,r,i,s,a)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,a=n==="group"||n==="image"||n==="rect";return(s,o)=>{const l=s.datum;let u=0,c;for(const d in r)c=Wp(r[d].ast,i,o,l,void 0,s),s[d]!==c&&(s[d]=c,u=1);return n!=="rule"&&lve(s,r,a),u}}},yve="6.4.1",vve={version:yve};function fF(e){return Oe(e,"or")}function dF(e){return Oe(e,"and")}function hF(e){return Oe(e,"not")}function iv(e,t){if(hF(e))iv(e.not,t);else if(dF(e))for(const n of e.and)iv(n,t);else if(fF(e))for(const n of e.or)iv(n,t);else t(e)}function md(e,t){return hF(e)?{not:md(e.not,t)}:dF(e)?{and:e.and.map(n=>md(n,t))}:fF(e)?{or:e.or.map(n=>md(n,t))}:t(e)}const gt=structuredClone;function Kj(e){throw new Error(e)}function Gd(e,t){const n={};for(const r of t)qe(e,r)&&(n[r]=e[r]);return n}function va(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>Xt(e)).join(",")})`};function Tt(e){if(Ut(e))return e;const t=Ye(e)?e:Xt(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function O4(e){return e===!1||e===null}function At(e,t){return e.includes(t)}function Yd(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function pF(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function Jj(e,...t){for(const n of t)_ve(e,n??{});return e}function _ve(e,t){for(const n of Fe(t))ch(e,n,t[n],!0)}function lo(e,t){const n=[],r={};let i;for(const a of e)i=t(a),!(i in r)&&(r[i]=1,n.push(a));return n}function wve(e,t){const n=Fe(e),r=Fe(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function Qj(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function gF(e,t){for(const n of e)if(t.has(n))return!0;return!1}function D4(e){const t=new Set;for(const n of e){const i=Co(n).map((s,o)=>o===0?s:`[${s}]`),a=i.map((s,o)=>i.slice(0,o+1).join(""));for(const s of a)t.add(s)}return t}function mF(e,t){return e===void 0||t===void 0?!0:gF(D4(e),D4(t))}function an(e){return Fe(e).length===0}const Fe=Object.keys,Xn=Object.values,qu=Object.entries;function hg(e){return e===!0||e===!1}function vn(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function N1(e,t){return hF(e)?`!(${N1(e.not,t)})`:dF(e)?`(${e.and.map(n=>N1(n,t)).join(") && (")})`:fF(e)?`(${e.or.map(n=>N1(n,t)).join(") || (")})`:t(e)}function k2(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&k2(e[n],t)&&delete e[n],an(e)}function om(e){return e.charAt(0).toUpperCase()+e.substr(1)}function xF(e,t="datum"){const n=Co(e),r=[];for(let i=1;i<=n.length;i++){const a=`[${n.slice(0,i).map(Le).join("][")}]`;r.push(`${t}${a}`)}return r.join(" && ")}function Zj(e,t="datum"){return`${t}[${Le(Co(e).join("."))}]`}function Jt(e){return`datum['${e.replaceAll("'","\\'")}']`}function eG(e){return e.replaceAll("\\'","'").replaceAll("\\.",".")}function Eve(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Ka(e){return`${Co(e).map(Eve).join("\\.")}`}function Of(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Ah(e){return`${Co(e).join(".")}`}function Vd(e){return e?Co(e).length:0}function zn(...e){return e.find(t=>t!==void 0)}let tG=42;function nG(e){const t=++tG;return e?String(e)+t:t}function kve(){tG=42}function rG(e){return iG(e)?e:`__${e}`}function iG(e){return e.startsWith("__")}function pg(e){if(e!==void 0)return(e%360+360)%360}function hw(e){return Ut(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const UR=Object.getPrototypeOf(structuredClone({}));function ga(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ga(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const a of e.entries())if(!t.has(a[0]))return!1;for(const a of e.entries())if(!ga(a[1],t.get(a[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e.entries())if(!t.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==UR.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==UR.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!ga(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Xt(e){const t=[];return(function n(r){if(r!=null&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?`${r}`:"null";if(typeof r!="object")return JSON.stringify(r);let i,a;if(Array.isArray(r)){for(a="[",i=0;i<r.length;i++)i&&(a+=","),a+=n(r[i])||"null";return`${a}]`}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,o=Object.keys(r).sort();for(a="",i=0;i<o.length;i++){const l=o[i],u=n(r[l]);u&&(a&&(a+=","),a+=`${JSON.stringify(l)}:${u}`)}return t.splice(s,1),`{${a}}`})(e)}function Oe(e,t){return Ge(e)&&qe(e,t)&&e[t]!==void 0}const ml="row",xl="column",pw="facet",_n="x",Sr="y",zs="x2",Ro="y2",lc="xOffset",Ch="yOffset",Us="radius",Nl="radius2",es="theta",Ml="theta2",Ws="latitude",Hs="longitude",js="latitude2",Ja="longitude2",uc="time",Qi="color",Io="fill",$o="stroke",Zi="shape",Rl="size",Zf="angle",Il="opacity",cc="fillOpacity",fc="strokeOpacity",dc="strokeWidth",hc="strokeDash",lm="text",qd="order",um="detail",gw="key",Df="tooltip",mw="href",xw="url",yw="description",Sve={x:1,y:1,x2:1,y2:1},aG={theta:1,theta2:1,radius:1,radius2:1};function sG(e){return qe(aG,e)}const yF={longitude:1,longitude2:1,latitude:1,latitude2:1};function oG(e){switch(e){case Ws:return"y";case js:return"y2";case Hs:return"x";case Ja:return"x2"}}function lG(e){return qe(yF,e)}const bve=Fe(yF),vF={...Sve,...aG,...yF,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function xd(e){return e===Qi||e===Io||e===$o}const uG={row:1,column:1,facet:1},Wa=Fe(uG),_F={...vF,...uG},Ave=Fe(_F),{order:rMe,detail:iMe,tooltip:aMe,...Cve}=_F,{row:sMe,column:oMe,facet:lMe,...Tve}=Cve;function Fve(e){return qe(Tve,e)}function cG(e){return qe(_F,e)}const Ove=[zs,Ro,js,Ja,Ml,Nl];function fG(e){return e0(e)!==e}function e0(e){switch(e){case zs:return _n;case Ro:return Sr;case js:return Ws;case Ja:return Hs;case Ml:return es;case Nl:return Us}return e}function Xu(e){if(sG(e))switch(e){case es:return"startAngle";case Ml:return"endAngle";case Us:return"outerRadius";case Nl:return"innerRadius"}return e}function Lo(e){switch(e){case _n:return zs;case Sr:return Ro;case Ws:return js;case Hs:return Ja;case es:return Ml;case Us:return Nl}}function ea(e){switch(e){case _n:case zs:return"width";case Sr:case Ro:return"height"}}function dG(e){switch(e){case _n:return"xOffset";case Sr:return"yOffset";case zs:return"x2Offset";case Ro:return"y2Offset";case es:return"thetaOffset";case Us:return"radiusOffset";case Ml:return"theta2Offset";case Nl:return"radius2Offset"}}function wF(e){switch(e){case _n:return"xOffset";case Sr:return"yOffset"}}function Dve(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Nve=Fe(vF),{x:uMe,y:cMe,x2:fMe,y2:dMe,xOffset:hMe,yOffset:pMe,latitude:gMe,longitude:mMe,latitude2:xMe,longitude2:yMe,theta:vMe,theta2:_Me,radius:wMe,radius2:EMe,...EF}=vF,Mve=Fe(EF),kF={x:1,y:1},$l=Fe(kF);function Un(e){return qe(kF,e)}const SF={theta:1,radius:1},Rve=Fe(SF);function vw(e){return e==="width"?_n:Sr}const hG={xOffset:1,yOffset:1};function cm(e){return qe(hG,e)}const Ive={time:1};function eb(e){return e in Ive}const{text:kMe,tooltip:SMe,href:bMe,url:AMe,description:CMe,detail:TMe,key:FMe,order:OMe,...pG}=EF,$ve=Fe(pG);function Lve(e){return qe(EF,e)}function Pve(e){switch(e){case Qi:case Io:case $o:case Rl:case Zi:case Il:case dc:case hc:return!0;case cc:case fc:case Zf:case uc:return!1}}const gG={...kF,...SF,...hG,...pG},bF=Fe(gG);function Po(e){return qe(gG,e)}function Bve(e,t){return Uve(e)[t]}const mG={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:DMe,...zve}=mG;function Uve(e){switch(e){case Qi:case Io:case $o:case yw:case um:case gw:case Df:case mw:case qd:case Il:case cc:case fc:case dc:case pw:case ml:case xl:return mG;case _n:case Sr:case lc:case Ch:case Ws:case Hs:case uc:return zve;case zs:case Ro:case js:case Ja:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Rl:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case hc:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Zi:return{point:"always",geoshape:"always"};case lm:return{text:"always"};case Zf:return{point:"always",square:"always",text:"always"};case xw:return{image:"always"};case es:return{text:"always",arc:"always"};case Us:return{text:"always",arc:"always"};case Ml:case Nl:return{arc:"always"}}}function tb(e){switch(e){case _n:case Sr:case es:case Us:case lc:case Ch:case Rl:case Zf:case dc:case Il:case cc:case fc:case uc:case zs:case Ro:case Ml:case Nl:return;case pw:case ml:case xl:case Zi:case hc:case lm:case Df:case mw:case xw:case yw:return"discrete";case Qi:case Io:case $o:return"flexible";case Ws:case Hs:case js:case Ja:case um:case gw:case qd:return}}const Wve={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Hve={count:1,min:1,max:1};function Al(e){return Oe(e,"argmin")}function pc(e){return Oe(e,"argmax")}function AF(e){return Ye(e)&&qe(Wve,e)}const jve=new Set(["count","valid","missing","distinct"]);function _w(e){return Ye(e)&&jve.has(e)}function Gve(e){return Ye(e)&&At(["min","max"],e)}const Yve=new Set(["count","sum","distinct","valid","missing"]),Vve=new Set(["mean","average","median","q1","q3","min","max"]);function xG(e){return tc(e)&&(e=Nw(e,void 0)),`bin${Fe(e).map(t=>ww(e[t])?vn(`_${t}_${qu(e[t])}`):vn(`_${t}_${e[t]}`)).join("")}`}function un(e){return e===!0||t0(e)&&!e.binned}function Fr(e){return e==="binned"||t0(e)&&e.binned===!0}function t0(e){return Ge(e)}function ww(e){return Oe(e,"param")}function WR(e){switch(e){case ml:case xl:case Rl:case Qi:case Io:case $o:case dc:case Il:case cc:case fc:case Zi:return 6;case hc:return 4;default:return 10}}function fm(e){return Oe(e,"expr")}function Or(e,{level:t}={level:0}){const n=Fe(e||{}),r={};for(const i of n)r[i]=t===0?da(e[i]):Or(e[i],{level:t-1});return r}function yG(e){const{anchor:t,frame:n,offset:r,orient:i,angle:a,limit:s,color:o,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:p,subtitleLineHeight:g,subtitlePadding:m,...x}=e,v={...x,...o?{fill:o}:{}},_={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...a!==void 0?{angle:a}:{},...s!==void 0?{limit:s}:{}},E={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...p?{subtitleFontWeight:p}:{},...g?{subtitleLineHeight:g}:{},...m?{subtitlePadding:m}:{}},k=Gd(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:v,subtitleMarkConfig:k,nonMarkTitleProperties:_,subtitle:E}}function xu(e){return Ye(e)||ke(e)&&Ye(e[0])}function nt(e){return Oe(e,"signal")}function n0(e){return Oe(e,"step")}function qve(e){return ke(e)?!1:Oe(e,"fields")&&!Oe(e,"data")}function Xve(e){return ke(e)?!1:Oe(e,"fields")&&Oe(e,"data")}function fl(e){return ke(e)?!1:Oe(e,"field")&&Oe(e,"data")}const Kve={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},Jve=Fe(Kve),Qve={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},N4=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Zve="  ";function vG(e){const t=ke(e.condition)?e.condition.map(HR):HR(e.condition);return{...da(e),condition:t}}function da(e){if(fm(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function HR(e){if(fm(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function pn(e){if(fm(e)){const{expr:t,...n}=e;return{signal:t,...n}}return nt(e)?e:e!==void 0?{value:e}:void 0}function e2e(e){return nt(e)?e.signal:Le(e)}function jR(e){return nt(e)?e.signal:Le(e.value)}function ks(e){return nt(e)?e.signal:e==null?null:Le(e)}function t2e(e,t,n){for(const r of n){const i=ko(r,t.markDef,t.config);i!==void 0&&(e[r]=pn(i))}return e}function _G(e){return[].concat(e.type,e.style??[])}function qt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:a}=r;return i&&Oe(t,i)?t[i]:t[e]!==void 0?t[e]:a&&(!i||i===e)?void 0:ko(e,t,n,r)}function ko(e,t,n,{vgChannel:r}={}){const i=M4(e,t,n.style);return zn(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function M4(e,t,n){return wG(e,_G(t),n)}function wG(e,t,n){t=Ve(t);let r;for(const i of t){const a=n[i];Oe(a,e)&&(r=a[e])}return r}function EG(e,t){return Ve(e).reduce((n,r)=>(n.field.push(We(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function kG(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(ga(i,r))return;n.push(r)}),n}function SG(e,t){return ga(e,t)||!t?e:e?[...Ve(e),...Ve(t)].join(", "):t}function bG(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((xu(n)||nt(n))&&(xu(r)||nt(r)))return{explicit:e.explicit,value:SG(n,r)};if(xu(n)||nt(n))return{explicit:e.explicit,value:n};if(xu(r)||nt(r))return{explicit:e.explicit,value:r};if(!xu(n)&&!nt(n)&&!xu(r)&&!nt(r))return{explicit:e.explicit,value:kG(n,r)};throw new Error("It should never reach here")}function CF(e){return`Invalid specification ${Xt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const n2e='Autosize "fit" only works for single views and layered views.';function GR(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function YR(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function VR(e){return e?`Dropping "fit-${e}" because spec has discrete ${ea(e)}.`:'Dropping "fit" because spec has discrete size.'}function TF(e){return`Unknown field for ${e}. Cannot calculate view size.`}function qR(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function r2e(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function i2e(e){return`The "nearest" transform is not supported for ${e} marks.`}function AG(e){return`Selection not supported for ${e} yet.`}function a2e(e){return`Cannot find a selection named "${e}".`}const s2e="Scale bindings are currently only supported for scales with unbinned, continuous domains.",o2e="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",l2e="Legend bindings are only supported for selections over an individual field or encoding channel.";function u2e(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function c2e(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const f2e="The same selection must be used to override scale domains in a layered view.",d2e='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function h2e(e){return`Unknown repeated value "${e}".`}function XR(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const p2e="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",FF="Animation involving facet, layer, or concat is currently unsupported.";function g2e(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Le(e)}.`}function m2e(e,t,n,r){return`${e.length?"Multiple ":"No "}matching ${Le(t)} encoding found for selection ${Le(n.param)}. Using "field": ${Le(r)}.`}const x2e="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function y2e(e){return`Unrecognized parse "${e}".`}function KR(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const v2e="Attempt to add the same child twice.";function _2e(e){return`Ignoring an invalid transform: ${Xt(e)}.`}const w2e='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function JR(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function E2e(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Xt(t)} is overridden by a child projection ${Xt(n)}.`}const k2e="Arc marks uses theta channel rather than angle, replacing angle with theta.";function S2e(e){return`${e}Offset dropped because ${e} is continuous`}function b2e(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Xt(n)}}.`}function CG(e){return`Invalid field type "${e}".`}function A2e(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function C2e(e){return`Invalid aggregation operator "${e}".`}function TG(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function T2e(e){return`Position range does not support relative band size for ${e}.`}function R4(e,t){return`Dropping ${Xt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const F2e="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function Ew(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function O2e(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function D2e(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function N2e(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function M2e(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function nb(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function R2e(e){return`The ${e} for range marks cannot be an expression`}function I2e(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function $2e(e,t){return`Specified orient "${e}" overridden with "${t}".`}function L2e(e){return`Cannot use the scale property "${e}" with non-color channel.`}function P2e(e){return`Cannot use the relative band size with ${e} scale.`}function B2e(e){return`Using unaggregated domain with raw field has no effect (${Xt(e)}).`}function z2e(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function U2e(e){return`Unaggregated domain is currently unsupported for log scale (${Xt(e)}).`}function W2e(e){return`Cannot apply size to non-oriented mark "${e}".`}function H2e(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function j2e(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function FG(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function OG(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function G2e(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Xt(n)} and ${Xt(r)}). Using ${Xt(n)}.`}function Y2e(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Xt(n)} and ${Xt(r)}). Using the union of the two domains.`}function V2e(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function q2e(e){return`Dropping sort property ${Xt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const QR="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",X2e="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",K2e="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",J2e="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Q2e(e){return`Cannot stack "${e}" if there is already "${e}2".`}function Z2e(e){return`Stack is applied to a non-linear scale (${e}).`}function e_e(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function S2(e,t){return`Invalid ${e}: ${Xt(t)}.`}function t_e(e){return`Dropping day from datetime ${Xt(e)} as day cannot be combined with other units.`}function n_e(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function r_e(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function i_e(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function ZR(e){return`1D error band does not support ${e}.`}function DG(e){return`Channel ${e} is required for "binned" bin.`}function a_e(e){return`Channel ${e} should not be used with "binned" bin.`}function s_e(e){return`Domain for ${e} is required for threshold scale.`}const NG=Q2(k3);let Nf=NG;function o_e(e){return Nf=e,Nf}function l_e(){return Nf=NG,Nf}function OF(...e){Nf.error(...e)}function Re(...e){Nf.warn(...e)}function u_e(...e){Nf.debug(...e)}function r0(e){if(e&&Ge(e)){for(const t of NF)if(Oe(e,t))return!0}return!1}const MG=["january","february","march","april","may","june","july","august","september","october","november","december"],c_e=MG.map(e=>e.substr(0,3)),RG=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],f_e=RG.map(e=>e.substr(0,3));function d_e(e){if(hw(e)&&(e=+e),Ut(e))return e>4&&Re(S2("quarter",e)),e-1;throw new Error(S2("quarter",e))}function h_e(e){if(hw(e)&&(e=+e),Ut(e))return e-1;{const t=e.toLowerCase(),n=MG.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=c_e.indexOf(r);if(i!==-1)return i;throw new Error(S2("month",e))}}function p_e(e){if(hw(e)&&(e=+e),Ut(e))return e%7;{const t=e.toLowerCase(),n=RG.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=f_e.indexOf(r);if(i!==-1)return i;throw new Error(S2("day",e))}}function DF(e,t){const n=[];if(t&&e.day!==void 0&&Fe(e).length>1&&(Re(t_e(e)),e=gt(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?h_e(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?d_e(e.quarter):e.quarter;n.push(Ut(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?p_e(e.day):e.day;n.push(Ut(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Mf(e){const n=DF(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function g_e(e){const n=DF(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function m_e(e){const t=DF(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const IG={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},NF=Fe(IG);function x_e(e){return qe(IG,e)}function i0(e){return Ge(e)?e.binned:$G(e)}function $G(e){return e==null?void 0:e.startsWith("binned")}function MF(e){return e.startsWith("utc")}function y_e(e){return e.substring(3)}const v_e={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function kw(e){return NF.filter(t=>PG(e,t))}function LG(e){const t=kw(e);return t[t.length-1]}function PG(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function __e(e,t,{end:n}={end:!1}){const r=xF(t),i=MF(e)?"utc":"";function a(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const o={};for(const l of NF)PG(e,l)&&(o[l]=a(l),s=l);return n&&(o[s]+="+1"),g_e(o)}function BG(e){if(!e)return;const t=kw(e);return`timeUnitSpecifier(${Xt(t)}, ${Xt(v_e)})`}function w_e(e,t,n){if(!e)return;const r=BG(e);return`${n||MF(e)?"utc":"time"}Format(${t}, ${r})`}function _r(e){if(!e)return;let t;return Ye(e)?$G(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Ge(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),MF(t.unit)&&(t.utc=!0,t.unit=y_e(t.unit)),t}function E_e(e){const{utc:t,...n}=_r(e);return n.unit?(t?"utc":"")+Fe(n).map(r=>vn(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):`${t?"utc":""}timeunit${Fe(n).map(r=>vn(`_${r}_${n[r]}`)).join("")}`}function zG(e,t=n=>n){const n=_r(e),r=LG(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:a,part:s}=UG(r,n.step),o={...i,[s]:+i[s]+a};return`${t(Mf(o))} - ${t(Mf(i))}`}}const k_e={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function S_e(e){return qe(k_e,e)}function UG(e,t=1){if(S_e(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function b_e(e){return Oe(e,"param")}function RF(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function IF(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function $F(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function LF(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function PF(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function BF(e){if(e!=null&&e.field){if(ke(e.range)&&e.range.length===2)return!0;if(nt(e.range))return!0}return!1}function zF(e){return!!(e!=null&&e.field)&&(ke(e.oneOf)||ke(e.in))}function A_e(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function WG(e){return zF(e)||RF(e)||BF(e)||IF(e)||LF(e)||$F(e)||PF(e)}function Zs(e,t){return Mw(e,{timeUnit:t,wrapTime:!0})}function C_e(e,t){return e.map(n=>Zs(n,t))}function HG(e,t=!0){const{field:n}=e,r=_r(e.timeUnit),{unit:i,binned:a}=r||{},s=We(e,{expr:"datum"}),o=i?`time(${a?s:__e(i,n)})`:s;if(RF(e))return`${o}===${Zs(e.equal,i)}`;if(IF(e)){const l=e.lt;return`${o}<${Zs(l,i)}`}else if(LF(e)){const l=e.gt;return`${o}>${Zs(l,i)}`}else if($F(e)){const l=e.lte;return`${o}<=${Zs(l,i)}`}else if(PF(e)){const l=e.gte;return`${o}>=${Zs(l,i)}`}else{if(zF(e))return`indexof([${C_e(e.oneOf,i).join(",")}], ${o}) !== -1`;if(A_e(e))return Sw(o,e.valid);if(BF(e)){const{range:l}=Or(e),u=nt(l)?{signal:`${l.signal}[0]`}:l[0],c=nt(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return`inrange(${o}, [${Zs(u,i)}, ${Zs(c,i)}])`;const d=[];return u!==null&&d.push(`${o} >= ${Zs(u,i)}`),c!==null&&d.push(`${o} <= ${Zs(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Xt(e)}`)}function Sw(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function T_e(e){return WG(e)&&e.timeUnit?{...e,timeUnit:_r(e.timeUnit)}:e}const dm={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function F_e(e){return e==="quantitative"||e==="temporal"}function UF(e){return e==="ordinal"||e==="nominal"}const Rf=dm.quantitative,WF=dm.ordinal,Xd=dm.temporal,HF=dm.nominal,Th=dm.geojson;function O_e(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Rf:return"quantitative";case"t":case Xd:return"temporal";case"o":case WF:return"ordinal";case"n":case HF:return"nominal";case Th:return"geojson"}}const Nr={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},I4={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function D_e(e,t){const n=I4[e],r=I4[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const N_e={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function e7(e){return N_e[e]}const jG=new Set(["linear","log","pow","sqrt","symlog"]),GG=new Set([...jG,"time","utc"]);function YG(e){return jG.has(e)}const VG=new Set(["quantile","quantize","threshold"]),M_e=new Set([...GG,...VG,"sequential","identity"]),R_e=new Set(["ordinal","bin-ordinal","point","band"]);function Er(e){return R_e.has(e)}function Ms(e){return M_e.has(e)}function uo(e){return GG.has(e)}function Kd(e){return VG.has(e)}const I_e={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function $_e(e){return!Ye(e)&&Oe(e,"name")}function qG(e){return Oe(e,"param")}function L_e(e){return Oe(e,"unionWith")}function P_e(e){return Ge(e)&&"field"in e}const B_e={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:NMe,domain:MMe,range:RMe,rangeMax:IMe,rangeMin:$Me,scheme:LMe,...z_e}=B_e,U_e=Fe(z_e);function $4(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return uo(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return uo(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return uo(e);case"nice":return uo(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Ms(e)&&!At(["log","time","utc","threshold","quantile"],e)}}function XG(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return xd(e)?void 0:L2e(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function W_e(e,t){return At([WF,HF],t)?e===void 0||Er(e):t===Xd?At([Nr.TIME,Nr.UTC,void 0],e):t===Rf?YG(e)||Kd(e)||e===void 0:!0}function H_e(e,t,n=!1){if(!Po(e))return!1;switch(e){case _n:case Sr:case lc:case Ch:case es:case Us:return uo(t)||t==="band"?!0:t==="point"?!n:!1;case uc:return At(["linear","band"],t);case Rl:case dc:case Il:case cc:case fc:case Zf:return uo(t)||Kd(t)||At(["band","point","ordinal"],t);case Qi:case Io:case $o:return t!=="band";case hc:case Zi:return t==="ordinal"||Kd(t)}}function j_e(e){return Ge(e)&&"value"in e}const Ii={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},KG=Ii.arc,bw=Ii.area,Aw=Ii.bar,G_e=Ii.image,Cw=Ii.line,Tw=Ii.point,Y_e=Ii.rect,b2=Ii.rule,JG=Ii.text,jF=Ii.tick,V_e=Ii.trail,GF=Ii.circle,YF=Ii.square,QG=Ii.geoshape;function gc(e){return["line","area","trail"].includes(e)}function gg(e){return["rect","bar","image","arc","tick"].includes(e)}const q_e=new Set(Fe(Ii));function So(e){return Oe(e,"type")}const X_e=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],K_e=["fill","fillOpacity"],J_e=[...X_e,...K_e],Q_e={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},t7=Fe(Q_e),rb=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],Z_e={area:["line","point"],bar:rb,rect:rb,line:["point"],tick:["bandSize","thickness",...rb]},ewe={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},twe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},ZG=Fe(twe);function If(e){return Oe(e,"band")}const nwe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},rwe=5,VF={binSpacing:0,continuousBandSize:rwe,minBandSize:.25,timeUnitBandPosition:.5},iwe={...VF,binSpacing:1},awe={...VF,thickness:1};function swe(e){return So(e)?e.type:e}function eY(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function qF({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){var o,l;if(!r||!Ms(r)||i)return"always-valid";const a=eY(qt("invalid",e,t),{isPath:gc(e.type)});return((l=(o=t.scale)==null?void 0:o.invalid)==null?void 0:l[n])!==void 0?"show":a}function owe(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function tY({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,a=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:a})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:a})`}}function nY({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:a}){var c;const s=n==null?void 0:n.get("type"),o=Is(t),l=_w(o==null?void 0:o.aggregate),u=qF({scaleChannel:e,markDef:i,config:a,scaleType:s,isCountAggregate:l});if(o&&u==="show"){const d=((c=a.scale.invalid)==null?void 0:c[e])??"zero-or-min";return{test:Sw(We(o,{expr:"datum"}),!1),...lwe(d,n,r)}}}function lwe(e,t,n){if(j_e(e)){const{value:r}=e;return nt(r)?{signal:r.signal}:{value:r}}return tY({scale:t,scaleName:n,mode:"zeroOrMin"})}function XF(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:a,config:s}=e,o=e0(t),l=KF(e),u=nY({scaleChannel:o,channelDef:n,scale:i,scaleName:a,markDef:r,config:s});return u!==void 0?[u,l]:l}function uwe(e){const{datum:t}=e;return r0(t)?Mf(t):`${Xt(t)}`}function ff(e,t,n,r){const i={};if(t&&(i.scale=t),Bo(e)){const{datum:a}=e;r0(a)?i.signal=Mf(a):nt(a)?i.signal=a.signal:fm(a)?i.signal=a.expr:i.value=a}else i.field=We(e,n);if(r){const{offset:a,band:s}=r;a&&(i.offset=a),s&&(i.band=s)}return i}function A2({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:a="end",bandPosition:s=.5}){const o=!nt(s)&&0<s&&s<1?"datum":void 0,l=We(t,{expr:o,suffix:i}),u=n!==void 0?We(n,{expr:o}):We(t,{suffix:a,expr:o}),c={};if(s===0||s===1){c.scale=e;const d=s===0?l:u;c.field=d}else{const d=nt(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function cwe({scaleName:e,fieldDef:t}){const n=We(t,{expr:"datum"}),r=We(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function KF({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:s,stack:o,offset:l,defaultRef:u,bandPosition:c}){if(t){if(xt(t)){const d=s==null?void 0:s.get("type");if(Ni(t)){c??(c=Ku({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:p,timeUnit:g,type:m}=t;if(un(p)||c&&g&&m===Xd)return o!=null&&o.impute?ff(t,a,{binSuffix:"mid"},{offset:l}):c&&!Er(d)?A2({scaleName:a,fieldOrDatumDef:t,bandPosition:c,offset:l}):ff(t,a,xm(t,e)?{binSuffix:"range"}:{},{offset:l});if(Fr(p)){if(Me(n))return A2({scaleName:a,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});Re(DG(e===_n?zs:Ro))}}return ff(t,a,Er(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if(Rs(t)){const d=t.value,p=l?{offset:l}:{};return{...M1(e,d),...p}}}return vt(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function M1(e,t){return At(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:At(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:pn(t)}function $f(e){return e&&e!=="number"&&e!=="time"}function rY(e,t,n){return`${e}(${t}${n?`, ${Xt(n)}`:""})`}function JF({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a}){var u;if($f(n))return Ss({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:a});const s=iY(e,r,i),o=Jd(e);if(t===void 0&&n===void 0&&a.customFormatTypes){if(o==="quantitative"){if(i&&a.normalizedNumberFormatType)return Ss({fieldOrDatumDef:e,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:r,config:a});if(a.numberFormatType)return Ss({fieldOrDatumDef:e,format:a.numberFormat,formatType:a.numberFormatType,expr:r,config:a})}if(o==="temporal"&&a.timeFormatType&&Me(e)&&e.timeUnit===void 0)return Ss({fieldOrDatumDef:e,format:a.timeFormat,formatType:a.timeFormatType,expr:r,config:a})}function l(c){return Me(c)?_r(c.timeUnit)||{}:{unit:void 0,utc:void 0}}if(Zd(e)){const{unit:c,utc:d}=l(e),p=dwe({field:s,timeUnit:c,format:t,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:d||a0(e)&&((u=e.scale)==null?void 0:u.type)===Nr.UTC});return p?{signal:p}:void 0}if(t=L4({type:o,specifiedFormat:t,config:a,normalizeStack:i}),Me(e)&&un(e.bin)){const c=We(e,{expr:r,binSuffix:"end"});return{signal:hm(s,c,t,n,a)}}else return t||Jd(e)==="quantitative"?{signal:`${oY(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function iY(e,t,n){return Me(e)?n?`${We(e,{expr:t,suffix:"end"})}-${We(e,{expr:t,suffix:"start"})}`:We(e,{expr:t}):uwe(e)}function Ss({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a,field:s}){if(s??(s=iY(e,r,i)),s!=="datum.value"&&Me(e)&&un(e.bin)){const o=We(e,{expr:r,binSuffix:"end"});return{signal:hm(s,o,t,n,a)}}return{signal:rY(n,s,t)}}function aY(e,t,n,r,i,a){var s;if(!(Ye(r)&&$f(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Jd(e)==="quantitative"&&(i.normalizedNumberFormatType&&Qd(e)&&e.stack==="normalize"||i.numberFormatType))){if(Qd(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return L4({type:"quantitative",config:i,normalizeStack:!0});if(Zd(e)){const o=Me(e)?(s=_r(e.timeUnit))==null?void 0:s.unit:void 0;return o===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:fwe({specifiedFormat:n,timeUnit:o,config:i,omitTimeFormatConfig:a})}return L4({type:t,specifiedFormat:n,config:i})}}function sY(e,t,n){var r;if(e&&(nt(e)||e==="number"||e==="time"))return e;if(Zd(t)&&n!=="time"&&n!=="utc")return Me(t)&&((r=_r(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function L4({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Ye(t))return t;if(e===Rf)return r?n.normalizedNumberFormat:n.numberFormat}function fwe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:BG(t)}:r?void 0:n.timeFormat)}function oY(e,t){return`format(${e}, "${t||""}")`}function n7(e,t,n,r){return $f(n)?rY(n,e,t):oY(e,(Ye(t)?t:void 0)??r.numberFormat)}function hm(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return hm(e,t,i.numberFormat,i.numberFormatType,i);const a=n7(e,n,r,i),s=n7(t,n,r,i);return`${Sw(e,!1)} ? "null" : ${a} + "${Zve}" + ${s}`}function dwe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:a}){return!t||n?!t&&r?`${r}(${e}, ${Xt(n)})`:(n=Ye(n)?n:i,`${a?"utc":"time"}Format(${e}, ${Xt(n)})`):w_e(t,e,a)}const Fw="min",hwe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function r7(e){return qe(hwe,e)}function pwe(e){return Oe(e,"encoding")}function yl(e){return e&&(e.op==="count"||Oe(e,"field"))}function lY(e){return e&&ke(e)}function pm(e){return Oe(e,"row")||Oe(e,"column")}function QF(e){return Oe(e,"header")}function Ow(e){return Oe(e,"facet")}function gwe(e){return Oe(e,"param")}function mwe(e){return!Ye(e)&&Oe(e,"repeat")}function i7(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function ZF(e){return Oe(e,"sort")}function Ku({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(xt(e)&&e.bandPosition!==void 0)return e.bandPosition;if(Me(e)){const{timeUnit:i,bin:a}=e;if(i&&!t)return ko("timeUnitBandPosition",n,r);if(un(a))return .5}}function uY({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:a,useVlSizeChannel:s}){var u,c,d;const o=ea(e),l=qt(s?"size":o,r,i,{vgChannel:o});if(l!==void 0)return l;if(Me(t)){const{timeUnit:p,bin:g}=t;if(p&&!n)return{band:ko("timeUnitBandSize",r,i)};if(un(g)&&!Er(a))return{band:1}}if(gg(r.type))return a?Er(a)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(d=i[r.type])==null?void 0:d.discreteBandSize}function cY(e,t,n,r){return un(e.bin)||e.timeUnit&&Ni(e)&&e.type==="temporal"?Ku({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function fY(e){return Oe(e,"sort")&&!Oe(e,"field")}function gm(e){return Oe(e,"condition")}function Dw(e){const t=e==null?void 0:e.condition;return!!t&&!ke(t)&&Me(t)}function mm(e){const t=e==null?void 0:e.condition;return!!t&&!ke(t)&&xt(t)}function xwe(e){const t=e==null?void 0:e.condition;return!!t&&(ke(t)||Rs(t))}function Me(e){return Oe(e,"field")||(e==null?void 0:e.aggregate)==="count"}function Jd(e){return e==null?void 0:e.type}function Bo(e){return Oe(e,"datum")}function Tu(e){return Ni(e)&&!T2(e)||C2(e)}function a7(e){return Ni(e)&&e.type==="quantitative"&&!e.bin||C2(e)}function C2(e){return Bo(e)&&Ut(e.datum)}function xt(e){return Me(e)||Bo(e)}function Ni(e){return e&&(Oe(e,"field")||e.aggregate==="count")&&Oe(e,"type")}function Rs(e){return Oe(e,"value")}function a0(e){return Oe(e,"scale")||Oe(e,"sort")}function Qd(e){return Oe(e,"axis")||Oe(e,"stack")||Oe(e,"impute")}function dY(e){return Oe(e,"legend")}function hY(e){return Oe(e,"format")||Oe(e,"formatType")}function ywe(e){return va(e,["legend","axis","header","scale"])}function vwe(e){return Oe(e,"op")}function We(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,a="";if(wwe(e))n=rG("count");else{let s;if(!t.nofn)if(vwe(e))s=e.op;else{const{bin:o,aggregate:l,timeUnit:u}=e;un(o)?(s=xG(o),i=(t.binSuffix??"")+(t.suffix??"")):l?pc(l)?(a=`["${n}"]`,n=`argmax_${l.argmax}`):Al(l)?(a=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!i0(u)&&(s=E_e(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?Ah(n):t.expr?Zj(n,t.expr)+a:Ka(n)+a}function T2(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Me(e)&&!!e.bin;case"temporal":return!1}throw new Error(CG(e.type))}function _we(e){var t;return a0(e)&&Kd((t=e.scale)==null?void 0:t.type)}function wwe(e){return e.aggregate==="count"}function Ewe(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:a}=e;if(a==="count")return t.countTitle;if(un(r))return`${n} (binned)`;if(i&&!i0(i)){const o=(s=_r(i))==null?void 0:s.unit;if(o)return`${n} (${kw(o).join("-")})`}else if(a)return pc(a)?`${n} for max ${a.argmax}`:Al(a)?`${n} for min ${a.argmin}`:`${om(a)} of ${n}`;return n}function kwe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(pc(t))return`${i} for argmax(${t.argmax})`;if(Al(t))return`${i} for argmin(${t.argmin})`;const a=r&&!i0(r)?_r(r):void 0,s=t||(a==null?void 0:a.unit)||(a==null?void 0:a.maxbins)&&"timeunit"||un(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const pY=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return kwe(e);default:return Ewe(e,t)}};let gY=pY;function mY(e){gY=e}function Swe(){mY(pY)}function yd(e,t,{allowDisabling:n,includeDefault:r=!0}){var o;const i=(o=e8(e))==null?void 0:o.title;if(!Me(e))return i??e.title;const a=e,s=r?t8(a,t):void 0;return n?zn(i,a.title,s):i??a.title??s}function e8(e){if(Qd(e)&&e.axis)return e.axis;if(dY(e)&&e.legend)return e.legend;if(QF(e)&&e.header)return e.header}function t8(e,t){return gY(e,t)}function F2(e){if(hY(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=e8(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function bwe(e,t){var a;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(ZF(e)&&ke(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!pc(n)&&!Al(n))return"quantitative";if(a0(e)&&((a=e.scale)!=null&&a.type))switch(I4[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Is(e){if(Me(e))return e;if(Dw(e))return e.condition}function rr(e){if(xt(e))return e;if(mm(e))return e.condition}function xY(e,t,n,r={}){if(Ye(e)||Ut(e)||tc(e)){const i=Ye(e)?"string":Ut(e)?"number":"boolean";return Re(b2e(t,i,e)),{value:e}}return xt(e)?O2(e,t,n,r):mm(e)?{...e,condition:O2(e.condition,t,n,r)}:e}function O2(e,t,n,r){if(hY(e)){const{format:i,formatType:a,...s}=e;if($f(a)&&!n.customFormatTypes)return Re(JR(t)),O2(s,t,n,r)}else{const i=Qd(e)?"axis":dY(e)?"legend":QF(e)?"header":null;if(i&&e[i]){const{format:a,formatType:s,...o}=e[i];if($f(s)&&!n.customFormatTypes)return Re(JR(t)),O2({...e,[i]:o},t,n,r)}}return Me(e)?n8(e,t,r):Awe(e)}function Awe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Ut(n)?"quantitative":Ye(n)?"nominal":r0(n)?"temporal":void 0,{...e,type:t}}function n8(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:a,field:s}=e,o={...e};if(!n&&r&&!AF(r)&&!pc(r)&&!Al(r)&&(Re(C2e(r)),delete o.aggregate),i&&(o.timeUnit=_r(i)),s&&(o.field=`${s}`),un(a)&&(o.bin=Nw(a,t)),Fr(a)&&!Un(t)&&Re(a_e(t)),Ni(o)){const{type:l}=o,u=O_e(l);l!==u&&(o.type=u),l!=="quantitative"&&_w(r)&&(Re(A2e(l,r)),o.type="quantitative")}else if(!fG(t)){const l=bwe(o,t);o.type=l}if(Ni(o)){const{compatible:l,warning:u}=Cwe(o,t)||{};l===!1&&Re(u)}if(ZF(o)&&Ye(o.sort)){const{sort:l}=o;if(r7(l))return{...o,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&r7(u))return{...o,sort:{encoding:u,order:"descending"}}}if(QF(o)){const{header:l}=o;if(l){const{orient:u,...c}=l;if(u)return{...o,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return o}function Nw(e,t){return tc(e)?{maxbins:WR(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:WR(t)}:e}const X0={compatible:!0};function Cwe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case ml:case xl:case pw:return T2(e)?X0:{compatible:!1,warning:D2e(t)};case _n:case Sr:case lc:case Ch:case Qi:case Io:case $o:case lm:case um:case gw:case Df:case mw:case xw:case Zf:case es:case Us:case yw:return X0;case Hs:case Ja:case Ws:case js:return n!==Rf?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:X0;case Il:case cc:case fc:case dc:case Rl:case Ml:case Nl:case zs:case Ro:case uc:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:X0;case Zi:case hc:return!T2(e)&&!_we(e)?{compatible:!1,warning:N2e(t)}:X0;case qd:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:X0}}function Zd(e){const{formatType:t}=F2(e);return t==="time"||!t&&Twe(e)}function Twe(e){return e&&(e.type==="temporal"||Me(e)&&!!e.timeUnit)}function Mw(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const a=t&&((l=_r(t))==null?void 0:l.unit);let s=a||n==="temporal",o;return fm(e)?o=e.expr:nt(e)?o=e.signal:r0(e)?(s=!0,o=Mf(e)):(Ye(e)||Ut(e))&&s&&(o=`datetime(${Xt(e)})`,x_e(a)&&(Ut(e)&&e<1e4||Ye(e)&&isNaN(Date.parse(e)))&&(o=Mf({[a]:e}))),o?r&&s?`time(${o})`:o:i?void 0:Xt(e)}function yY(e,t){const{type:n}=e;return t.map(r=>{const i=Me(e)&&!i0(e.timeUnit)?e.timeUnit:void 0,a=Mw(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return a!==void 0?{signal:a}:r})}function xm(e,t){return un(e.bin)?Po(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const s7={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function ym(e){return e==null?void 0:e.condition}const vY=["domain","grid","labels","ticks","title"],Fwe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},_Y={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Owe={..._Y,style:1,labelExpr:1,encoding:1};function o7(e){return qe(Owe,e)}const Dwe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},wY=Fe(Dwe);function Ll(e){return Oe(e,"mark")}class Rw{constructor(t,n){be(this,"name");be(this,"run");this.name=t,this.run=n}hasMatchingType(t){return Ll(t)?swe(t.mark)===this.name:!1}}function df(e,t){const n=e==null?void 0:e[t];return n?ke(n)?Yd(n,r=>!!r.field):Me(n)||Dw(n):!1}function EY(e,t){const n=e==null?void 0:e[t];return n?ke(n)?Yd(n,r=>!!r.field):Me(n)||Bo(n)||mm(n):!1}function kY(e,t){if(Un(t)){const n=e[t];if((Me(n)||Bo(n))&&(UF(n.type)||Me(n)&&n.timeUnit)){const r=wF(t);return EY(e,r)}}return!1}function SY(e){return Yd(Ave,t=>{if(df(e,t)){const n=e[t];if(ke(n))return Yd(n,r=>!!r.aggregate);{const r=Is(n);return r&&!!r.aggregate}}return!1})}function bY(e,t){const n=[],r=[],i=[],a=[],s={};return r8(e,(o,l)=>{if(Me(o)){const{field:u,aggregate:c,bin:d,timeUnit:p,...g}=o;if(c||p||d){const m=e8(o),x=m==null?void 0:m.title;let v=We(o,{forAs:!0});const _={...x?[]:{title:yd(o,t,{allowDisabling:!0})},...g,field:v};if(c){let E;if(pc(c)?(E="argmax",v=We({op:"argmax",field:c.argmax},{forAs:!0}),_.field=`${v}.${u}`):Al(c)?(E="argmin",v=We({op:"argmin",field:c.argmin},{forAs:!0}),_.field=`${v}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(E=c),E){const k={op:E,as:v};u&&(k.field=u),a.push(k)}}else if(n.push(v),Ni(o)&&un(d)){if(r.push({bin:d,field:u,as:v}),n.push(We(o,{binSuffix:"end"})),xm(o,l)&&n.push(We(o,{binSuffix:"range"})),Un(l)){const E={field:`${v}_end`};s[`${l}2`]=E}_.bin="binned",fG(l)||(_.type=Rf)}else if(p&&!i0(p)){i.push({timeUnit:p,field:u,as:v});const E=Ni(o)&&o.type!==Xd&&"time";E&&(l===lm||l===Df?_.formatType=E:Lve(l)?_.legend={formatType:E,..._.legend}:Un(l)&&(_.axis={formatType:E,..._.axis}))}s[l]=_}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:s}}function Nwe(e,t,n){const r=Bve(t,n);if(r){if(r==="binned"){const i=e[t===zs?_n:Sr];return!!(Me(i)&&Me(e[t])&&Fr(i.bin))}}else return!1;return!0}function Mwe(e,t,n,r){const i={};for(const a of Fe(e))cG(a)||Re(O2e(a));for(let a of Nve){if(!e[a])continue;const s=e[a];if(cm(a)){const o=Dve(a),l=i[o];if(Me(l)&&F_e(l.type)&&Me(s)&&!l.timeUnit){Re(S2e(o));continue}}if(a==="angle"&&t==="arc"&&!e.theta&&(Re(k2e),a=es),!Nwe(e,a,t)){Re(Ew(a,t));continue}if(a===Rl&&t==="line"){const o=Is(e[a]);if(o!=null&&o.aggregate){Re(F2e);continue}}if(a===Qi&&(n?"fill"in e:"stroke"in e)){Re(TG("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(a===um||a===qd&&!ke(s)&&!Rs(s)||a===Df&&ke(s)){if(s){if(a===qd){const o=e[a];if(fY(o)){i[a]=o;continue}}i[a]=Ve(s).reduce((o,l)=>(Me(l)?o.push(n8(l,a)):Re(R4(l,a)),o),[])}}else{if(a===Df&&s===null)i[a]=null;else if(!Me(s)&&!Bo(s)&&!Rs(s)&&!gm(s)&&!nt(s)){Re(R4(s,a));continue}i[a]=xY(s,a,r)}}return i}function Iw(e,t){const n={};for(const r of Fe(e)){const i=xY(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function Rwe(e){const t=[];for(const n of Fe(e))if(df(e,n)){const r=e[n],i=Ve(r);for(const a of i)Me(a)?t.push(a):Dw(a)&&t.push(a.condition)}return t}function r8(e,t,n){if(e)for(const r of Fe(e)){const i=e[r];if(ke(i))for(const a of i)t.call(n,a,r);else t.call(n,i,r)}}function Iwe(e,t,n,r){return e?Fe(e).reduce((i,a)=>{const s=e[a];return ke(s)?s.reduce((o,l)=>t.call(r,o,l,a),i):t.call(r,i,s,a)},n):n}function AY(e,t){return Fe(t).reduce((n,r)=>{switch(r){case _n:case Sr:case mw:case yw:case xw:case zs:case Ro:case lc:case Ch:case es:case Ml:case Us:case Nl:case uc:case Ws:case Hs:case js:case Ja:case lm:case Zi:case Zf:case Df:return n;case qd:if(e==="line"||e==="trail")return n;case um:case gw:{const i=t[r];if(ke(i)||Me(i))for(const a of Ve(i))a.aggregate||n.push(We(a,{}));return n}case Rl:if(e==="trail")return n;case Qi:case Io:case $o:case Il:case cc:case fc:case hc:case dc:{const i=Is(t[r]);return i&&!i.aggregate&&n.push(We(i,{})),n}}},[])}function $we(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(ke(t)){for(const a of t)a.aggregate?(r||(r=[]),r.push(a)):(i||(i=[]),i.push(a));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return ke(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function P4(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:o})=>{const l=r?` of ${i8(t)}`:"";return{field:s+t.field,type:t.type,title:nt(o)?{signal:`${o}"${escape(l)}"`}:o+l}}),a=Rwe(n).map(ywe);return{tooltip:[...i,...lo(a,Tt)]}}function i8(e){const{title:t,field:n}=e;return zn(t,n)}function a8(e,t,n,r,i){const{scale:a,axis:s}=n;return({partName:o,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const p=i8(n);return CY(e,o,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...p!==void 0?{title:p}:{},...a!==void 0?{scale:a}:{},...s!==void 0?{axis:s}:{}},...Ye(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function CY(e,t,n,r){const{clip:i,color:a,opacity:s}=e,o=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...a?{color:a}:{},...s?{opacity:s}:{},...So(r.mark)?r.mark:{type:r.mark},style:`${o}-${String(t)}`,...tc(e[t])?{}:e[t]}}]:[]}function TY(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",a=r[i],s=r[`${i}2`],o=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:hy(a,n),continuousAxisChannelDef2:hy(s,n),continuousAxisChannelDefError:hy(o,n),continuousAxisChannelDefError2:hy(l,n),continuousAxis:i}}function hy(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&Re(i_e(n,t)),r}else return e}function FY(e,t){const{mark:n,encoding:r}=e,{x:i,y:a}=r;if(So(n)&&n.orient)return n.orient;if(Tu(i)){if(Tu(a)){const s=Me(i)&&i.aggregate,o=Me(a)&&a.aggregate;if(!s&&o===t)return"vertical";if(!o&&s===t)return"horizontal";if(s===t&&o===t)throw new Error("Both x and y cannot have aggregate");return Zd(a)&&!Zd(i)?"horizontal":"vertical"}return"horizontal"}else{if(Tu(a))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const D2="boxplot",Lwe=["box","median","outliers","rule","ticks"],Pwe=new Rw(D2,DY);function OY(e){return Ut(e)?"tukey":e}function DY(e,{config:t}){e={...e,encoding:Iw(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:a,...s}=e,o=So(n)?n:{type:n};i&&Re(AG("boxplot"));const l=o.extent??t.boxplot.extent,u=qt("size",o,t),c=o.invalid,d=OY(l),{bins:p,timeUnits:g,transform:m,continuousAxisChannelDef:x,continuousAxis:v,groupby:_,aggregate:E,encodingWithoutContinuousAxis:k,ticksOrient:A,boxOrient:T,customTooltipWithoutAggregatedField:D}=Bwe(e,l,t),b=Ah(x.field),{color:F,size:C,...N}=k,R=Ae=>a8(o,v,x,Ae,t.boxplot),L=R(N),j=R(k),q=(Ge(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",U=R({...N,...C?{size:C}:{},color:{condition:{test:`${Jt(`lower_box_${x.field}`)} >= ${Jt(`upper_box_${x.field}`)}`,...F||{value:q}}}}),K=P4([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],x,k),ee={type:"tick",color:"black",opacity:1,orient:A,invalid:c,aria:!1},ne=d==="min-max"?K:P4([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],x,k),z=[...L({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:ne}),...L({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:ne}),...L({partName:"ticks",mark:ee,positionPrefix:"lower_whisker",extraEncoding:ne}),...L({partName:"ticks",mark:ee,positionPrefix:"upper_whisker",extraEncoding:ne})],ae=[...d!=="tukey"?z:[],...j({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:T,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:K}),...U({partName:"median",mark:{type:"tick",invalid:c,...Ge(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:A,aria:!1},positionPrefix:"mid_box",extraEncoding:K})];if(d==="min-max")return{...s,transform:(s.transform??[]).concat(m),layer:ae};const W=Jt(`lower_box_${x.field}`),M=Jt(`upper_box_${x.field}`),Y=`(${M} - ${W})`,Q=`${W} - ${l} * ${Y}`,V=`${M} + ${l} * ${Y}`,le=Jt(x.field),we={joinaggregate:NY(x.field),groupby:_},xe={transform:[{filter:`(${Q} <= ${le}) && (${le} <= ${V})`},{aggregate:[{op:"min",field:x.field,as:`lower_whisker_${b}`},{op:"max",field:x.field,as:`upper_whisker_${b}`},{op:"min",field:`lower_box_${x.field}`,as:`lower_box_${b}`},{op:"max",field:`upper_box_${x.field}`,as:`upper_box_${b}`},...E],groupby:_}],layer:z},{tooltip:ie,...ue}=N,{scale:Se,axis:B}=x,Ze=i8(x),Pe=CY(o,"outliers",t.boxplot,{transform:[{filter:`(${le} < ${Q}) || (${le} > ${V})`}],mark:"point",encoding:{[v]:{field:x.field,type:x.type,...Ze!==void 0?{title:Ze}:{},...Se!==void 0?{scale:Se}:{},...B!==void 0?{axis:B}:{}},...ue,...F?{color:F}:{},...D?{tooltip:D}:{}}})[0];let je;const Ie=[...p,...g,we];return Pe?je={transform:Ie,layer:[Pe,xe]}:(je=xe,je.transform.unshift(...Ie)),{...s,layer:[je,{transform:m,layer:ae}]}}function NY(e){const t=Ah(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function Bwe(e,t,n){const r=FY(e,D2),{continuousAxisChannelDef:i,continuousAxis:a}=TY(e,r,D2),s=i.field,o=Ah(s),l=OY(t),u=[...NY(s),{op:"median",field:s,as:`mid_box_${o}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+o},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+o}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${Jt(`upper_box_${o}`)} - ${Jt(`lower_box_${o}`)}`,as:`iqr_${o}`},{calculate:`min(${Jt(`upper_box_${o}`)} + ${Jt(`iqr_${o}`)} * ${t}, ${Jt(`max_${o}`)})`,as:`upper_whisker_${o}`},{calculate:`max(${Jt(`lower_box_${o}`)} - ${Jt(`iqr_${o}`)} * ${t}, ${Jt(`min_${o}`)})`,as:`lower_whisker_${o}`}],{[a]:d,...p}=e.encoding,{customTooltipWithoutAggregatedField:g,filteredEncoding:m}=$we(p),{bins:x,timeUnits:v,aggregate:_,groupby:E,encoding:k}=bY(m,n),A=r==="vertical"?"horizontal":"vertical",T=r,D=[...x,...v,{aggregate:[..._,...u],groupby:E},...c];return{bins:x,timeUnits:v,transform:D,groupby:E,aggregate:_,continuousAxisChannelDef:i,continuousAxis:a,encodingWithoutContinuousAxis:k,ticksOrient:A,boxOrient:T,customTooltipWithoutAggregatedField:g}}const s8="errorbar",zwe=["ticks","rule"],Uwe=new Rw(s8,MY);function MY(e,{config:t}){e={...e,encoding:Iw(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,ticksOrient:s,markDef:o,outerSpec:l,tooltipEncoding:u}=RY(e,s8,t);delete a.size;const c=a8(o,i,r,a,t.errorbar),d=o.thickness,p=o.size,g={type:"tick",orient:s,aria:!1,...d!==void 0?{thickness:d}:{},...p!==void 0?{size:p}:{}},m=[...c({partName:"ticks",mark:g,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:g,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...m.length>1?{layer:m}:{...m[0]}}}function Wwe(e,t){const{encoding:n}=e;if(Hwe(n))return{orient:FY(e,t),inputType:"raw"};const r=jwe(n),i=Gwe(n),a=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const o=n.x2,l=n.y2;if(xt(o)&&xt(l))throw new Error(`${t} cannot have both x2 and y2`);if(xt(o)){if(Tu(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(xt(l)){if(Tu(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const o=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(xt(l)&&!xt(o))throw new Error(`${t} cannot have xError2 without xError`);if(xt(c)&&!xt(u))throw new Error(`${t} cannot have yError2 without yError`);if(xt(o)&&xt(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(xt(o)){if(Tu(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(xt(u)){if(Tu(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Hwe(e){return(xt(e.x)||xt(e.y))&&!xt(e.x2)&&!xt(e.y2)&&!xt(e.xError)&&!xt(e.xError2)&&!xt(e.yError)&&!xt(e.yError2)}function jwe(e){return xt(e.x2)||xt(e.y2)}function Gwe(e){return xt(e.xError)||xt(e.xError2)||xt(e.yError)||xt(e.yError2)}function RY(e,t,n){const{mark:r,encoding:i,params:a,projection:s,...o}=e,l=So(r)?r:{type:r};a&&Re(AG(t));const{orient:u,inputType:c}=Wwe(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:p,continuousAxisChannelDefError:g,continuousAxisChannelDefError2:m,continuousAxis:x}=TY(e,u,t),{errorBarSpecificAggregate:v,postAggregateCalculates:_,tooltipSummary:E,tooltipTitleWithFieldName:k}=Ywe(l,d,p,g,m,c,t,n),{[x]:A,[x==="x"?"x2":"y2"]:T,[x==="x"?"xError":"yError"]:D,[x==="x"?"xError2":"yError2"]:b,...F}=i,{bins:C,timeUnits:N,aggregate:R,groupby:L,encoding:j}=bY(F,n),q=[...R,...v],U=c!=="raw"?[]:L,K=P4(E,d,j,k);return{transform:[...o.transform??[],...C,...N,...q.length===0?[]:[{aggregate:q,groupby:U}],..._],groupby:U,continuousAxisChannelDef:d,continuousAxis:x,encodingWithoutContinuousAxis:j,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:o,tooltipEncoding:K}}function Ywe(e,t,n,r,i,a,s,o){let l=[],u=[];const c=t.field;let d,p=!1;if(a==="raw"){const g=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":o.errorbar.center,m=e.extent?e.extent:g==="mean"?"stderr":"iqr";if(g==="median"!=(m==="iqr")&&Re(r_e(g,m,s)),m==="stderr"||m==="stdev")l=[{op:m,field:c,as:`extent_${c}`},{op:g,field:c,as:`center_${c}`}],u=[{calculate:`${Jt(`center_${c}`)} + ${Jt(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${Jt(`center_${c}`)} - ${Jt(`extent_${c}`)}`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:om(g)},{fieldPrefix:"upper_",titlePrefix:l7(g,m,"+")},{fieldPrefix:"lower_",titlePrefix:l7(g,m,"-")}],p=!0;else{let x,v,_;m==="ci"?(x="mean",v="ci0",_="ci1"):(x="median",v="q1",_="q3"),l=[{op:v,field:c,as:`lower_${c}`},{op:_,field:c,as:`upper_${c}`},{op:x,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:yd({field:c,aggregate:_,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:yd({field:c,aggregate:v,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:yd({field:c,aggregate:x,type:"quantitative"},o,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Re(n_e(e.center,e.extent)),a==="aggregated-upper-lower"?(d=[],u=[{calculate:Jt(n.field),as:`upper_${c}`},{calculate:Jt(c),as:`lower_${c}`}]):a==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${Jt(c)} + ${Jt(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${Jt(c)} + ${Jt(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${Jt(c)} - ${Jt(r.field)}`,as:`lower_${c}`}));for(const g of u)d.push({fieldPrefix:g.as.substring(0,6),titlePrefix:Of(Of(g.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:p}}function l7(e,t,n){return`${om(e)} ${n} ${t}`}const o8="errorband",Vwe=["band","borders"],qwe=new Rw(o8,IY);function IY(e,{config:t}){e={...e,encoding:Iw(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,markDef:s,outerSpec:o,tooltipEncoding:l}=RY(e,o8,t),u=s,c=a8(u,i,r,a,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let p={type:d?"area":"rect"},g={type:d?"line":"rule"};const m={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(p={...p,...m,ariaRoleDescription:"errorband"},g={...g,...m,aria:!1}):u.interpolate?Re(ZR("interpolate")):u.tension&&Re(ZR("tension")),{...o,transform:n,layer:[...c({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:g,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:g,positionPrefix:"upper",extraEncoding:l})]}}const $Y={};function l8(e,t,n){const r=new Rw(e,t);$Y[e]={normalizer:r,parts:n}}function Xwe(){return Fe($Y)}l8(D2,DY,Lwe);l8(s8,MY,zwe);l8(o8,IY,Vwe);const Kwe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],LY={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},PY={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Jwe=Fe(LY),Qwe=Fe(PY),Zwe={header:1,headerRow:1,headerColumn:1,headerFacet:1},BY=Fe(Zwe),zY=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],eEe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},tEe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},$s="_vgsid_",nEe={point:{on:"click",fields:[$s],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function u8(e){return e==="legend"||!!(e!=null&&e.legend)}function ib(e){return u8(e)&&Ge(e)}function c8(e){return!!(e!=null&&e.select)}function UY(e){const t=[];for(const n of e||[]){if(c8(n))continue;const{expr:r,bind:i,...a}=n;if(i&&r){const s={...a,bind:i,init:r};t.push(s)}else{const s={...a,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function rEe(e){return $w(e)||d8(e)||f8(e)}function f8(e){return Oe(e,"concat")}function $w(e){return Oe(e,"vconcat")}function d8(e){return Oe(e,"hconcat")}function WY({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function bo(e){return Oe(e,"step")}function u7(e){return Oe(e,"view")||Oe(e,"width")||Oe(e,"height")}const c7=20,iEe={align:1,bounds:1,center:1,columns:1,spacing:1},aEe=Fe(iEe);function sEe(e,t,n){const r=n[t],i={},{spacing:a,columns:s}=r;a!==void 0&&(i.spacing=a),s!==void 0&&(Ow(e)&&!pm(e.facet)||f8(e))&&(i.columns=s),$w(e)&&(i.columns=1);for(const o of aEe)if(e[o]!==void 0)if(o==="spacing"){const l=e[o];i[o]=Ut(l)?l:{row:l.row??a,column:l.column??a}}else i[o]=e[o];return i}function B4(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function z4(e,t){const n=N2(e,t);return bo(n)?n.step:HY}function N2(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return zn(n,{step:e.step})}const HY=20,oEe={continuousWidth:300,continuousHeight:300,step:HY},lEe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:oEe,mark:ewe,arc:{},area:{},bar:iwe,circle:{},geoshape:{},image:{},line:{},point:{},rect:VF,rule:{color:"black"},square:{},text:{color:"black"},tick:awe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:I_e,projection:{},legend:eEe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:nEe,style:{},title:{},facet:{spacing:c7},concat:{spacing:c7},normalizedNumberFormat:".0%"},el=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],f7={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},d7={blue:el[0],orange:el[1],red:el[2],teal:el[3],green:el[4],yellow:el[5],purple:el[6],pink:el[7],brown:el[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function uEe(e={}){return{signals:[{name:"color",value:Ge(e)?{...d7,...e}:d7}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function cEe(e){return{signals:[{name:"fontSize",value:Ge(e)?{...f7,...e}:f7}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function fEe(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function jY(e){const t=Fe(e||{}),n={};for(const r of t){const i=e[r];n[r]=ym(i)?vG(i):da(i)}return n}function dEe(e){const t=Fe(e),n={};for(const r of t)n[r]=jY(e[r]);return n}const hEe=[...ZG,...wY,...BY,"background","padding","legend","lineBreak","scale","style","title","view"];function GY(e={}){const{color:t,font:n,fontSize:r,selection:i,...a}=e,s=uh({},gt(lEe),n?fEe(n):{},t?uEe(t):{},r?cEe(r):{},a||{});i&&ch(s,"selection",i,!0);const o=va(s,hEe);for(const l of["background","lineBreak","padding"])s[l]&&(o[l]=da(s[l]));for(const l of ZG)s[l]&&(o[l]=Or(s[l]));for(const l of wY)s[l]&&(o[l]=jY(s[l]));for(const l of BY)s[l]&&(o[l]=Or(s[l]));if(s.legend&&(o.legend=Or(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=Or(l,{level:1});o.scale={...Or(u),...Fe(c).length>0?{invalid:c}:{}}}return s.style&&(o.style=dEe(s.style)),s.title&&(o.title=Or(s.title)),s.view&&(o.view=Or(s.view)),o}const pEe=new Set(["view",...q_e]),gEe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],mEe={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...Z_e};function xEe(e){e=gt(e);for(const t of gEe)delete e[t];if(e.axis)for(const t in e.axis)ym(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of Kwe)delete e.legend[t];if(e.mark){for(const t of t7)delete e.mark[t];e.mark.tooltip&&Ge(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(UY(e.params)),delete e.params);for(const t of pEe){for(const r of t7)delete e[t][r];const n=mEe[t];if(n)for(const r of n)delete e[t][r];vEe(e,t)}for(const t of Xwe())delete e[t];yEe(e);for(const t in e)Ge(e[t])&&an(e[t])&&delete e[t];return an(e)?void 0:e}function yEe(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=yG(e.title);an(t)||(e.style["group-title"]={...e.style["group-title"],...t}),an(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),an(r)?delete e.title:e.title=r}function vEe(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const a={...i,...e.style[n??t]};an(a)||(e.style[n??t]=a),delete e[t]}function Lw(e){return Oe(e,"layer")}function _Ee(e){return Oe(e,"repeat")}function wEe(e){return!ke(e.repeat)&&Oe(e.repeat,"layer")}class h8{map(t,n){return Ow(t)?this.mapFacet(t,n):_Ee(t)?this.mapRepeat(t,n):d8(t)?this.mapHConcat(t,n):$w(t)?this.mapVConcat(t,n):f8(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(Lw(t))return this.mapLayer(t,n);if(Ll(t))return this.mapUnit(t,n);throw new Error(CF(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(a=>this.map(a,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const EEe={zero:1,center:1,normalize:1};function kEe(e){return qe(EEe,e)}const SEe=new Set([KG,Aw,bw,b2,Tw,GF,YF,Cw,JG,jF]),bEe=new Set([Aw,bw,KG]);function K0(e){return Me(e)&&Jd(e)==="quantitative"&&!e.bin}function h7(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",a=t==="x"&&["bar","area"].includes(r),s=e[t],o=e[i];if(Me(s)&&Me(o))if(K0(s)&&K0(o)){if(s.stack)return t;if(o.stack)return i;const l=Me(s)&&!!s.aggregate,u=Me(o)&&!!o.aggregate;if(l!==u)return l?t:i;if(a){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(K0(s))return t;if(K0(o))return i}else{if(K0(s))return a&&n==="vertical"?void 0:t;if(K0(o))return a&&n==="horizontal"?void 0:i}}function AEe(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function YY(e,t){var x,v;const n=So(e)?e:{type:e},r=n.type;if(!SEe.has(r))return null;const i=h7(t,"x",n)||h7(t,"theta",n);if(!i)return null;const a=t[i],s=Me(a)?We(a,{}):void 0,o=AEe(i),l=[],u=new Set;if(t[o]){const _=t[o],E=Me(_)?We(_,{}):void 0;E&&E!==s&&(l.push(o),u.add(E))}const c=o==="x"?"xOffset":"yOffset",d=t[c],p=Me(d)?We(d,{}):void 0;p&&p!==s&&(l.push(c),u.add(p));const g=Mve.reduce((_,E)=>{if(E!=="tooltip"&&df(t,E)){const k=t[E];for(const A of Ve(k)){const T=Is(A);if(T.aggregate)continue;const D=We(T,{});(!D||!u.has(D))&&_.push({channel:E,fieldDef:T})}}return _},[]);let m;return a.stack!==void 0?tc(a.stack)?m=a.stack?"zero":null:m=a.stack:bEe.has(r)&&(m="zero"),!m||!kEe(m)||SY(t)&&g.length===0?null:((x=a==null?void 0:a.scale)!=null&&x.type&&((v=a==null?void 0:a.scale)==null?void 0:v.type)!==Nr.LINEAR&&a!=null&&a.stack&&Re(Z2e(a.scale.type)),xt(t[Lo(i)])?(a.stack!==void 0&&Re(Q2e(i)),null):(Me(a)&&a.aggregate&&!Yve.has(a.aggregate)&&Re(e_e(a.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:a.impute===null?!1:gc(r),stackBy:g,offset:m}))}function VY(e,t,n){const r=Or(e),i=qt("orient",r,n);if(r.orient=OEe(r.type,t,i),i!==void 0&&i!==r.orient&&Re($2e(r.orient,i)),r.type==="bar"&&r.orient){const l=qt("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:nwe[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const a=qt("opacity",r,n),s=qt("fillOpacity",r,n);return a===void 0&&s===void 0&&(r.opacity=TEe(r.type,t)),qt("cursor",r,n)===void 0&&(r.cursor=CEe(r,t,n)),r}function CEe(e,t,n){return t.href||e.href||qt("href",e,n)?"pointer":e.cursor}const qY=.7;function TEe(e,t){if(At([Tw,jF,GF,YF],e)&&!SY(t))return qY}function FEe(e,t,{graticule:n}){if(n)return!1;const r=ko("filled",e,t),i=e.type;return zn(r,i!==Tw&&i!==Cw&&i!==b2)}function OEe(e,t,n){switch(e){case Tw:case GF:case YF:case Y_e:case G_e:return}const{x:r,y:i,x2:a,y2:s}=t;switch(e){case JG:case Aw:if(Me(r)&&(Fr(r.bin)||Me(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Me(i)&&(Fr(i.bin)||Me(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||a){if(n)return n;if(!a)return(Me(r)&&r.type===Rf&&!un(r.bin)||C2(r))&&Me(i)&&Fr(i.bin)?"horizontal":"vertical";if(!s)return(Me(i)&&i.type===Rf&&!un(i.bin)||C2(i))&&Me(r)&&Fr(r.bin)?"vertical":"horizontal"}case b2:if(a&&!(Me(r)&&Fr(r.bin))&&s&&!(Me(i)&&Fr(i.bin)))return;case bw:if(s)return Me(i)&&Fr(i.bin)?"horizontal":"vertical";if(a)return Me(r)&&Fr(r.bin)?"vertical":"horizontal";if(e===b2){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case Cw:case jF:{const o=a7(r),l=a7(i);if(n)return n;if(o&&!l)return e!=="tick"?"horizontal":"vertical";if(!o&&l)return e!=="tick"?"vertical":"horizontal";if(o&&l)return"vertical";{const u=Ni(r)&&r.type===Xd,c=Ni(i)&&i.type===Xd;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function DEe(e){const{point:t,line:n,...r}=e;return Fe(r).length>1?r:r.type}function NEe(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:va(e[t],["point","line"])});return e}function ab(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Ge(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Ge(t.point)?t.point:{}:void 0}function p7(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class MEe{constructor(){be(this,"name","path-overlay")}hasMatchingType(t,n){if(Ll(t)){const{mark:r,encoding:i}=t,a=So(r)?r:{type:r};switch(a.type){case"line":case"rule":case"trail":return!!ab(a,n[a.type],i);case"area":return!!ab(a,n[a.type],i)||!!p7(a,n[a.type])}}return!1}run(t,n,r){const{config:i}=n,{params:a,projection:s,mark:o,name:l,encoding:u,...c}=t,d=Iw(u,i),p=So(o)?o:{type:o},g=ab(p,i[p.type],d),m=p.type==="area"&&p7(p,i[p.type]),x=[{name:l,...a?{params:a}:{},mark:DEe({...p.type==="area"&&qt("opacity",p,i)==null&&qt("fillOpacity",p,i)==null?{opacity:qY}:{},...p}),encoding:va(d,["shape"])}],v=YY(VY(p,d,i),d);let _=d;if(v){const{fieldChannel:E,offset:k}=v;_={...d,[E]:{...d[E],...k?{stack:k}:{}}}}return _=va(_,["y2","x2"]),m&&x.push({...s?{projection:s}:{},mark:{type:"line",...Gd(p,["clip","interpolate","tension","tooltip"]),...m},encoding:_}),g&&x.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...Gd(p,["clip","tooltip"]),...g},encoding:_}),r({...c,layer:x},{...n,config:NEe(i)})}}function REe(e,t){return t?pm(e)?KY(e,t):XY(e,t):e}function sb(e,t){return t?KY(e,t):e}function U4(e,t,n){const r=t[e];if(mwe(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};Re(h2e(r.repeat));return}return t}function XY(e,t){if(e=U4("field",e,t),e!==void 0){if(e===null)return null;if(ZF(e)&&yl(e.sort)){const n=U4("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function g7(e,t){if(Me(e))return XY(e,t);{const n=U4("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function m7(e,t){if(xt(e)){const n=g7(e,t);if(n)return n;if(gm(e))return{condition:e.condition}}else{if(mm(e)){const n=g7(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function KY(e,t){const n={};for(const r in e)if(Oe(e,r)){const i=e[r];if(ke(i))n[r]=i.map(a=>m7(a,t)).filter(a=>a);else{const a=m7(i,t);a!==void 0&&(n[r]=a)}}return n}class IEe{constructor(){be(this,"name","RuleForRangedLine")}hasMatchingType(t){if(Ll(t)){const{encoding:n,mark:r}=t;if(r==="line"||So(r)&&r.type==="line")for(const i of Ove){const a=e0(i),s=n[a];if(n[i]&&(Me(s)&&!Fr(s.bin)||Bo(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:a}=t;return Re(I2e(!!i.x2,!!i.y2)),r({...t,mark:Ge(a)?{...a,type:"rule"}:"rule"},n)}}class $Ee extends h8{constructor(){super(...arguments);be(this,"nonFacetUnitNormalizers",[Pwe,Uwe,qwe,new MEe,new IEe])}map(n,r){if(Ll(n)){const i=df(n.encoding,ml),a=df(n.encoding,xl),s=df(n.encoding,pw);if(i||a||s)return this.mapFacetedUnit(n,r)}return super.map(n,r)}mapUnit(n,r){const{parentEncoding:i,parentProjection:a}=r,s=sb(n.encoding,r.repeater),o={...n,...n.name?{name:[r.repeaterPrefix,n.name].filter(u=>u).join("_")}:{},...s?{encoding:s}:{}};if(i||a)return this.mapUnitWithParentEncodingOrProjection(o,r);const l=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(o,r.config))return u.run(o,r,l);return o}mapRepeat(n,r){return wEe(n)?this.mapLayerRepeat(n,r):this.mapNonLayerRepeat(n,r)}mapLayerRepeat(n,r){const{repeat:i,spec:a,...s}=n,{row:o,column:l,layer:u}=i,{repeater:c={},repeaterPrefix:d=""}=r;return o||l?this.mapRepeat({...n,repeat:{...o?{row:o}:{},...l?{column:l}:{}},spec:{repeat:{layer:u},spec:a}},r):{...s,layer:u.map(p=>{const g={...c,layer:p},m=`${(a.name?`${a.name}_`:"")+d}child__layer_${vn(p)}`,x=this.mapLayerOrUnit(a,{...r,repeater:g,repeaterPrefix:m});return x.name=m,x})}}mapNonLayerRepeat(n,r){const{repeat:i,spec:a,data:s,...o}=n;!ke(i)&&n.columns&&(n=va(n,["columns"]),Re(XR("repeat")));const l=[],{repeater:u={},repeaterPrefix:c=""}=r,d=!ke(i)&&i.row||[u?u.row:null],p=!ke(i)&&i.column||[u?u.column:null],g=ke(i)&&i||[u?u.repeat:null];for(const x of g)for(const v of d)for(const _ of p){const E={repeat:x,row:v,column:_,layer:u.layer},k=`${(a.name?`${a.name}_`:"")+c}child__${ke(i)?`${vn(x)}`:(i.row?`row_${vn(v)}`:"")+(i.column?`column_${vn(_)}`:"")}`,A=this.map(a,{...r,repeater:E,repeaterPrefix:k});A.name=k,l.push(va(A,["data"]))}const m=ke(i)?n.columns:i.column?i.column.length:1;return{data:a.data??s,align:"all",...o,columns:m,concat:l}}mapFacet(n,r){const{facet:i}=n;return pm(i)&&n.columns&&(n=va(n,["columns"]),Re(XR("facet"))),super.mapFacet(n,r)}mapUnitWithParentEncodingOrProjection(n,r){const{encoding:i,projection:a}=n,{parentEncoding:s,parentProjection:o,config:l}=r,u=y7({parentProjection:o,projection:a}),c=x7({parentEncoding:s,encoding:sb(i,r.repeater)});return this.mapUnit({...n,...u?{projection:u}:{},...c?{encoding:c}:{}},{config:l})}mapFacetedUnit(n,r){const{row:i,column:a,facet:s,...o}=n.encoding,{mark:l,width:u,projection:c,height:d,view:p,params:g,encoding:m,...x}=n,{facetMapping:v,layout:_}=this.getFacetMappingAndLayout({row:i,column:a,facet:s},r),E=sb(o,r.repeater);return this.mapFacet({...x,..._,facet:v,spec:{...u?{width:u}:{},...d?{height:d}:{},...p?{view:p}:{},...c?{projection:c}:{},mark:l,encoding:E,...g?{params:g}:{}}},r)}getFacetMappingAndLayout(n,r){const{row:i,column:a,facet:s}=n;if(i||a){s&&Re(M2e([...i?[ml]:[],...a?[xl]:[]]));const o={},l={};for(const u of[ml,xl]){const c=n[u];if(c){const{align:d,center:p,spacing:g,columns:m,...x}=c;o[u]=x;for(const v of["align","center","spacing"])c[v]!==void 0&&(l[v]??(l[v]={}),l[v][u]=c[v])}}return{facetMapping:o,layout:l}}else{const{align:o,center:l,spacing:u,columns:c,...d}=s;return{facetMapping:REe(d,r.repeater),layout:{...o?{align:o}:{},...l?{center:l}:{},...u?{spacing:u}:{},...c?{columns:c}:{}}}}}mapLayer(n,{parentEncoding:r,parentProjection:i,...a}){const{encoding:s,projection:o,...l}=n,u={...a,parentEncoding:x7({parentEncoding:r,encoding:s,layer:!0}),parentProjection:y7({parentProjection:i,projection:o})};return super.mapLayer({...l,...n.name?{name:[u.repeaterPrefix,n.name].filter(c=>c).join("_")}:{}},u)}}function x7({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...Fe(e),...Fe(t)]);for(const a of i){const s=t[a],o=e[a];if(xt(s)){const l={...o,...s};r[a]=l}else mm(s)?r[a]={...s,condition:{...o,...s.condition}}:s||s===null?r[a]=s:(n||Rs(o)||nt(o)||xt(o)||ke(o))&&(r[a]=o)}}else r=t;return!r||an(r)?void 0:r}function y7(e){const{parentProjection:t,projection:n}=e;return t&&n&&Re(E2e({parentProjection:t,projection:n})),n??t}function p8(e){return Oe(e,"filter")}function LEe(e){return Oe(e,"stop")}function JY(e){return Oe(e,"lookup")}function PEe(e){return Oe(e,"data")}function BEe(e){return Oe(e,"param")}function zEe(e){return Oe(e,"pivot")}function UEe(e){return Oe(e,"density")}function WEe(e){return Oe(e,"quantile")}function HEe(e){return Oe(e,"regression")}function jEe(e){return Oe(e,"loess")}function GEe(e){return Oe(e,"sample")}function YEe(e){return Oe(e,"window")}function VEe(e){return Oe(e,"joinaggregate")}function qEe(e){return Oe(e,"flatten")}function XEe(e){return Oe(e,"calculate")}function QY(e){return Oe(e,"bin")}function KEe(e){return Oe(e,"impute")}function JEe(e){return Oe(e,"timeUnit")}function QEe(e){return Oe(e,"aggregate")}function ZEe(e){return Oe(e,"stack")}function eke(e){return Oe(e,"fold")}function tke(e){return Oe(e,"extent")&&!Oe(e,"density")&&!Oe(e,"regression")}function nke(e){return e.map(t=>p8(t)?{filter:md(t.filter,T_e)}:t)}class rke extends h8{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=v7(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=v7(t,n),t.encoding){const r={};for(const[i,a]of qu(t.encoding))r[i]=ZY(a,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:qu(r).map(([a,s])=>{const{init:o,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[a]=u!=="none";for(const d of Xn(n.selectionPredicates[a]??{}))d.empty=u!=="none";return{name:a,value:o,select:c,bind:l}})}:t}}function v7(e,t){const{transform:n,...r}=e;if(n){const i=n.map(a=>{if(p8(a))return{filter:W4(a,t)};if(QY(a)&&t0(a.bin))return{...a,bin:eV(a.bin)};if(JY(a)){const{selection:s,...o}=a.from;return s?{...a,from:{param:s,...o}}:a}return a});return{...r,transform:i}}return e}function ZY(e,t){var r,i;const n=gt(e);if(Me(n)&&t0(n.bin)&&(n.bin=eV(n.bin)),a0(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:a,...s}=n.scale.domain;n.scale.domain={...s,...a?{param:a}:{}}}if(gm(n))if(ke(n.condition))n.condition=n.condition.map(a=>{const{selection:s,param:o,test:l,...u}=a;return o?a:{...u,test:W4(a,t)}});else{const{selection:a,param:s,test:o,...l}=ZY(n.condition,t);n.condition=s?n.condition:{...l,test:W4(n.condition,t)}}return n}function eV(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function W4(e,t){const n=r=>md(r,i=>{var o;const a=t.emptySelections[i]??!0,s={param:i,empty:a};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(s),s});return e.selection?n(e.selection):md(e.test||e.filter,r=>r.selection?n(r.selection):r)}class H4 extends h8{map(t,n){const r=n.selections??[];if(t.params&&!Ll(t)){const i=[];for(const a of t.params)c8(a)?r.push(a):i.push(a);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),a=[];for(const s of r)if(!s.views||!s.views.length)a.push(s);else for(const o of s.views)(Ye(o)&&(o===t.name||i.includes(o))||ke(o)&&o.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&a.push(s);return a.length&&(t.params=a),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=H4.prototype[e];H4.prototype[e]=function(n,r){return t.call(this,n,ike(n,r))}}function ike(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function tV(e,t){t===void 0&&(t=GY(e.config));const n=lke(e,t),{width:r,height:i}=e,a=uke(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...a?{autosize:a}:{}}}const ake=new $Ee,ske=new rke,oke=new H4;function lke(e,t={}){const n={config:t};return oke.map(ake.map(ske.map(e,n),n),n)}function _7(e){return Ye(e)?{type:e}:e??{}}function uke(e,t,n){let{width:r,height:i}=t;const a=Ll(e)||Lw(e),s={};a?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(Re(GR("width")),r=void 0),i=="container"&&(Re(GR("height")),i=void 0));const o={type:"pad",...s,...n?_7(n.autosize):{},..._7(e.autosize)};if(o.type==="fit"&&!a&&(Re(n2e),o.type="pad"),r=="container"&&!(o.type=="fit"||o.type=="fit-x")&&Re(YR("width")),i=="container"&&!(o.type=="fit"||o.type=="fit-y")&&Re(YR("height")),!ga(o,{type:"pad"}))return o}function cke(e){return["fit","fit-x","fit-y"].includes(e)}function fke(e){return e?`fit-${vw(e)}`:"fit"}const dke=["background","padding"];function w7(e,t){const n={};for(const r of dke)e&&e[r]!==void 0&&(n[r]=da(e[r]));return t&&(n.params=e.params),n}class Pl{constructor(t={},n={}){be(this,"explicit");be(this,"implicit");this.explicit=t,this.implicit=n}clone(){return new Pl(gt(this.explicit),gt(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return zn(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of Fe(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function ro(e){return{explicit:!0,value:e}}function la(e){return{explicit:!1,value:e}}function nV(e){return(t,n,r,i)=>{const a=e(t.value,n.value);return a>0?t:a<0?n:Pw(t,n,r,i)}}function Pw(e,t,n,r){return e.explicit&&t.explicit&&Re(G2e(n,r,e.value,t.value)),e}function Ju(e,t,n,r,i=Pw){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:ga(e.value,t.value)?e:i(e,t,n,r)}class hke extends Pl{constructor(n={},r={},i=!1){super(n,r);be(this,"explicit");be(this,"implicit");be(this,"parseNothing");this.explicit=n,this.implicit=r,this.parseNothing=i}clone(){const n=super.clone();return n.parseNothing=this.parseNothing,n}}function eh(e){return Oe(e,"url")}function mg(e){return Oe(e,"values")}function rV(e){return Oe(e,"name")&&!eh(e)&&!mg(e)&&!$u(e)}function $u(e){return e&&(iV(e)||aV(e)||g8(e))}function iV(e){return Oe(e,"sequence")}function aV(e){return Oe(e,"sphere")}function g8(e){return Oe(e,"graticule")}var Cn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Cn||(Cn={}));function sV({invalid:e,isPath:t}){switch(eY(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function pke(e){const{marks:t,scales:n}=sV(e);return t===n?Cn.Main:n==="include-invalid-values"?Cn.PreFilterInvalid:Cn.PostFilterInvalid}class Zt{constructor(t,n){be(this,"debugName");be(this,"_children",[]);be(this,"_parent",null);be(this,"_hash");this.debugName=n,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){Re(v2e);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class qi extends Zt{constructor(n,r,i,a){super(n,r);be(this,"type");be(this,"refCounts");be(this,"_source");be(this,"_name");this.type=i,this.refCounts=a,this._source=this._name=r,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const n=new this.constructor;return n.debugName=`clone_${this.debugName}`,n._source=this._source,n._name=`clone_${this._name}`,n.type=this.type,n.refCounts=this.refCounts,n.refCounts[n._name]=0,n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${nG()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(n){this._source=n}}function ob(e){return e.as!==void 0}function E7(e){return`${e}_end`}class po extends Zt{constructor(n,r){super(n);be(this,"timeUnits");this.timeUnits=r}clone(){return new po(null,gt(this.timeUnits))}static makeFromEncoding(n,r){const i=r.reduceFieldDef((a,s,o)=>{const{field:l,timeUnit:u}=s;if(u){let c;if(i0(u)){if(An(r)){const{mark:d,markDef:p,config:g}=r,m=Ku({fieldDef:s,markDef:p,config:g});(gg(d)||m)&&(c={timeUnit:_r(u),field:l})}}else c={as:We(s,{forAs:!0}),field:l,timeUnit:u};if(An(r)){const{mark:d,markDef:p,config:g}=r,m=Ku({fieldDef:s,markDef:p,config:g});gg(d)&&Un(o)&&m!==.5&&(c.rectBandPosition=m)}c&&(a[Tt(c)]=c)}return a},{});return an(i)?null:new po(n,i)}static makeFromTransform(n,r){const{timeUnit:i,...a}={...r},s=_r(i),o={...a,timeUnit:s};return new po(n,{[Tt(o)]:o})}merge(n){this.timeUnits={...this.timeUnits};for(const r in n.timeUnits)this.timeUnits[r]||(this.timeUnits[r]=n.timeUnits[r]);for(const r of n.children)n.removeChild(r),r.parent=this;n.remove()}removeFormulas(n){const r={};for(const[i,a]of qu(this.timeUnits)){const s=ob(a)?a.as:`${a.field}_end`;n.has(s)||(r[i]=a)}this.timeUnits=r}producedFields(){return new Set(Xn(this.timeUnits).map(n=>ob(n)?n.as:E7(n.field)))}dependentFields(){return new Set(Xn(this.timeUnits).map(n=>n.field))}hash(){return`TimeUnit ${Tt(this.timeUnits)}`}assemble(){const n=[];for(const r of Xn(this.timeUnits)){const{rectBandPosition:i}=r,a=_r(r.timeUnit);if(ob(r)){const{field:s,as:o}=r,{unit:l,utc:u,...c}=a,d=[o,`${o}_end`];n.push({field:Ka(s),type:"timeunit",...l?{units:kw(l)}:{},...u?{timezone:"utc"}:{},...c,as:d}),n.push(...k7(d,i,a))}else if(r){const{field:s}=r,o=eG(s),l=oV({timeUnit:a,field:o}),u=E7(o);n.push({type:"formula",expr:l,as:u}),n.push(...k7([o,u],i,a))}}return n}}const Bw="offsetted_rect_start",zw="offsetted_rect_end";function oV({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,a=LG(r),{part:s,step:o}=UG(a,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', ${Jt(t)}, ${n?-o:o})`}function k7([e,t],n,r){if(n!==void 0&&n!==.5){const i=Jt(e),a=Jt(t);return[{type:"formula",expr:S7([oV({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${Bw}`},{type:"formula",expr:S7([i,a],n+.5),as:`${e}_${zw}`}]}return[]}function S7([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const vm="_tuple_fields";class gke{constructor(...t){be(this,"hasChannel");be(this,"hasField");be(this,"hasSelectionId");be(this,"timeUnit");be(this,"items");this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const mke={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new gke),a={},s={},o=new Set,l=(m,x)=>{const v=x==="visual"?m.channel:m.field;let _=vn(`${r}_${v}`);for(let E=1;o.has(_);E++)_=vn(`${r}_${v}_${E}`);return o.add(_),{[x]:_}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?Ve(n.value):null;let{fields:p,encodings:g}=Ge(n.select)?n.select:{};if(!p&&!g&&d){for(const m of d)if(Ge(m))for(const x of Fe(m))Fve(x)?(g||(g=[])).push(x):u==="interval"?(Re(d2e),g=c.encodings):(p??(p=[])).push(x)}!p&&!g&&(g=c.encodings,"fields"in c&&(p=c.fields));for(const m of g??[]){const x=e.fieldDef(m);if(x){let v=x.field;if(x.aggregate){Re(r2e(m,x.aggregate));continue}else if(!v){Re(qR(m));continue}if(x.timeUnit&&!i0(x.timeUnit)){v=e.vgField(m);const _={timeUnit:x.timeUnit,as:v,field:x.field};s[Tt(_)]=_}if(!a[v]){const _=u==="interval"&&Po(m)&&Ms(e.getScaleComponent(m).get("type"))?"R":x.bin?"R-RE":"E",E={field:v,channel:m,type:_,index:i.items.length};E.signals={...l(E,"data"),...l(E,"visual")},i.items.push(a[v]=E),i.hasField[v]=a[v],i.hasSelectionId=i.hasSelectionId||v===$s,lG(m)?(E.geoChannel=m,E.channel=oG(m),i.hasChannel[E.channel]=a[v]):i.hasChannel[m]=a[v]}}else Re(qR(m))}for(const m of p??[]){if(i.hasField[m])continue;const x={type:"E",field:m,index:i.items.length};x.signals={...l(x,"data")},i.items.push(x),i.hasField[m]=x,i.hasSelectionId=i.hasSelectionId||m===$s}d&&(t.init=d.map(m=>i.items.map(x=>Ge(m)?m[x.geoChannel||x.channel]!==void 0?m[x.geoChannel||x.channel]:m[x.field]:m))),an(s)||(i.timeUnit=new po(null,s))},signals:(e,t,n)=>{const r=t.name+vm;return n.filter(a=>a.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(fV)})}},lV="_curr",av="anim_value",td="anim_clock",j4="eased_anim_clock",uV="min_extent",cV="max_range_extent",lb="last_tick_at",ub="is_playing",xke=1/60*1e3,yke=(e,t)=>[{name:j4,update:td},{name:`${e}_domain`,init:`domain('${t}')`},{name:uV,init:`extent(${e}_domain)[0]`},{name:cV,init:`extent(range('${t}'))[1]`},{name:av,update:`invert('${t}', ${j4})`}],vke={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(go(t)&&(n=n.concat([{name:td,init:"0",on:[{events:{type:"timer",throttle:xke},update:`${ub} ? (${td} + (now() - ${lb}) > ${cV} ? 0 : ${td} + (now() - ${lb})) : ${td}`}]},{name:lb,init:"now()",on:[{events:[{signal:td},{signal:ub}],update:"now()"}]},{name:ub,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+vm,a=t.project,s="(item().isVoronoi ? datum.datum : datum)",o=Xn(e.component.selection??{}).reduce((c,d)=>d.type==="interval"?c.concat(d.name+vd):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${o?` && ${o}`:""}`;let u=`unit: ${hf(e)}, `;if(t.project.hasSelectionId)u+=`${$s}: ${s}[${Le($s)}]`;else if(go(t))u+=`fields: ${i}, values: [${av} ? ${av} : ${uV}]`;else{const c=a.items.map(d=>{const p=e.fieldDef(d.channel);return p!=null&&p.bin?`[${s}[${Le(e.vgField(d.channel,{}))}], ${s}[${Le(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${Le(d.field)}]`}).join(", ");u+=`fields: ${i}, values: [${c}]`}if(go(t))return n.concat(yke(t.name,e.scaleName(uc)),[{name:r+Tl,on:[{events:[{signal:j4},{signal:av}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+Tl,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function fV(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Ka(i.field),i}function Lf(e,t=!0,n=li){if(ke(e)){const r=e.map(i=>Lf(i,t,n));return t?`[${r.join(", ")}]`:r}else if(r0(e))return n(t?Mf(e):m_e(e));return t?n(Xt(e)):e}function _ke(e,t){for(const n of Xn(e.component.selection??{})){const r=n.name;let i=`${r}${Tl}, ${n.resolve==="global"?"true":`{unit: ${hf(e)}}`}`;for(const a of Uw)a.defined(n)&&(a.signals&&(t=a.signals(e,n,t)),a.modifyExpr&&(i=a.modifyExpr(e,n,i)));t.push({name:r+Vke,on:[{events:{signal:n.name+Tl},update:`modify(${Le(n.name+Pf)}, ${i})`}]})}return m8(t)}function wke(e,t){if(e.component.selection&&Fe(e.component.selection).length){const n=Le(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:oc("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return m8(t)}function Eke(e,t){let n=!1;for(const r of Xn(e.component.selection??{})){const i=r.name,a=Le(i+Pf);if(t.filter(o=>o.name===i).length===0){const o=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${FV}(${a}, ${Le(o)}${l}`})}n=!0;for(const o of Uw)o.defined(r)&&o.topLevelSignals&&(t=o.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),m8(t)}function kke(e,t){const n=[],r=[],i=hf(e,{escape:!1});for(const a of Xn(e.component.selection??{})){const s={name:a.name+Pf};if(a.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:$s}}]),a.init){const l=a.project.items.map(fV);s.values=a.project.hasSelectionId?a.init.map(u=>({unit:i,[$s]:Lf(u,!1)[0]})):a.init.map(u=>({unit:i,fields:l,values:Lf(u,!1)}))}if([...n,...t].filter(l=>l.name===a.name+Pf).length||n.push(s),go(a)&&t.length){const l=e.lookupDataSource(e.getDataName(Cn.Main)),u=t.find(d=>d.name===l),c=u.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(p=>p!==c);const d={name:u.name+lV,source:u.name,transform:[c]};r.push(d)}}}return n.concat(t,r)}function dV(e,t){for(const n of Xn(e.component.selection??{}))for(const r of Uw)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function Ske(e,t){for(const n of e.children)An(n)&&(t=dV(n,t));return t}function bke(e,t,n,r){const i=RV(e,t.param,t);return{signal:Ms(n.get("type"))&&ke(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function m8(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const vl={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Po(i))continue;const a=e.getScaleComponent(i),s=a?a.get("type"):void 0;if(s=="sequential"&&Re(o2e),!a||!Ms(s)){Re(s2e);continue}a.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(o=>o.name===s.signals.data).length===0);if(!e.parent||Y4(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let a=i.update;if(a.includes(FV))i.update=`{${r.map(s=>`${Le(Ka(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const o=`${Le(Ka(s.field))}: ${s.signals.data}`;a.includes(o)||(a=`${a.substring(0,a.length-1)}, ${o}}`)}i.update=a}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!Y4(e))for(const r of t.scales){const i=n.find(a=>a.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function G4(e,t){return`domain(${Le(e.scaleName(t))})`}function Y4(e){return e.parent&&Mh(e.parent)&&(!e.parent.parent||Y4(e.parent.parent))}const vd="_brush",hV="_scale_trigger",Hp="geo_interval_init_tick",pV="_init",Ake="_center",Cke={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Ge(n.select)?n.select:{}};i.fields=[$s],i.encodings||(i.encodings=n.value?Fe(n.value):[Hs,Ws]),n.select={type:"interval",...i}}if(t.translate&&!vl.defined(t)){const i=`!event.item || event.item.mark.name !== ${Le(t.name+vd)}`;for(const a of t.events){if(!a.between){Re(`${a} is not an ordered event stream for interval selections.`);continue}const s=Ve((r=a.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+Tl,a=Xn(t.project.hasChannel).filter(o=>o.channel===_n||o.channel===Sr),s=t.init?t.init[0]:null;if(n.push(...a.reduce((o,l)=>o.concat(Tke(e,t,l,s==null?void 0:s[l.index])),[])),e.hasProjection){const o=Le(e.projectionName()),l=e.projectionName()+Ake,{x:u,y:c}=t.project.hasChannel,d=u==null?void 0:u.signals.visual,p=c==null?void 0:c.signals.visual,g=u?s==null?void 0:s[u.index]:`${l}[0]`,m=c?s==null?void 0:s[c.index]:`${l}[1]`,x=T=>e.getSizeSignalRef(T).signal,v=`[[${d?`${d}[0]`:"0"}, ${p?`${p}[0]`:"0"}],[${d?`${d}[1]`:x("width")}, ${p?`${p}[1]`:x("height")}]]`;s&&(n.unshift({name:r+pV,init:`[scale(${o}, [${u?g[0]:g}, ${c?m[0]:m}]), scale(${o}, [${u?g[1]:g}, ${c?m[1]:m}])]`}),(!u||!c)&&(n.find(D=>D.name===l)||n.unshift({name:l,update:`invert(${o}, [${x("width")}/2, ${x("height")}/2])`})));const _=`intersect(${v}, {markname: ${Le(e.getName("marks"))}}, unit.mark)`,E=`{unit: ${hf(e)}}`,k=`vlSelectionTuples(${_}, ${E})`,A=a.map(T=>T.signals.visual);return n.concat({name:i,on:[{events:[...A.length?[{signal:A.join(" || ")}]:[],...s?[{signal:Hp}]:[]],update:k}]})}else{if(!vl.defined(t)){const u=r+hV,c=a.map(d=>{const p=d.channel,{data:g,visual:m}=d.signals,x=Le(e.scaleName(p)),v=e.getScaleComponent(p).get("type"),_=Ms(v)?"+":"";return`(!isArray(${g}) || (${_}invert(${x}, ${m})[0] === ${_}${g}[0] && ${_}invert(${x}, ${m})[1] === ${_}${g}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:a.map(d=>({scale:e.scaleName(d.channel)})),update:`${c.join(" && ")} ? ${u} : {}`}]})}const o=a.map(u=>u.signals.data),l=`unit: ${hf(e)}, fields: ${r+vm}, values`;return n.concat({name:i,...s?{init:`{${l}: ${Lf(s)}}`}:{},...o.length?{on:[{events:[{signal:o.join(" || ")}],update:`${o.join(" && ")} ? {${l}: [${o}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(An(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===Hp).length||n.unshift({name:Hp,value:null,on:[{events:"timer{1}",update:`${Hp} === null ? {} : ${Hp}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:a}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,o=a==null?void 0:a.signals.visual,l=`data(${Le(t.name+Pf)})`;if(vl.defined(t)||!i&&!a)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:a!==void 0?{signal:`${o}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:a!==void 0?{signal:`${o}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const v of Fe(u))u[v]=[{test:`${l}.length && ${l}[0].unit === ${hf(e)}`,...u[v]},{value:0}];const{fill:c,fillOpacity:d,cursor:p,...g}=t.mark,m=Fe(g).reduce((v,_)=>(v[_]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,a!==void 0&&`${o}[0] !== ${o}[1]`].filter(E=>E).join(" && "),value:g[_]},{value:null}],v),{}),x=p??(t.translate?"move":null);return[{name:`${r+vd}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+vd,type:"rect",clip:!0,encode:{enter:{...x?{cursor:{value:x}}:{},fill:{value:"transparent"}},update:{...u,...m}}}]}};function Tke(e,t,n,r){const i=!e.hasProjection,a=n.channel,s=n.signals.visual,o=Le(i?e.scaleName(a):e.projectionName()),l=p=>`scale(${o}, ${p})`,u=e.getSizeSignalRef(a===_n?"width":"height").signal,c=`${a}(unit)`,d=t.events.reduce((p,g)=>[...p,{events:g.between[0],update:`[${c}, ${c}]`},{events:g,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const p=n.signals.data,g=vl.defined(t),m=e.getScaleComponent(a),x=m?m.get("type"):void 0,v=r?{init:Lf(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+hV},update:Ms(x)?`[${l(`${p}[0]`)}, ${l(`${p}[1]`)}]`:"[0, 0]"}),g?[{name:p,on:[]}]:[{name:s,...v,on:d},{name:p,...r?{init:Lf(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${o}, ${s})`}]}]}else{const p=a===_n?0:1,g=t.name+pV,m=r?{init:`[${g}[0][${p}], ${g}[1][${p}]]`}:{value:[]};return[{name:s,...m,on:d}]}}function Fh({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const a=gm(t)&&t.condition;let s=[];a&&(s=Ve(a).map(u=>{const c=i(u);if(gwe(u)){const{param:d,empty:p}=u;return{test:MV(e,{param:d,empty:p}),...c}}else return{test:I2(e,u.test),...c}})),r!==void 0&&s.push(r);const o=i(t);return o!==void 0&&s.push(o),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function x8(e,t="text"){const n=e.encoding[t];return Fh({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>y8(r,e.config),invalidValueRef:void 0})}function y8(e,t,n="datum"){if(e){if(Rs(e))return pn(e.value);if(xt(e)){const{format:r,formatType:i}=F2(e);return JF({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function gV(e,t={}){const{encoding:n,markDef:r,config:i,stack:a}=e,s=n.tooltip;if(ke(s))return{tooltip:b7({tooltip:s},a,i,t)};{const o=t.reactiveGeom?"datum.datum":"datum";return Fh({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=xV(u,i,o);if(c)return c;if(u===null)return;let d=qt("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),Ye(d))return{value:d};if(Ge(d))return nt(d)?d:d.content==="encoding"?b7(n,a,i,t):{signal:o}},invalidValueRef:void 0})}}function mV(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},a=new Set,s=r?"datum.datum":"datum",o=[];function l(c,d){const p=e0(d),g=Ni(c)?c:{...c,type:e[p].type},m=g.title||t8(g,i),x=Ve(m).join(", ").replaceAll(/"/g,'\\"');let v;if(Un(d)){const _=d==="x"?"x2":"y2",E=Is(e[_]);if(Fr(g.bin)&&E){const k=We(g,{expr:s}),A=We(E,{expr:s}),{format:T,formatType:D}=F2(g);v=hm(k,A,T,D,i),a.add(_)}}if((Un(d)||d===es||d===Us)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:_,formatType:E}=F2(g);v=JF({fieldOrDatumDef:g,format:_,formatType:E,expr:s,config:i,normalizeStack:!0}).signal}v??(v=xV(g,i,s).signal),o.push({channel:d,key:x,value:v})}r8(e,(c,d)=>{Me(c)?l(c,d):Dw(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:p}of o)!a.has(c)&&!u[d]&&(u[d]=p);return u}function b7(e,t,n,{reactiveGeom:r}={}){const i=mV(e,t,n,{reactiveGeom:r}),a=qu(i).map(([s,o])=>`"${s}": ${o}`);return a.length>0?{signal:`{${a.join(", ")}}`}:void 0}function xV(e,t,n="datum"){if(Me(e)&&UF(e.type)&&!Oe(e,"format")){const r=`datum["${e.field}"]`;return{signal:`isValid(${r}) ? isArray(${r}) ? join(${r}, '\\n') : ${r} : ""+${r}`}}return y8(e,t,n)}function Fke(e){const{markDef:t,config:n}=e,r=qt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...Oke(e),...Dke(e)}}function Oke(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=qt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:qe(Qve,t)?{}:{ariaRoleDescription:{value:t}}}function Dke(e){const{encoding:t,markDef:n,config:r,stack:i}=e,a=t.description;if(a)return Fh({model:e,channelDef:a,vgChannel:"description",mainRefFn:l=>y8(l,e.config),invalidValueRef:void 0});const s=qt("description",n,r);if(s!=null)return{description:pn(s)};if(r.aria===!1)return{};const o=mV(t,i,r);if(!an(o))return{description:{signal:qu(o).filter(([l])=>!l.startsWith("_")).map(([l,u])=>[l,u.replaceAll("\\n"," ")]).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Mr(e,t,n={}){const{markDef:r,encoding:i,config:a}=t,{vgChannel:s}=n;let{defaultRef:o,defaultValue:l}=n;const u=i[e];o===void 0&&(l??(l=qt(e,r,a,{vgChannel:s,ignoreVgConfig:!gm(u)})),l!==void 0&&(o=pn(l)));const c={markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=nY({...c,scaleChannel:e,channelDef:u});return Fh({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:d,mainRefFn:g=>KF({...c,channel:e,channelDef:g,stack:null,defaultRef:o})})}function yV(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:a}=n,s=t.filled??qt("filled",n,i),o=At(["bar","point","circle","square","geoshape"],a)?"transparent":void 0,l=qt(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??o,u=qt(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",d={...l?{fill:pn(l)}:{},...u?{stroke:pn(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&Re(TG("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...Mr("color",e,{vgChannel:c,defaultValue:s?l:u}),...Mr("fill",e,{defaultValue:r.fill?l:void 0}),...Mr("stroke",e,{defaultValue:r.stroke?u:void 0})}}function Nke(e){const{encoding:t,mark:n}=e,r=t.order;return!gc(n)&&Rs(r)?Fh({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>pn(i.value),invalidValueRef:void 0}):{}}function th({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const a=`${e}Offset`,s=t[a],o=n[a];if((a==="xOffset"||a==="yOffset")&&o)return{offsetType:"encoding",offset:KF({channel:a,channelDef:o,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(a),scale:r.getScaleComponent(a),stack:null,defaultRef:pn(s),bandPosition:i})};const l=t[a];return l?{offsetType:"visual",offset:l}:{}}function bi(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:a,config:s,stack:o}=t,l=i[e],u=i[Lo(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:p,offsetType:g}=th({channel:e,markDef:a,encoding:i,model:t,bandPosition:.5}),m=v8({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),x=!l&&Un(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:Mke({channel:e,channelDef:l,channel2Def:u,markDef:a,config:s,scaleName:c,scale:d,stack:o,offset:p,defaultRef:m,bandPosition:g==="encoding"?0:void 0});return x?{[r||e]:x}:void 0}function Mke(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:a,markDef:s}=e;if(xt(n)&&i&&t===i.fieldChannel){if(Me(n)){let o=n.bandPosition;if(o===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(o=.5),o!==void 0)return A2({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:o,offset:a})}return ff(n,r,{suffix:"end"},{offset:a})}return XF(e)}function v8({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:a,config:s}=e;return()=>{const o=e0(n),l=Xu(n),u=qt(n,a,s,{vgChannel:l});if(u!==void 0)return M1(n,u);switch(t){case"zeroOrMin":return A7({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:o,config:s});case"zeroOrMax":return A7({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:o,config:s});case"mid":return{...e[ea(n)],mult:.5}}}}function A7({mainChannel:e,config:t,...n}){const r=tY(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:a,heightSignal:s}=i.zeroOrMax;return{signal:`min(${a},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const Rke={left:"x",center:"xc",right:"x2"},Ike={top:"y",middle:"yc",bottom:"y2"};function vV(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Xu(e);const i=e==="x"?"align":"baseline",a=qt(i,t,n);let s;return nt(a)?(Re(R2e(i)),s=void 0):s=a,e==="x"?Rke[s||(r==="top"?"left":"center")]:Ike[s||r]}function M2(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?_V(e,t,{defaultPos:n,defaultPos2:r}):bi(e,t,{defaultPos:n})}function _V(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:a}=t,s=Lo(e),o=ea(e),l=$ke(t,r,s),u=l[o]?vV(e,i,a):Xu(e);return{...bi(e,t,{defaultPos:n,vgChannel:u}),...l}}function $ke(e,t,n){const{encoding:r,mark:i,markDef:a,stack:s,config:o}=e,l=e0(n),u=ea(n),c=Xu(n),d=r[l],p=e.scaleName(l),g=e.getScaleComponent(l),{offset:m}=n in r||n in a?th({channel:n,markDef:a,encoding:r,model:e}):th({channel:l,markDef:a,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const v=ea(n),_=e.markDef[v];return _!=null?{[v]:{value:_}}:{[c]:{field:e.getName(n)}}}const x=Lke({channel:n,channelDef:d,channel2Def:r[n],markDef:a,config:o,scaleName:p,scale:g,stack:s,offset:m,defaultRef:void 0});return x!==void 0?{[c]:x}:py(n,a)||py(n,{[n]:M4(n,a,o.style),[u]:M4(u,a,o.style)})||py(n,o[i])||py(n,o.mark)||{[c]:v8({model:e,defaultPos:t,channel:n,scaleName:p,scale:g})()}}function Lke({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:s,stack:o,offset:l,defaultRef:u}){return xt(t)&&o&&e.charAt(0)===o.fieldChannel.charAt(0)?ff(t,a,{suffix:"start"},{offset:l}):XF({channel:e,channelDef:n,scaleName:a,scale:s,stack:o,markDef:r,config:i,offset:l,defaultRef:u})}function py(e,t){const n=ea(e),r=Xu(e);if(t[r]!==void 0)return{[r]:M1(e,t[r])};if(t[e]!==void 0)return{[r]:M1(e,t[e])};if(t[n]){const i=t[n];if(If(i))Re(T2e(n));else return{[n]:M1(e,i)}}}function Cl(e,t){const{config:n,encoding:r,markDef:i}=e,a=i.type,s=Lo(t),o=ea(t),l=r[t],u=r[s],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,p=i.orient,g=r[o]??r.size??qt("size",i,n,{vgChannel:o}),m=dG(t),x=a==="bar"&&(t==="x"?p==="vertical":p==="horizontal")||a==="tick"&&(t==="y"?p==="vertical":p==="horizontal");return Me(l)&&(un(l.bin)||Fr(l.bin)||l.timeUnit&&!u)&&!(g&&!If(g))&&!r[m]&&!Er(d)?zke({fieldDef:l,fieldDef2:u,channel:t,model:e}):(xt(l)&&Er(d)||x)&&!u?Bke(l,t,e):_V(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Pke(e,t,n,r,i,a,s){if(If(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=ko("minBandSize",{type:s},r);return{signal:c?`max(${ks(c)}, ${u})`:u}}else i.band!==1&&(Re(P2e(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(nt(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(n0(l)&&Ut(l.step))return{value:l.step-2}}if(!a){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:d}=r.scale,p=zn(l,s==="tick"?d:s==="bar"?u:c);if(nt(p))return{signal:`(1 - (${p.signal})) * ${e}`};if(Ut(p))return{signal:`${1-p} * ${e}`}}return{value:z4(r.view,e)-2}}function Bke(e,t,n){var C,N;const{markDef:r,encoding:i,config:a,stack:s}=n,o=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=ea(t),d=Lo(t),p=dG(t),g=n.scaleName(p),m=n.getScaleComponent(wF(t)),x=r.type==="tick"||o==="horizontal"&&t==="y"||o==="vertical"&&t==="x";let v;(i.size||r.size)&&(x?v=Mr("size",n,{vgChannel:c,defaultRef:pn(r.size)}):Re(W2e(r.type)));const _=!!v,E=uY({channel:t,fieldDef:e,markDef:r,config:a,scaleType:(C=u||m)==null?void 0:C.get("type"),useVlSizeChannel:x});v=v||{[c]:Pke(c,g||l,m||u,a,E,!!e,r.type)};const k=((N=u||m)==null?void 0:N.get("type"))==="band"&&If(E)&&!_?"top":"middle",A=vV(t,r,a,k),T=A==="xc"||A==="yc",{offset:D,offsetType:b}=th({channel:t,markDef:r,encoding:i,model:n,bandPosition:T?.5:0}),F=XF({channel:t,channelDef:e,markDef:r,config:a,scaleName:l,scale:u,stack:s,offset:D,defaultRef:v8({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:T?b==="encoding"?0:.5:nt(E)?{signal:`(1-${E})/2`}:If(E)?(1-E.band)/2:0});if(c)return{[A]:F,...v};{const R=Xu(d),L=v[c],j=D?{...L,offset:D}:L;return{[A]:F,[R]:ke(F)?[F[0],{...F[1],offset:j}]:{...F,offset:j}}}}function C7(e,t,n,r,i,a,s){if(sG(e))return 0;const o=e==="x"||e==="y2",l=o?-t/2:t/2;if(nt(n)||nt(i)||nt(r)||a){const u=ks(n),c=ks(i),d=ks(r),p=ks(a),m=a?`(${s} < ${p} ? ${o?"":"-"}0.5 * (${p} - (${s})) : ${l})`:l,x=d?`${d} + `:"",v=u?`(${u} ? -1 : 1) * `:"",_=c?`(${c} + ${m})`:m;return{signal:x+v+_}}else return i=i||0,r+(n?-i-l:+i+l)}function zke({fieldDef:e,fieldDef2:t,channel:n,model:r}){var N;const{config:i,markDef:a,encoding:s}=r,o=r.getScaleComponent(n),l=r.scaleName(n),u=o?o.get("type"):void 0,c=o.get("reverse"),d=uY({channel:n,fieldDef:e,markDef:a,config:i,scaleType:u}),p=(N=r.component.axes[n])==null?void 0:N[0],g=(p==null?void 0:p.get("translate"))??.5,m=Un(n)?qt("binSpacing",a,i)??0:0,x=Lo(n),v=Xu(n),_=Xu(x),E=ko("minBandSize",a,i),{offset:k}=th({channel:n,markDef:a,encoding:s,model:r,bandPosition:0}),{offset:A}=th({channel:x,markDef:a,encoding:s,model:r,bandPosition:0}),T=cwe({fieldDef:e,scaleName:l}),D=C7(n,m,c,g,k,E,T),b=C7(x,m,c,g,A??k,E,T),F=nt(d)?{signal:`(1-${d.signal})/2`}:If(d)?(1-d.band)/2:.5,C=Ku({fieldDef:e,fieldDef2:t,markDef:a,config:i});if(un(e.bin)||e.timeUnit){const R=e.timeUnit&&C!==.5;return{[_]:T7({fieldDef:e,scaleName:l,bandPosition:F,offset:b,useRectOffsetField:R}),[v]:T7({fieldDef:e,scaleName:l,bandPosition:nt(F)?{signal:`1-${F.signal}`}:1-F,offset:D,useRectOffsetField:R})}}else if(Fr(e.bin)){const R=ff(e,l,{},{offset:b});if(Me(t))return{[_]:R,[v]:ff(t,l,{},{offset:D})};if(t0(e.bin)&&e.bin.step)return{[_]:R,[v]:{signal:`scale("${l}", ${We(e,{expr:"datum"})} + ${e.bin.step})`,offset:D}}}Re(DG(x))}function T7({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return A2({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:Bw,endSuffix:zw}:{}})}const Uke=new Set(["aria","width","height"]);function ts(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?yV(e):{};return{...Wke(e.markDef,t),...F7("fill",n),...F7("stroke",r),...Mr("opacity",e),...Mr("fillOpacity",e),...Mr("strokeOpacity",e),...Mr("strokeWidth",e),...Mr("strokeDash",e),...Nke(e),...gV(e),...x8(e,"href"),...Fke(e)}}function F7(e,t){return t?{[e]:t}:{}}function Wke(e,t){return Jve.reduce((n,r)=>(!Uke.has(r)&&Oe(e,r)&&t[r]!=="ignore"&&(n[r]=pn(e[r])),n),{})}function _8(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,a)=>{var u;let s;if(!Po(a)||!(s=e.getScaleType(a)))return;const o=_w(i.aggregate),l=qF({scaleChannel:a,markDef:n,config:t,scaleType:s,isCountAggregate:o});if(owe(l)){const c=e.vgField(a,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(a=>Sw(a,!0)).join(" && ")}}}function O7(e,t){if(t!==void 0)return{[e]:pn(t)}}const cb="voronoi",wV={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(cb)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,a=e.mark;if(gc(a))return Re(i2e(a)),n;const s={name:e.getName(cb),type:"path",interactive:!0,aria:!1,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...gV(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let o=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?o=c:d.includes(cb)&&(l=!0)}),l||n.splice(o+1,0,s),n}},EV={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!u8(e.bind),parse:(e,t,n)=>OV(t,n),topLevelSignals:(e,t,n)=>{var l;const r=t.name,i=t.project,a=t.bind,s=(l=t.init)==null?void 0:l[0],o=wV.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((u,c)=>{const d=vn(`${r}_${u.field}`);n.filter(g=>g.name===d).length||n.unshift({name:d,...s?{init:Lf(s[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${o}[${Le(u.field)}] : null`}]:[],bind:a[u.field]??a[u.channel]??a})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(u=>u.name===r+Tl),s=r+vm,o=i.items.map(u=>vn(`${r}_${u.field}`)),l=o.map(u=>`${u} !== null`).join(" && ");return o.length&&(a.update=`${l} ? {fields: ${s}, values: [${o.join(", ")}]} : null`),delete a.value,delete a.on,n}},R2="_toggle",kV={defined:e=>e.type==="point"&&!go(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+R2,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Tl,r=t.name+R2;return`${r} ? null : ${n}, ${t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${hf(e)}}, `}${r} ? ${n} : null`}},Hke={defined:e=>e.clear!==void 0&&e.clear!==!1&&!go(e),parse:(e,t)=>{t.clear&&(t.clear=Ye(t.clear)?oc(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(EV.defined(t))for(const r of t.project.items){const i=n.findIndex(a=>a.name===vn(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,a){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:a})}if(t.type==="interval")for(const i of t.project.items){const a=n.findIndex(s=>s.name===i.signals.visual);if(r(a,"[0, 0]"),a===-1){const s=n.findIndex(o=>o.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(a=>a.name===t.name+Tl);r(i,"null"),kV.defined(t)&&(i=n.findIndex(a=>a.name===t.name+R2),r(i,"false"))}return n}},SV={defined:e=>{const t=e.resolve==="global"&&e.bind&&u8(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==$s;return t&&!n&&Re(l2e),t&&n},parse:(e,t,n)=>{const r=gt(n);if(r.select=Ye(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},OV(t,r),Ge(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const o of t.events)o.filter=Ve(o.filter??[]),o.filter.includes(s)||o.filter.push(s)}const i=ib(t.bind)?t.bind.legend:"click",a=Ye(i)?oc(i,"view"):Ve(i);t.bind={legend:{merge:a}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=ib(t.bind)&&t.bind.legend,a=s=>o=>{const l=gt(o);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const o=`${vn(s.field)}_legend`,l=`${r}_${o}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(a(`${o}_symbols`)).concat(i.merge.map(a(`${o}_labels`))).concat(i.merge.map(a(`${o}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(p=>p.name===r+Tl),s=r+vm,o=i.items.filter(p=>p.hasLegend).map(p=>vn(`${r}_${vn(p.field)}_legend`)),u=`${o.map(p=>`${p} !== null`).join(" && ")} ? {fields: ${s}, values: [${o.join(", ")}]} : null`;t.events&&o.length>0?a.on.push({events:o.map(p=>({signal:p})),update:u}):o.length>0&&(a.update=u,delete a.value,delete a.on);const c=n.find(p=>p.name===r+R2),d=ib(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function jke(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const a of Xn(e.component.selection??{})){const s=a.project.hasField[r]??a.project.hasChannel[t];if(s&&SV.defined(a)){const o=n.get("selections")??[];o.push(a.name),n.set("selections",o,!1),s.hasLegend=!0}}}const bV="_translate_anchor",AV="_translate_delta",Gke={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=vl.defined(t),a=r+bV,{x:s,y:o}=t.project.hasChannel;let l=oc(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+vd,u))),n.push({name:a,value:{},on:[{events:l.map(u=>u.between[0]),update:`{x: x(unit), y: y(unit)${s!==void 0?`, extent_x: ${i?G4(e,_n):`slice(${s.signals.visual})`}`:""}${o!==void 0?`, extent_y: ${i?G4(e,Sr):`slice(${o.signals.visual})`}`:""}}`}]},{name:r+AV,value:{},on:[{events:l,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),s!==void 0&&D7(e,t,s,"width",n),o!==void 0&&D7(e,t,o,"height",n),n}};function D7(e,t,n,r,i){const a=t.name,s=a+bV,o=a+AV,l=n.channel,u=vl.defined(t),c=i.find(T=>T.name===n.signals[u?"data":"visual"]),d=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(l),g=p==null?void 0:p.get("type"),m=p==null?void 0:p.get("reverse"),x=u?l===_n?m?"":"-":m?"-":"":"",v=`${s}.extent_${l}`,_=`${x}${o}.${l} / ${u?`${d}`:`span(${v})`}`,E=!u||!p?"panLinear":g==="log"?"panLog":g==="symlog"?"panSymlog":g==="pow"?"panPow":"panLinear",k=u?g==="pow"?`, ${p.get("exponent")??1}`:g==="symlog"?`, ${p.get("constant")??1}`:"":"",A=`${E}(${v}, ${_}${k})`;c.on.push({events:{signal:o},update:u?A:`clampRange(${A}, 0, ${d})`})}const CV="_zoom_anchor",TV="_zoom_delta",Yke={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=vl.defined(t),a=r+TV,{x:s,y:o}=t.project.hasChannel,l=Le(e.scaleName(_n)),u=Le(e.scaleName(Sr));let c=oc(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+vd,d))),n.push({name:r+CV,on:[{events:c,update:i?`{${[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")}}`:"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&N7(e,t,s,"width",n),o!==void 0&&N7(e,t,o,"height",n),n}};function N7(e,t,n,r,i){const a=t.name,s=n.channel,o=vl.defined(t),l=i.find(E=>E.name===n.signals[o?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),d=c==null?void 0:c.get("type"),p=o?G4(e,s):l.name,g=a+TV,m=`${a}${CV}.${s}`,x=!o||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",v=o?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",_=`${x}(${p}, ${m}, ${g}${v})`;l.on.push({events:{signal:g},update:o?_:`clampRange(${_}, 0, ${u})`})}const Pf="_store",Tl="_tuple",Vke="_modify",FV="vlSelectionResolve",Uw=[vke,Cke,mke,kV,EV,vl,SV,Hke,Gke,Yke,wV];function qke(e){let t=e.parent;for(;t&&!_a(t);)t=t.parent;return t}function hf(e,{escape:t}={escape:!0}){let n=t?Le(e.name):e.name;const r=qke(e);if(r){const{facet:i}=r;for(const a of Wa)i[a]&&(n+=` + '__facet_${a}_' + (facet[${Le(r.vgField(a))}])`)}return n}function w8(e){return Xn(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function OV(e,t){(Ye(t.select)||!t.select.on)&&delete e.events,(Ye(t.select)||!t.select.clear)&&delete e.clear,(Ye(t.select)||!t.select.toggle)&&delete e.toggle}function go(e){var t;return(t=e.events)==null?void 0:t.find(n=>"type"in n&&n.type==="timer")}function V4(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...V4(e.object)),t.push(...V4(e.property))),t)}function DV(e){return e.object.type==="MemberExpression"?DV(e.object):e.object.name==="datum"}function NV(e){const t=P5(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&DV(r)&&n.add(V4(r).slice(1).join("."))}),n}class Oh extends Zt{constructor(n,r,i){super(n);be(this,"model");be(this,"filter");be(this,"expr");be(this,"_dependentFields");this.model=r,this.filter=i,this.expr=I2(this.model,this.filter,this),this._dependentFields=NV(this.expr)}clone(){return new Oh(null,this.model,gt(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function Xke(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const a of t){const s=vn(a.name),o=a.select,l=Ye(o)?o:o.type,u=Ge(o)?gt(o):{type:l},c=r[l];for(const g in c)g==="fields"||g==="encodings"||(g==="mark"&&(u.mark={...c.mark,...u.mark}),(u[g]===void 0||u[g]===!0)&&(u[g]=gt(c[g]??u[g])));const d=n[s]={...u,name:s,type:l,init:a.value,bind:a.bind,events:Ye(u.on)?oc(u.on,"scope"):Ve(gt(u.on))};if(go(d)&&(i++,i>1)){delete n[s];continue}const p=gt(a);for(const g of Uw)g.defined(d)&&g.parse&&g.parse(e,d,p)}return i>1&&Re(p2e),n}function MV(e,t,n,r="datum"){const i=Ye(t)?t:t.param,a=vn(i),s=Le(a+Pf);let o;try{o=e.getSelectionComponent(a,i)}catch{return`!!${a}`}if(o.project.timeUnit){const p=n??e.component.data.raw,g=o.project.timeUnit.clone();p.parent?g.insertAsParentOf(p):p.parent=g}const l=o.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=o.resolve==="global"?")":`, ${Le(o.resolve)})`,c=`${l}${s}, ${r}${u}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function RV(e,t,n){const r=vn(t),i=n.encoding;let a=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!a)a=s.project.items[0].field,s.project.items.length>1&&Re(g2e(a));else if(i&&!a){const o=s.project.items.filter(l=>l.channel===i);!o.length||o.length>1?(a=s.project.items[0].field,Re(m2e(o,i,n,a))):a=o[0].field}return`${s.name}[${Le(Ka(a))}]`}function Kke(e,t){for(const[n,r]of qu(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new qi(new Oh(t,e,{param:n}),i,Cn.Lookup,e.component.data.outputNodeRefCounts)}}function I2(e,t,n){return N1(t,r=>Ye(r)?r:b_e(r)?MV(e,r,n):HG(r))}function Jke(e,t){if(e)return ke(e)&&!xu(e)?e.map(n=>t8(n,t)).join(", "):e}function fb(e,t,n,r){var i,a;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(a=e.encode[t]).update??(a.update={}),e.encode[t].update[n]=r}function g1(e,t,n,r={header:!1}){var d,p;const{disable:i,orient:a,scale:s,labelExpr:o,title:l,zindex:u,...c}=e.combine();if(!i){for(const g in c){const m=g,x=Fwe[m],v=c[m];if(x&&x!==t&&x!=="both")delete c[m];else if(ym(v)){const{condition:_,...E}=v,k=Ve(_),A=s7[m];if(A){const{vgProp:T,part:D}=A,b=[...k.map(F=>{const{test:C,...N}=F;return{test:I2(null,C),...N}}),E];fb(c,D,T,b),delete c[m]}else if(A===null){const T={signal:k.map(D=>{const{test:b,...F}=D;return`${I2(null,b)} ? ${jR(F)} : `}).join("")+jR(E)};c[m]=T}}else if(nt(v)){const _=s7[m];if(_){const{vgProp:E,part:k}=_;fb(c,k,E,v),delete c[m]}}At(["labelAlign","labelBaseline"],m)&&c[m]===null&&delete c[m]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:g}=c.encode;c.encode={...g?{grid:g}:{}},an(c.encode)&&delete c.encode}return{scale:s,orient:a,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:zn(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(o!==void 0){let m=o;(p=(d=c.encode)==null?void 0:d.labels)!=null&&p.update&&nt(c.encode.labels.update.text)&&(m=Of(o,"datum.label",c.encode.labels.update.text.signal)),fb(c,"labels","text",{signal:m})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const m of vY)e.hasAxisPart(m)||delete c.encode[m];an(c.encode)&&delete c.encode}const g=Jke(l,n);return{scale:s,orient:a,grid:!1,...g?{title:g}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:zn(u,0)}}}}function IV(e){const{axes:t}=e.component,n=[];for(const r of $l)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const a=r==="x"?"height":"width",s=e.getSizeSignalRef(a).signal;a!==s&&n.push({name:a,update:s})}}return n}function Qke(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>g1(i,"grid",t)),...r.map(i=>g1(i,"grid",t)),...n.map(i=>g1(i,"main",t)),...r.map(i=>g1(i,"main",t))].filter(i=>i)}function M7(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const a=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},o=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...Fe(s),...Fe(o)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${a}" ? ${ks(s[c])} : ${ks(o[c])}`};return u}return t[i]})])}function Zke(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:YG(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],a=e==="x"?"axisX":"axisY",s=nt(n)?"axisOrient":`axis${om(n)}`,o=[...i,...i.map(u=>a+u.substr(4))],l=["axis",s,a];return{vlOnlyAxisConfig:M7(o,r,e,n),vgAxisConfig:M7(l,r,e,n),axisConfigStyle:eSe([...l,...o],r)}}function eSe(e,t){var r;const n=[{}];for(const i of e){let a=(r=t[i])==null?void 0:r.style;if(a){a=Ve(a);for(const s of a)n.push(t.style[s])}}return Object.assign.apply(null,n)}function q4(e,t,n,r={}){var a;const i=wG(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((a=r[s])==null?void 0:a[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const R7={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??tSe(n,e),gridScale:({model:e,channel:t})=>nSe(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||LV(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||$V(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??iSe(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??aSe(t.type,n,Me(t)&&!!t.timeUnit,Me(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const a=e==="x"?"width":e==="y"?"height":void 0,s=a?t.getSizeSignalRef(a):void 0;return n.tickCount??oSe({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:({axis:e,format:t,fieldOrDatumDef:n})=>e.tickMinStep??lSe({format:t,fieldOrDatumDef:n}),title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=PV(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),a=n==="x"?"x2":"y2",s=t.fieldDef(a);return kG(i?[i7(i)]:[],Me(s)?[i7(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>uSe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??cSe(n,t)};function tSe(e,t){return!Er(e)&&Me(t)&&!un(t==null?void 0:t.bin)&&!Fr(t==null?void 0:t.bin)}function nSe(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function rSe(e,t,n,r,i){const a=t==null?void 0:t.labelAngle;if(a!==void 0)return nt(a)?a:pg(a);{const{configValue:s}=q4("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?pg(s):n===_n&&At([HF,WF],e.type)&&!(Me(e)&&e.timeUnit)?270:void 0}}function X4(e){return`(((${e.signal} % 360) + 360) % 360)`}function $V(e,t,n,r){if(e!==void 0)if(n==="x"){if(nt(e)){const i=X4(e),a=nt(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${a} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(nt(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(nt(e)){const i=X4(e),a=nt(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${a} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(nt(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function LV(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,a=r?"bottom":"left";if(nt(e)){const s=X4(e),o=nt(t)?`(${t.signal} === "${a}")`:t===a;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${o} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(nt(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${a}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===a)?"left":"right"}function iSe(e,t){if(t==="x"&&At(["quantitative","temporal"],e))return!0}function aSe(e,t,n,r){if(n&&!Ge(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function sSe(e){return e==="x"?"bottom":"left"}function oSe({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Er(t)&&t!=="log"){if(Me(e)){if(un(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&At(["month","hours","day","quarter"],(i=_r(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function lSe({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(Me(t)){const{timeUnit:n}=t;if(n){const r=zG(n);if(r)return{signal:r}}}}function PV(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,s=i?i.title:void 0;if(a&&s)return SG(a,s);if(a)return a;if(s)return s;if(a!==void 0)return a;if(s!==void 0)return s}function uSe(e,t){const n=e.values;if(ke(n))return yY(t,n);if(nt(n))return n}function cSe(e,t){return e==="rect"&&T2(t)?1:0}class nh extends Zt{constructor(n,r){super(n);be(this,"transform");be(this,"_dependentFields");this.transform=r,this._dependentFields=NV(this.transform.calculate)}clone(){return new nh(null,gt(this.transform))}static parseAllForSortIndex(n,r){return r.forEachFieldDef((i,a)=>{if(a0(i)&&lY(i.sort)){const{field:s,timeUnit:o}=i,l=i.sort,u=l.map((c,d)=>`${HG({field:s,timeUnit:o,equal:c})} ? ${d} : `).join("")+l.length;n=new nh(n,{calculate:u,as:rh(i,a,{forAs:!0})})}}),n}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Tt(this.transform)}`}}function rh(e,t,n){return We(e,{prefix:t,suffix:"sort_index",...n})}function Ww(e,t){return At(["top","bottom"],t)?"column":At(["left","right"],t)||e==="row"?"row":"column"}function ih(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return zn((t||{})[e],i[e],n.header[e])}function Hw(e,t,n,r){const i={};for(const a of e){const s=ih(a,t||{},n,r);s!==void 0&&(i[a]=s)}return i}const E8=["row","column"],k8=["header","footer"];function fSe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:a,titleAngle:s,titleOrient:o}=Hw(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=Ww(t,o),u=pg(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...zV(u,l),...BV(l,u,a),...UV(r,i,t,Jwe,LY)}}}function BV(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=LV(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function zV(e,t){const n=$V(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function dSe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of k8)if(n[i])for(const a of n[i]){const s=pSe(e,t,i,n,a);s!=null&&r.push(s)}return r}function hSe(e,t){const{sort:n}=e;return yl(n)?{field:We(n,{expr:"datum"}),order:n.order??"ascending"}:ke(n)?{field:rh(e,t,{expr:"datum"}),order:"ascending"}:{field:We(e,{expr:"datum"}),order:n??"ascending"}}function K4(e,t,n){const{format:r,formatType:i,labelAngle:a,labelAnchor:s,labelOrient:o,labelExpr:l}=Hw(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=JF({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=Ww(t,o);return{text:{signal:l?Of(Of(l,"datum.label",u),"datum.value",We(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...zV(a,c),...BV(c,a,s),...UV(n,e,t,Qwe,PY)}}function pSe(e,t,n,r,i){if(i){let a=null;const{facetFieldDef:s}=r,o=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:d}=Hw(["labelOrient"],s.header,o,t);(t==="row"&&!At(["top","bottom"],d)||t==="column"&&!At(["left","right"],d))&&(a=K4(s,t,o))}const l=_a(e)&&!pm(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(a||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:hSe(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...a?{title:a}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const gSe={column:{start:0,end:1},row:{start:1,end:0}};function mSe(e,t){return gSe[t][e]}function xSe(e,t){const n={};for(const r of Wa){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:a,titleOrient:s}=Hw(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),o=Ww(r,s),l=mSe(a,o);l!==void 0&&(n[o]=l)}}return an(n)?void 0:n}function UV(e,t,n,r,i){const a={};for(const s of r){if(!i[s])continue;const o=ih(s,t==null?void 0:t.header,e,n);o!==void 0&&(a[i[s]]=o)}return a}function S8(e){return[...gy(e,"width"),...gy(e,"height"),...gy(e,"childWidth"),...gy(e,"childHeight")]}function gy(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(r==null||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const a=e.getScaleComponent(n);if(a){const s=a.get("type"),o=a.get("range");if(Er(s)&&n0(o)){const l=e.scaleName(n);return _a(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[I7(l,o)]:[I7(l,o),{name:i,update:WV(l,a,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const a=i.endsWith("width"),s=a?"containerSize()[0]":"containerSize()[1]",o=B4(e.config.view,a?"width":"height"),l=`isFinite(${s}) ? ${s} : ${o}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function I7(e,t){const n=`${e}_step`;return nt(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function WV(e,t,n){const r=t.get("type"),i=t.get("padding"),a=zn(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${ks(s)}, ${ks(a)}) * ${e}_step`}function HV(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function jV(e,t){return Fe(e).reduce((n,r)=>({...n,...Fh({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>pn(i.value),invalidValueRef:void 0})}),{})}function GV(e,t){if(_a(t))return e==="theta"?"independent":"shared";if(Mh(t))return"shared";if(D8(t))return Un(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function b8(e,t){const n=e.scale[t],r=Un(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Re(V2e(t)),"independent"):e[r][t]||"shared"}const ySe={...tEe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},YV=Fe(ySe);class vSe extends Pl{}const $7={symbols:_Se,gradient:wSe,labels:ESe,entries:kSe};function _Se(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:a}){if(a!=="symbol")return;const{markDef:s,encoding:o,config:l,mark:u}=n,c=s.filled&&u!=="trail";let d={...t2e({},n,J_e),...yV(n,{filled:c})};const p=i.get("symbolOpacity")??l.legend.symbolOpacity,g=i.get("symbolFillColor")??l.legend.symbolFillColor,m=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,x=p===void 0?VV(o.opacity)??s.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===Qi)delete d.fill;else if(Oe(d.fill,"field"))g?delete d.fill:(d.fill=pn(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=pn(x??1));else if(ke(d.fill)){const v=J4(o.fill??o.color)??s.fill??(c&&s.color);v&&(d.fill=pn(v))}}if(d.stroke){if(r==="stroke"||!c&&r===Qi)delete d.stroke;else if(Oe(d.stroke,"field")||m)delete d.stroke;else if(ke(d.stroke)){const v=zn(J4(o.stroke||o.color),s.stroke,c?s.color:void 0);v&&(d.stroke={value:v})}}if(r!==Il){const v=Me(t)&&XV(n,i,t);v?d.opacity=[{test:v,...pn(x??1)},pn(l.legend.unselectedOpacity)]:x&&(d.opacity=pn(x))}return d={...d,...e},an(d)?void 0:d}function wSe(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:a,encoding:s}=t;let o={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?VV(s.opacity)||a.opacity:void 0;return u&&(o.opacity=pn(u)),o={...o,...e},an(o)?void 0:o}function ESe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const a=n.legend(r)||{},s=n.config,o=Me(t)?XV(n,i,t):void 0,l=o?[{test:o,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=a;let d;$f(c)?d=Ss({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=Ss({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&Me(t)&&t.timeUnit===void 0&&(d=Ss({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const p={...l?{opacity:l}:{},...d?{text:d}:{},...e};return an(p)?void 0:p}function kSe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function VV(e){return qV(e,(t,n)=>Math.max(t,n.value))}function J4(e){return qV(e,(t,n)=>zn(t,n.value))}function qV(e,t){if(xwe(e))return Ve(e.condition).reduce(t,e.value);if(Rs(e))return e.value}function XV(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=Le(n.field);return r.map(a=>`(!length(data(${Le(vn(a)+Pf)})) || (${a}[${i}] && indexof(${a}[${i}], datum.value) >= 0))`).join(" || ")}const L7={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return aY(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return sY(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??OSe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??DSe(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??bSe(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>yd(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(xd(n)&&uo(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>SSe(t,e)};function SSe(e,t){const n=e.values;if(ke(n))return yY(t,n);if(nt(n))return n}function bSe(e,t,n,r){if(t!=="shape"){const i=J4(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function ASe(e){const{legend:t}=e;return zn(t.type,CSe(e))}function CSe({channel:e,timeUnit:t,scaleType:n}){if(xd(e)){if(At(["quarter","month","day"],t))return"symbol";if(uo(n))return"gradient"}return"symbol"}function TSe({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??FSe(n,t)}function FSe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function OSe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:s,gradientVerticalMaxLength:o,gradientVerticalMinLength:l}=e;if(uo(i))return n==="horizontal"?r==="top"||r==="bottom"?P7(t,"width",s,a):s:P7(t,"height",l,o)}function P7(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function DSe(e){if(At(["quantile","threshold","log","symlog"],e))return"greedy"}function KV(e){const t=An(e)?NSe(e):$Se(e);return e.component.legends=t,t}function NSe(e){const{encoding:t}=e,n={};for(const r of[Qi,...zY]){const i=rr(t[r]);!i||!e.getScaleComponent(r)||r===Zi&&Me(i)&&i.type===Th||(n[r]=ISe(e,r))}return n}function MSe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function RSe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function ISe(e,t){var A;let n=e.legend(t);const{markDef:r,encoding:i,config:a}=e,s=a.legend,o=new vSe({},MSe(e,t));jke(e,t,o);const l=n!==void 0?!n:s.disable;if(o.set("disable",l,n!==void 0),l)return o;n=n||{};const u=e.getScaleComponent(t).get("type"),c=rr(i[t]),d=Me(c)?(A=_r(c.timeUnit))==null?void 0:A.unit:void 0,p=n.orient||a.legend.orient||"right",g=ASe({legend:n,channel:t,timeUnit:d,scaleType:u}),m=TSe({legend:n,legendType:g,orient:p,legendConfig:s}),x={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:a,scaleType:u,orient:p,legendType:g,direction:m};for(const T of YV){if(g==="gradient"&&T.startsWith("symbol")||g==="symbol"&&T.startsWith("gradient"))continue;const D=T in L7?L7[T](x):n[T];if(D!==void 0){const b=RSe(D,T,n,e.fieldDef(t));(b||a.legend[T]===void 0)&&o.set(T,D,b)}}const v=(n==null?void 0:n.encoding)??{},_=o.get("selections"),E={},k={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:o,legendType:g};for(const T of["labels","legend","title","symbols","gradient","entries"]){const D=jV(v[T]??{},e),b=T in $7?$7[T](D,k):D;b!==void 0&&!an(b)&&(E[T]={..._!=null&&_.length&&Me(c)?{name:`${vn(c.field)}_legend_${T}`}:{},..._!=null&&_.length?{interactive:!0}:{},update:_!=null&&_.length?{...b,cursor:{value:"pointer"}}:b})}return an(E)||o.set("encode",E,!!(n!=null&&n.encoding)),o}function $Se(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){KV(r);for(const i of Fe(r.component.legends))n.legend[i]=b8(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=JV(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of Fe(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function JV(e,t){var a,s,o,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of YV){const c=Ju(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(d,p)=>{switch(u){case"symbolType":return LSe(d,p);case"title":return bG(d,p);case"type":return i=!0,la("symbol")}return Pw(d,p,u,"legend")});e.setWithExplicit(u,c)}return i&&((s=(a=e.implicit)==null?void 0:a.encode)!=null&&s.gradient&&k2(e.implicit,["encode","gradient"]),(l=(o=e.explicit)==null?void 0:o.encode)!=null&&l.gradient&&k2(e.explicit,["encode","gradient"])),e}function LSe(e,t){return t.value==="circle"?t:e}function PSe(e,t,n,r){var i,a;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(a=e.encode[t]).update??(a.update={}),e.encode[t].update[n]=r}function QV(e){const t=e.component.legends,n={};for(const i of Fe(t)){const a=e.getScaleComponent(i),s=Xt(a.get("domains"));if(n[s])for(const o of n[s])JV(o,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Xn(n).flat().map(i=>BSe(i,e.config)).filter(i=>i!==void 0)}function BSe(e,t){var s,o,l;const{disable:n,labelExpr:r,selections:i,...a}=e.combine();if(!n){if(t.aria===!1&&a.aria==null&&(a.aria=!1),(s=a.encode)!=null&&s.symbols){const u=a.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!a.stroke&&(u.stroke={value:"transparent"});for(const c of zY)a[c]&&delete u[c]}if(a.title||delete a.title,r!==void 0){let u=r;(l=(o=a.encode)==null?void 0:o.labels)!=null&&l.update&&nt(a.encode.labels.update.text)&&(u=Of(r,"datum.label",a.encode.labels.update.text.signal)),PSe(a,"labels","text",{signal:u})}return a}}function zSe(e){return Mh(e)||D8(e)?USe(e):ZV(e)}function USe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),ZV(e))}function ZV(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},a=t.data.reduce((s,o)=>{const l=nt(o)?o.signal:`data('${e.lookupDataSource(o)}')`;return At(s,l)||s.push(l),s},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const WSe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class eq extends Pl{constructor(n,r,i,a){super({...r},{name:n});be(this,"specifiedProjection");be(this,"size");be(this,"data");be(this,"merged",!1);this.specifiedProjection=r,this.size=i,this.data=a}get isFit(){return!!this.data}}function tq(e){e.component.projection=An(e)?HSe(e):YSe(e)}function HSe(e){if(e.hasProjection){const t=Or(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?jSe(e):void 0,a=new eq(e.projectionName(!0),{...Or(e.config.projection),...t},r,i);return a.get("type")||a.set("type","equalEarth",!1),a}}function jSe(e){const t=[],{encoding:n}=e;for(const r of[[Hs,Ws],[Ja,js]])(rr(n[r[0]])||rr(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Zi)&&e.typedFieldDef(Zi).type===Th&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Cn.Main)),t}function GSe(e,t){const n=pF(WSe,i=>!!(!qe(e.explicit,i)&&!qe(t.explicit,i)||qe(e.explicit,i)&&qe(t.explicit,i)&&ga(e.get(i),t.get(i))));if(ga(e.size,t.size)){if(n)return e;if(ga(e.explicit,{}))return t;if(ga(t.explicit,{}))return e}return null}function YSe(e){if(e.children.length===0)return;let t;for(const r of e.children)tq(r);const n=pF(e.children,r=>{const i=r.component.projection;if(i)if(t){const a=GSe(t,i);return a&&(t=a),!!a}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new eq(r,t.specifiedProjection,t.size,gt(t.data));for(const a of e.children){const s=a.component.projection;s&&(s.isFit&&i.data.push(...a.component.projection.data),a.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function VSe(e,t,n,r){if(xm(t,n)){const i=An(e)?e.axis(n)??e.legend(n)??{}:{},a=We(t,{expr:"datum"}),s=We(t,{expr:"datum",binSuffix:"end"});return{formulaAs:We(t,{binSuffix:"range",forAs:!0}),formula:hm(a,s,i.format,i.formatType,r)}}return{}}function nq(e,t){return`${xG(e)}_${t}`}function qSe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function A8(e,t,n){const r=Nw(n,void 0)??{},i=nq(r,t);return e.getName(`${i}_bins`)}function XSe(e){return"as"in e}function B7(e,t,n){let r,i;XSe(e)?r=Ye(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[We(e,{forAs:!0}),We(e,{binSuffix:"end",forAs:!0})];const a={...Nw(t,void 0)},s=nq(a,e.field),{signal:o,extentSignal:l}=qSe(n,s);if(ww(a.extent)){const c=a.extent;i=RV(n,c.param,c),delete a.extent}const u={bin:a,field:e.field,as:[r],...o?{signal:o}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class mo extends Zt{constructor(n,r){super(n);be(this,"bins");this.bins=r}clone(){return new mo(null,gt(this.bins))}static makeFromEncoding(n,r){const i=r.reduceFieldDef((a,s,o)=>{if(Ni(s)&&un(s.bin)){const{key:l,binComponent:u}=B7(s,s.bin,r);a[l]={...u,...a[l],...VSe(r,s,o,r.config)}}return a},{});return an(i)?null:new mo(n,i)}static makeFromTransform(n,r,i){const{key:a,binComponent:s}=B7(r,r.bin,i);return new mo(n,{[a]:s})}merge(n,r){for(const i of Fe(n.bins))i in this.bins?(r(n.bins[i].signal,this.bins[i].signal),this.bins[i].as=lo([...this.bins[i].as,...n.bins[i].as],Tt)):this.bins[i]=n.bins[i];for(const i of n.children)n.removeChild(i),i.parent=this;n.remove()}producedFields(){return new Set(Xn(this.bins).map(n=>n.as).flat(2))}dependentFields(){return new Set(Xn(this.bins).map(n=>n.field))}hash(){return`Bin ${Tt(this.bins)}`}assemble(){return Xn(this.bins).flatMap(n=>{const r=[],[i,...a]=n.as,{extent:s,...o}=n.bin,l={type:"bin",field:Ka(n.field),as:i,signal:n.signal,...ww(s)?{extent:null}:{extent:s},...n.span?{span:{signal:`span(${n.span})`}}:{},...o};!s&&n.extentSignal&&(r.push({type:"extent",field:Ka(n.field),signal:n.extentSignal}),l.extent={signal:n.extentSignal}),r.push(l);for(const u of a)for(let c=0;c<2;c++)r.push({type:"formula",expr:We({field:i[c]},{expr:"datum"}),as:u[c]});return n.formula&&r.push({type:"formula",expr:n.formula,as:n.formulaAs}),r})}}function KSe(e,t,n,r){var a;const i=An(r)?r.encoding[Lo(t)]:void 0;if(Ni(n)&&An(r)&&cY(n,i,r.markDef,r.config)){e.add(We(n,{})),e.add(We(n,{suffix:"end"}));const{mark:s,markDef:o,config:l}=r,u=Ku({fieldDef:n,markDef:o,config:l});gg(s)&&u!==.5&&Un(t)&&(e.add(We(n,{suffix:Bw})),e.add(We(n,{suffix:zw}))),n.bin&&xm(n,t)&&e.add(We(n,{binSuffix:"range"}))}else if(lG(t)){const s=oG(t);e.add(r.getName(s))}else e.add(We(n));return a0(n)&&P_e((a=n.scale)==null?void 0:a.range)&&e.add(n.scale.range.field),e}function JSe(e,t){for(const n of Fe(t)){const r=t[n];for(const i of Fe(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Ts extends Zt{constructor(n,r,i){super(n);be(this,"dimensions");be(this,"measures");this.dimensions=r,this.measures=i}clone(){return new Ts(null,new Set(this.dimensions),gt(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(n,r){let i=!1;r.forEachFieldDef(o=>{o.aggregate&&(i=!0)});const a={},s=new Set;return!i||(r.forEachFieldDef((o,l)=>{const{aggregate:u,field:c}=o;if(u)if(u==="count")a["*"]??(a["*"]={}),a["*"].count=new Set([We(o,{forAs:!0})]);else{if(Al(u)||pc(u)){const d=Al(u)?"argmin":"argmax",p=u[d];a[p]??(a[p]={}),a[p][d]=new Set([We({op:d,field:p},{forAs:!0})])}else a[c]??(a[c]={}),a[c][u]=new Set([We(o,{forAs:!0})]);Po(l)&&r.scaleDomain(l)==="unaggregated"&&(a[c]??(a[c]={}),a[c].min=new Set([We({field:c,aggregate:"min"},{forAs:!0})]),a[c].max=new Set([We({field:c,aggregate:"max"},{forAs:!0})]))}else KSe(s,l,o,r)}),s.size+Fe(a).length===0)?null:new Ts(n,s,a)}static makeFromTransform(n,r){var s;const i=new Set,a={};for(const o of r.aggregate){const{op:l,field:u,as:c}=o;l&&(l==="count"?(a["*"]??(a["*"]={}),a["*"].count=new Set([c||We(o,{forAs:!0})])):(a[u]??(a[u]={}),(s=a[u])[l]??(s[l]=new Set),a[u][l].add(c||We(o,{forAs:!0}))))}for(const o of r.groupby??[])i.add(o);return i.size+Fe(a).length===0?null:new Ts(n,i,a)}merge(n){return Qj(this.dimensions,n.dimensions)?(JSe(this.measures,n.measures),!0):(u_e("different dimensions, cannot merge"),!1)}addDimensions(n){n.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Fe(this.measures)])}producedFields(){const n=new Set;for(const r of Fe(this.measures))for(const i of Fe(this.measures[r])){const a=this.measures[r][i];a.size===0?n.add(`${i}_${r}`):a.forEach(n.add,n)}return n}hash(){return`Aggregate ${Tt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const n=[],r=[],i=[];for(const s of Fe(this.measures))for(const o of Fe(this.measures[s]))for(const l of this.measures[s][o])i.push(l),n.push(o),r.push(s==="*"?null:Ka(s));return{type:"aggregate",groupby:[...this.dimensions].map(Ka),ops:n,fields:r,as:i}}}class Dh extends Zt{constructor(n,r,i,a){super(n);be(this,"model");be(this,"name");be(this,"data");be(this,"column");be(this,"row");be(this,"facet");be(this,"childModel");this.model=r,this.name=i,this.data=a;for(const s of Wa){const o=r.facet[s];if(o){const{bin:l,sort:u}=o;this[s]={name:r.getName(`${s}_domain`),fields:[We(o),...un(l)?[We(o,{binSuffix:"end"})]:[]],...yl(u)?{sortField:u}:ke(u)?{sortIndexField:rh(o,s)}:{}}}}this.childModel=r.child}hash(){let n="Facet";for(const r of Wa)this[r]&&(n+=` ${r.charAt(0)}:${Tt(this[r])}`);return n}get fields(){var r;const n=[];for(const i of Wa)(r=this[i])!=null&&r.fields&&n.push(...this[i].fields);return n}dependentFields(){const n=new Set(this.fields);for(const r of Wa)this[r]&&(this[r].sortField&&n.add(this[r].sortField.field),this[r].sortIndexField&&n.add(this[r].sortIndexField));return n}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const n={};for(const r of $l){const i=this.childModel.component.scales[r];if(i&&!i.merged){const a=i.get("type"),s=i.get("range");if(Er(a)&&n0(s)){const o=jw(this.childModel,r),l=O8(o);l?n[r]=l:Re(TF(r))}}}return n}assembleRowColumnHeaderData(n,r,i){const a={row:"y",column:"x",facet:void 0}[n],s=[],o=[],l=[];a&&i&&i[a]&&(r?(s.push(`distinct_${i[a]}`),o.push("max")):(s.push(i[a]),o.push("distinct")),l.push(`distinct_${i[a]}`));const{sortField:u,sortIndexField:c}=this[n];if(u){const{op:d=Fw,field:p}=u;s.push(p),o.push(d),l.push(We(u,{forAs:!0}))}else c&&(s.push(c),o.push("max"),l.push(c));return{name:this[n].name,source:r??this.data,transform:[{type:"aggregate",groupby:this[n].fields,...s.length?{fields:s,ops:o,as:l}:{}}]}}assembleFacetHeaderData(n){var u,c;const{columns:r}=this.model.layout,{layoutHeaders:i}=this.model.component,a=[],s={};for(const d of E8){for(const p of k8){const g=((u=i[d])==null?void 0:u[p])??[];for(const m of g)if(((c=m.axes)==null?void 0:c.length)>0){s[d]=!0;break}}if(s[d]){const p=`length(data("${this.facet.name}"))`,g=d==="row"?r?{signal:`ceil(${p} / ${r})`}:1:r?{signal:`min(${p}, ${r})`}:{signal:p};a.push({name:`${this.facet.name}_${d}`,transform:[{type:"sequence",start:0,stop:g}]})}}const{row:o,column:l}=s;return(o||l)&&a.unshift(this.assembleRowColumnHeaderData("facet",null,n)),a}assemble(){const n=[];let r=null;const i=this.getChildIndependentFieldsWithStep(),{column:a,row:s,facet:o}=this;if(a&&s&&(i.x||i.y)){r=`cross_${this.column.name}_${this.row.name}`;const l=[].concat(i.x??[],i.y??[]),u=l.map(()=>"distinct");n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:u}]})}for(const l of[xl,ml])this[l]&&n.push(this.assembleRowColumnHeaderData(l,r,i));if(o){const l=this.assembleFacetHeaderData(i);l&&n.push(...l)}return n}}function z7(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function QSe(e,t){const n=xF(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=z7(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=z7(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Re(y2e(t)),null}function ZSe(e){const t={};return iv(e.filter,n=>{if(WG(n)){let r=null;RF(n)?r=da(n.equal):$F(n)?r=da(n.lte):IF(n)?r=da(n.lt):LF(n)?r=da(n.gt):PF(n)?r=da(n.gte):BF(n)?r=n.range[0]:zF(n)&&(r=(n.oneOf??n.in)[0]),r&&(r0(r)?t[n.field]="date":Ut(r)?t[n.field]="number":Ye(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function ebe(e){const t={};function n(r){Zd(r)?t[r.field]="date":r.type==="quantitative"&&Gve(r.aggregate)?t[r.field]="number":Vd(r.field)>1?r.field in t||(t[r.field]="flatten"):a0(r)&&yl(r.sort)&&Vd(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((An(e)||_a(e))&&e.forEachFieldDef((r,i)=>{if(Ni(r))n(r);else{const a=e0(i),s=e.fieldDef(a);n({...r,type:s.type})}}),An(e)){const{mark:r,markDef:i,encoding:a}=e;if(gc(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",o=a[s];Me(o)&&o.type==="quantitative"&&!(o.field in t)&&(t[o.field]="number")}}return t}function tbe(e){const t={};if(An(e)&&e.component.selection)for(const n of Fe(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Vd(i.field)>1&&(t[i.field]="flatten")}return t}class ti extends Zt{constructor(n,r){super(n);be(this,"_parse");this._parse=r}clone(){return new ti(null,gt(this._parse))}hash(){return`Parse ${Tt(this._parse)}`}static makeExplicit(n,r,i){var o;let a={};const s=r.data;return!$u(s)&&((o=s==null?void 0:s.format)!=null&&o.parse)&&(a=s.format.parse),this.makeWithAncestors(n,a,{},i)}static makeWithAncestors(n,r,i,a){for(const l of Fe(i)){const u=a.getWithExplicit(l);u.value!==void 0&&(u.explicit||u.value===i[l]||u.value==="derived"||i[l]==="flatten"?delete i[l]:Re(KR(l,i[l],u.value)))}for(const l of Fe(r)){const u=a.get(l);u!==void 0&&(u===r[l]?delete r[l]:Re(KR(l,r[l],u)))}const s=new Pl(r,i);a.copyAll(s);const o={};for(const l of Fe(s.combine())){const u=s.get(l);u!==null&&(o[l]=u)}return Fe(o).length===0||a.parseNothing?null:new ti(n,o)}get parse(){return this._parse}merge(n){this._parse={...this._parse,...n.parse},n.remove()}assembleFormatParse(){const n={};for(const r of Fe(this._parse)){const i=this._parse[r];Vd(r)===1&&(n[r]=i)}return n}producedFields(){return new Set(Fe(this._parse))}dependentFields(){return new Set(Fe(this._parse))}assembleTransforms(n=!1){return Fe(this._parse).filter(r=>n?Vd(r)>1:!0).map(r=>{const i=QSe(r,this._parse[r]);return i?{type:"formula",expr:i,as:Ah(r)}:null}).filter(r=>r!==null)}}class Qu extends Zt{clone(){return new Qu(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([$s])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:$s}}}class _m extends Zt{constructor(n,r){super(n);be(this,"params");this.params=r}clone(){return new _m(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Tt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class wm extends Zt{constructor(n,r){super(n);be(this,"params");this.params=r}clone(){return new wm(null,this.params)}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Tt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Bf extends Zt{constructor(n){super(null);be(this,"_data");be(this,"_name");be(this,"_generator");n??(n={name:"source"});let r;if($u(n)||(r=n.format?{...va(n.format,["parse"])}:{}),mg(n))this._data={values:n.values};else if(eh(n)){if(this._data={url:n.url},!r.type){let i=/(?:\.([^.]+))?$/.exec(n.url)[1];At(["json","csv","tsv","dsv","topojson"],i)||(i="json"),r.type=i}}else aV(n)?this._data={values:[{type:"Sphere"}]}:(rV(n)||$u(n))&&(this._data={});this._generator=$u(n),n.name&&(this._name=n.name),r&&!an(r)&&(this._data.format=r)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(n){this._name=n}set parent(n){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function C8(e){return e instanceof Bf||e instanceof _m||e instanceof wm}var Sd;class T8{constructor(){GD(this,Sd);Wk(this,Sd,!1)}setModified(){Wk(this,Sd,!0)}get modifiedFlag(){return jD(this,Sd)}}Sd=new WeakMap;class s0 extends T8{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,a)=>a[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class F8 extends T8{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class nbe extends F8{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of Fe(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class rbe extends F8{constructor(n){super();be(this,"requiresSelectionId");this.requiresSelectionId=n&&w8(n)}run(n){n instanceof Qu&&(this.requiresSelectionId&&(C8(n.parent)||n.parent instanceof Ts||n.parent instanceof ti)||(this.setModified(),n.remove()))}}class ibe extends T8{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof po&&(r=t.producedFields(),gF(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class abe extends F8{constructor(){super()}run(t){t instanceof qi&&!t.isRequired()&&(this.setModified(),t.remove())}}class sbe extends s0{run(t){if(!C8(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof ti)if(t instanceof ti)this.setModified(),t.merge(n);else{if(mF(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class obe extends s0{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof ti);if(t.numChildren()>1&&r.length>=1){const i={},a=new Set;for(const s of r){const o=s.parse;for(const l of Fe(o))l in i?i[l]!==o[l]&&a.add(l):i[l]=o[l]}for(const s of a)delete i[s];if(!an(i)){this.setModified();const s=new ti(t,i);for(const o of n){if(o instanceof ti)for(const l of Fe(i))delete o.parse[l];t.removeChild(o),o.parent=s,o instanceof ti&&Fe(o.parse).length===0&&o.remove()}}}}}class lbe extends s0{run(t){t instanceof qi||t.numChildren()>0||t instanceof Dh||t instanceof Bf||(this.setModified(),t.remove())}}class ube extends s0{run(t){const n=t.children.filter(i=>i instanceof po),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class cbe extends s0{run(t){const n=t.children.filter(i=>i instanceof Ts),r={};for(const i of n){const a=Tt(i.groupBy);a in r||(r[a]=[]),r[a].push(i)}for(const i of Fe(r)){const a=r[i];if(a.length>1){const s=a.pop();for(const o of a)s.merge(o)&&(t.removeChild(o),o.parent=s,o.remove(),this.setModified())}}}}class fbe extends s0{constructor(n){super();be(this,"model");this.model=n}run(n){const r=!(C8(n)||n instanceof Oh||n instanceof ti||n instanceof Qu),i=[],a=[];for(const s of n.children)s instanceof mo&&(r&&!mF(n.producedFields(),s.dependentFields())?i.push(s):a.push(s));if(i.length>0){const s=i.pop();for(const o of i)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),n instanceof mo?n.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(a.length>1){const s=a.pop();for(const o of a)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class dbe extends s0{run(t){const n=[...t.children];if(!Yd(n,s=>s instanceof qi)||t.numChildren()<=1)return;const i=[];let a;for(const s of n)if(s instanceof qi){let o=s;for(;o.numChildren()===1;){const[l]=o.children;if(l instanceof qi)o=l;else break}i.push(...o.children),a?(t.removeChild(s),s.parent=a.parent,a.parent.removeChild(a),a.parent=o,this.setModified()):a=o}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=a}}}class o0 extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r}clone(){return new o0(null,gt(this.transform))}addDimensions(n){this.transform.groupby=lo(this.transform.groupby.concat(n),r=>r)}dependentFields(){const n=new Set;return this.transform.groupby&&this.transform.groupby.forEach(n.add,n),this.transform.joinaggregate.map(r=>r.field).filter(r=>r!==void 0).forEach(n.add,n),n}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(n){return n.as??We(n)}hash(){return`JoinAggregateTransform ${Tt(this.transform)}`}assemble(){const n=[],r=[],i=[];for(const s of this.transform.joinaggregate)r.push(s.op),i.push(this.getDefaultName(s)),n.push(s.field===void 0?null:s.field);const a=this.transform.groupby;return{type:"joinaggregate",as:i,ops:r,fields:n,...a!==void 0?{groupby:a}:{}}}}class ah extends Zt{constructor(n,r){super(n);be(this,"filter");this.filter=r}clone(){return new ah(null,{...this.filter})}static make(n,r,i){const{config:a,markDef:s}=r,{marks:o,scales:l}=i;if(o==="include-invalid-values"&&l==="include-invalid-values")return null;const u=r.reduceFieldDef((c,d,p)=>{const g=Po(p)&&r.getScaleComponent(p);if(g){const m=g.get("type"),{aggregate:x}=d,v=qF({scaleChannel:p,markDef:s,config:a,scaleType:m,isCountAggregate:_w(x)});v!=="show"&&v!=="always-valid"&&(c[d.field]=d)}return c},{});return Fe(u).length?new ah(n,u):null}dependentFields(){return new Set(Fe(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Tt(this.filter)}`}assemble(){const n=Fe(this.filter).reduce((r,i)=>{const a=this.filter[i],s=We(a,{expr:"datum"});return a!==null&&(a.type==="temporal"?r.push(`(isDate(${s}) || (${Q4(s)}))`):a.type==="quantitative"&&r.push(Q4(s))),r},[]);return n.length>0?{type:"filter",expr:n.join(" && ")}:null}}function Q4(e){return`isValid(${e}) && isFinite(+${e})`}function hbe(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=We(r);return i&&t.push(i),t},[])}function pbe(e){return ke(e)&&e.every(t=>Ye(t))&&e.length>1}class _l extends Zt{constructor(n,r){super(n);be(this,"_stack");this._stack=r}clone(){return new _l(null,gt(this._stack))}static makeFromTransform(n,r){const{stack:i,groupby:a,as:s,offset:o="zero"}=r,l=[],u=[];if(r.sort!==void 0)for(const p of r.sort)l.push(p.field),u.push(zn(p.order,"ascending"));const c={field:l,order:u};let d;return pbe(s)?d=s:Ye(s)?d=[s,`${s}_end`]:d=[`${r.stack}_start`,`${r.stack}_end`],new _l(n,{dimensionFieldDefs:[],stackField:i,groupby:a,offset:o,sort:c,facetby:[],as:d})}static makeFromEncoding(n,r){const i=r.stack,{encoding:a}=r;if(!i)return null;const{groupbyChannels:s,fieldChannel:o,offset:l,impute:u}=i,c=s.map(m=>{const x=a[m];return Is(x)}).filter(m=>!!m),d=hbe(r),p=r.encoding.order;let g;if(ke(p)||Me(p))g=EG(p);else{const m=fY(p)?p.sort:o==="y"?"descending":"ascending";g=d.reduce((x,v)=>(x.field.includes(v)||(x.field.push(v),x.order.push(m)),x),{field:[],order:[]})}return new _l(n,{dimensionFieldDefs:c,stackField:r.vgField(o),facetby:[],stackby:d,sort:g,offset:l,impute:u,as:[r.vgField(o,{suffix:"start",forAs:!0}),r.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(n){this._stack.facetby.push(...n)}dependentFields(){const n=new Set;return n.add(this._stack.stackField),this.getGroupbyFields().forEach(n.add,n),this._stack.facetby.forEach(n.add,n),this._stack.sort.field.forEach(n.add,n),n}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Tt(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:n,impute:r,groupby:i}=this._stack;return n.length>0?n.map(a=>a.bin?r?[We(a,{binSuffix:"mid"})]:[We(a,{}),We(a,{binSuffix:"end"})]:[We(a)]).flat():i??[]}assemble(){const n=[],{facetby:r,dimensionFieldDefs:i,stackField:a,stackby:s,sort:o,offset:l,impute:u,as:c}=this._stack;if(u)for(const d of i){const{bandPosition:p=.5,bin:g}=d;if(g){const m=We(d,{expr:"datum"}),x=We(d,{expr:"datum",binSuffix:"end"});n.push({type:"formula",expr:`${Q4(m)} ? ${p}*${m}+${1-p}*${x} : ${m}`,as:We(d,{binSuffix:"mid",forAs:!0})})}n.push({type:"impute",field:a,groupby:[...s,...r],key:We(d,{binSuffix:"mid"}),method:"value",value:0})}return n.push({type:"stack",groupby:[...this.getGroupbyFields(),...r],field:a,sort:o,as:c,offset:l}),n}}class Nh extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r}clone(){return new Nh(null,gt(this.transform))}addDimensions(n){this.transform.groupby=lo(this.transform.groupby.concat(n),r=>r)}dependentFields(){const n=new Set;return(this.transform.groupby??[]).forEach(n.add,n),(this.transform.sort??[]).forEach(r=>n.add(r.field)),this.transform.window.map(r=>r.field).filter(r=>r!==void 0).forEach(n.add,n),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(n){return n.as??We(n)}hash(){return`WindowTransform ${Tt(this.transform)}`}assemble(){const n=[],r=[],i=[],a=[];for(const p of this.transform.window)r.push(p.op),i.push(this.getDefaultName(p)),a.push(p.param===void 0?null:p.param),n.push(p.field===void 0?null:p.field);const s=this.transform.frame,o=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&r.every(p=>AF(p)))return{type:"joinaggregate",as:i,ops:r,fields:n,...o!==void 0?{groupby:o}:{}};const l=[],u=[];if(this.transform.sort!==void 0)for(const p of this.transform.sort)l.push(p.field),u.push(p.order??"ascending");const c={field:l,order:u},d=this.transform.ignorePeers;return{type:"window",params:a,as:i,ops:r,fields:n,sort:c,...d!==void 0?{ignorePeers:d}:{},...o!==void 0?{groupby:o}:{},...s!==void 0?{frame:s}:{}}}}function gbe(e){function t(n){if(!(n instanceof Dh)){const r=n.clone();if(r instanceof qi){const i=e3+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Ts||r instanceof _l||r instanceof Nh||r instanceof o0)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function Z4(e){if(e instanceof Dh)if(e.numChildren()===1&&!(e.children[0]instanceof qi)){const t=e.children[0];(t instanceof Ts||t instanceof _l||t instanceof Nh||t instanceof o0)&&t.addDimensions(e.fields),t.swapWithParent(),Z4(e)}else{const t=e.model.component.data.main;rq(t);const n=gbe(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(Z4)}function rq(e){if(e instanceof qi&&e.type===Cn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof Dh||(t.swapWithParent(),rq(e))}}const e3="scale_",my=5;function t3(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!t3(t.children))return!1}return!0}function us(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function U7(e,t,n){let r=e.sources,i=!1;return i=us(new abe,r)||i,i=us(new rbe(t),r)||i,r=r.filter(a=>a.numChildren()>0),i=us(new lbe,r)||i,r=r.filter(a=>a.numChildren()>0),n||(i=us(new sbe,r)||i,i=us(new fbe(t),r)||i,i=us(new ibe,r)||i,i=us(new obe,r)||i,i=us(new cbe,r)||i,i=us(new ube,r)||i,i=us(new nbe,r)||i,i=us(new dbe,r)||i),e.sources=r,i}function mbe(e,t){t3(e.sources);let n=0,r=0;for(let i=0;i<my&&U7(e,t,!0);i++)n++;e.sources.map(Z4);for(let i=0;i<my&&U7(e,t,!1);i++)r++;t3(e.sources),Math.max(n,r)===my&&Re(`Maximum optimization runs(${my}) reached.`)}class pr{constructor(t){be(this,"signal");Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new pr(()=>t(n))}}function iq(e){An(e)?xbe(e):ybe(e)}function xbe(e){const t=e.component.scales;for(const n of Fe(t)){const r=_be(e,n);if(t[n].setWithExplicit("domains",r),Ebe(e,n),e.component.data.isFaceted){let a=e;for(;!_a(a)&&a.parent;)a=a.parent;if(a.component.resolve.scale[n]==="shared")for(const o of r.value)fl(o)&&(o.data=e3+o.data.replace(e3,""))}}}function ybe(e){for(const n of e.children)iq(n);const t=e.component.scales;for(const n of Fe(t)){let r,i=null;for(const a of e.children){const s=a.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=Ju(r,s.getWithExplicit("domains"),"domains","scale",n3);const o=s.get("selectionExtent");i&&o&&i.param!==o.param&&Re(f2e),i=o}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function vbe(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:a}=W7(t,n);if(!i){Re(a);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=W7(t,n);if(i)return"unaggregated"}return e}function _be(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=vbe(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&rr(r.x2)?rr(r.x)?Ju(du(n,i,e,"x"),du(n,i,e,"x2"),"domain","scale",n3):du(n,i,e,"x2"):t==="y"&&rr(r.y2)?rr(r.y)?Ju(du(n,i,e,"y"),du(n,i,e,"y2"),"domain","scale",n3):du(n,i,e,"y2"):du(n,i,e,t)}function wbe(e,t,n){return e.map(r=>({signal:`{data: ${Mw(r,{timeUnit:n,type:t})}}`}))}function db(e,t,n){var i;const r=(i=_r(n))==null?void 0:i.unit;return t==="temporal"||r?wbe(e,t,r):[e]}function du(e,t,n,r){const{encoding:i,markDef:a,mark:s,config:o,stack:l}=n,u=rr(i[r]),{type:c}=u,d=u.timeUnit,p=pke({invalid:ko("invalid",a,o),isPath:gc(s)});if(L_e(t)){const x=du(e,void 0,n,r),v=db(t.unionWith,c,d);return ro([...v,...x.value])}else{if(nt(t))return ro([t]);if(t&&t!=="unaggregated"&&!qG(t))return ro(db(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return la([[0,1]]);const x=n.requestDataName(p);return la([{data:x,field:n.vgField(r,{suffix:"start"})},{data:x,field:n.vgField(r,{suffix:"end"})}])}const g=Po(r)&&Me(u)?kbe(n,r,e):void 0;if(Bo(u)){const x=db([u.datum],c,d);return la(x)}const m=u;if(t==="unaggregated"){const{field:x}=u;return la([{data:n.requestDataName(p),field:We({field:x,aggregate:"min"})},{data:n.requestDataName(p),field:We({field:x,aggregate:"max"})}])}else if(un(m.bin)){if(Er(e))return la(e==="bin-ordinal"?[]:[{data:hg(g)?n.requestDataName(p):n.requestDataName(Cn.Raw),field:n.vgField(r,xm(m,r)?{binSuffix:"range"}:{}),sort:g===!0||!Ge(g)?{field:n.vgField(r,{}),op:"min"}:g}]);{const{bin:x}=m;if(un(x)){const v=A8(n,m.field,x);return la([new pr(()=>{const _=n.getSignalName(v);return`[${_}.start, ${_}.stop]`})])}else return la([{data:n.requestDataName(p),field:n.vgField(r,{})}])}}else if(m.timeUnit&&At(["time","utc"],e)){const x=i[Lo(r)];if(cY(m,x,a,o)){const v=n.requestDataName(p),_=Ku({fieldDef:m,fieldDef2:x,markDef:a,config:o}),E=gg(s)&&_!==.5&&Un(r);return la([{data:v,field:n.vgField(r,E?{suffix:Bw}:{})},{data:v,field:n.vgField(r,{suffix:E?zw:"end"})}])}}return la(g?[{data:hg(g)?n.requestDataName(p):n.requestDataName(Cn.Raw),field:n.vgField(r),sort:g}]:[{data:n.requestDataName(p),field:n.vgField(r)}])}function hb(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":Fw),...r?{field:Ka(r)}:{},...i?{order:i}:{}}}function Ebe(e,t){var o;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(o=e.fieldDef(t))==null?void 0:o.bin,a=qG(r)?r:void 0,s=t0(i)&&ww(i.extent)?i.extent:void 0;(a||s)&&n.set("selectionExtent",a??s,!0)}function kbe(e,t,n){if(!Er(n))return;const r=e.fieldDef(t),i=r.sort;if(lY(i))return{op:"min",field:rh(r,t),order:"ascending"};const{stack:a}=e,s=a?new Set([...a.groupbyFields,...a.stackBy.map(o=>o.fieldDef.field)]):void 0;if(yl(i)){const o=a&&!s.has(i.field);return hb(i,o)}else if(pwe(i)){const{encoding:o,order:l}=i,u=e.fieldDef(o),{aggregate:c,field:d}=u,p=a&&!s.has(d);if(Al(c)||pc(c))return hb({field:We(u),order:l},p);if(AF(c)||!c)return hb({op:c,field:d,order:l},p)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(At(["ascending",void 0],i))return!0}}function W7(e,t){const{aggregate:n,type:r}=e;return n?Ye(n)&&!Vve.has(n)?{valid:!1,reason:z2e(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:U2e(e)}:{valid:!0}:{valid:!1,reason:B2e(e)}}function n3(e,t,n,r){return e.explicit&&t.explicit&&Re(Y2e(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function Sbe(e){const t=lo(e.map(s=>{if(fl(s)){const{sort:o,...l}=s;return l}return s}),Tt),n=lo(e.map(s=>{if(fl(s)){const o=s.sort;return o!==void 0&&!hg(o)&&("op"in o&&o.op==="count"&&delete o.field,o.order==="ascending"&&delete o.order),o}}).filter(s=>s!==void 0),Tt);if(t.length===0)return;if(t.length===1){const s=e[0];if(fl(s)&&n.length>0){let o=n[0];if(n.length>1){Re(QR);const l=n.filter(u=>Ge(u)&&"op"in u&&u.op!=="min");n.every(u=>Ge(u)&&"op"in u)&&l.length===1?o=l[0]:o=!0}else if(Ge(o)&&"field"in o){const l=o.field;s.field===l&&(o=o.order?{order:o.order}:!0)}return{...s,sort:o}}return s}const r=lo(n.map(s=>hg(s)||!("op"in s)||Ye(s.op)&&qe(Hve,s.op)?s:(Re(q2e(s)),!0)),Tt);let i;r.length===1?i=r[0]:r.length>1&&(Re(QR),i=!0);const a=lo(e.map(s=>fl(s)?s.data:null),s=>s);return a.length===1&&a[0]!==null?{data:a[0],fields:t.map(o=>o.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function O8(e){if(fl(e)&&Ye(e.field))return e.field;if(qve(e)){let t;for(const n of e.fields)if(fl(n)&&Ye(n.field)){if(!t)t=n.field;else if(t!==n.field)return Re(X2e),t}return Re(K2e),t}else if(Xve(e)){Re(J2e);const t=e.fields[0];return Ye(t)?t:void 0}}function jw(e,t){const r=e.component.scales[t].get("domains").map(i=>(fl(i)&&(i.data=e.lookupDataSource(i.data)),i));return Sbe(r)}function aq(e){return Mh(e)||D8(e)?e.children.reduce((t,n)=>t.concat(aq(n)),H7(e)):H7(e)}function H7(e){return Fe(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:a,type:s,selectionExtent:o,domains:l,range:u,reverse:c,...d}=i,p=bbe(i.range,a,n,e),g=jw(e,n),m=o?bke(e,o,r,g):null;return t.push({name:a,type:s,...g?{domain:g}:{},...m?{domainRaw:m}:{},range:p,...c!==void 0?{reverse:c}:{},...d}),t},[])}function bbe(e,t,n,r){if(Un(n)){if(n0(e))return{step:{signal:`${t}_step`}}}else if(Ge(e)&&fl(e))return{...e,data:r.lookupDataSource(e.data)};return e}class sq extends Pl{constructor(n,r){super({},{name:n});be(this,"merged",!1);this.setWithExplicit("type",r)}domainHasZero(){const n=this.get("type");if(At([Nr.LOG,Nr.TIME,Nr.UTC],n))return"definitely-not";const r=this.get("zero");if(r===!0||r===void 0&&At([Nr.LINEAR,Nr.SQRT,Nr.POW],n))return"definitely";const i=this.get("domains");if(i.length>0){let a=!1,s=!1,o=!1;for(const l of i){if(ke(l)){const u=l[0],c=l[l.length-1];if(Ut(u)&&Ut(c))if(u<=0&&c>=0){a=!0;continue}else{s=!0;continue}}o=!0}if(a)return"definitely";if(s&&!o)return"definitely-not"}return"maybe"}}const Abe=["range","scheme"];function Cbe(e){const t=e.component.scales;for(const n of bF){const r=t[n];if(!r)continue;const i=Tbe(n,e);r.setWithExplicit("range",i)}}function j7(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,a=ea(t),s=e.getName(a);if(Ge(r)&&r.binned&&r.step!==void 0)return new pr(()=>{const o=e.scaleName(t),l=`(domain("${o}")[1] - domain("${o}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(un(r)){const o=A8(e,i,r);return new pr(()=>{const l=e.getSignalName(o),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function Tbe(e,t){const n=t.specifiedScales[e],{size:r}=t,a=t.getScaleComponent(e).get("type");for(const d of Abe)if(n[d]!==void 0){const p=$4(a,d),g=XG(e,d);if(!p)Re(FG(a,d,e));else if(g)Re(g);else switch(d){case"range":{const m=n.range;if(ke(m)){if(Un(e))return ro(m.map(x=>{if(x==="width"||x==="height"){const v=t.getName(x),_=t.getSignalName.bind(t);return pr.fromName(_,v)}return x}))}else if(Ge(m))return ro({data:t.requestDataName(Cn.Main),field:m.field,sort:{op:"min",field:t.vgField(e)}});return ro(m)}case"scheme":return ro(Fbe(n[d]))}}const s=e===_n||e==="xOffset"?"width":"height",o=r[s];if(bo(o)){if(Un(e))if(Er(a)){const d=lq(o,t,e);if(d)return ro({step:d})}else Re(OG(s));else if(cm(e)){const d=e===lc?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const m=uq(o,a);if(m)return ro(m)}}}const{rangeMin:l,rangeMax:u}=n,c=Obe(e,t);return(l!==void 0||u!==void 0)&&$4(a,"rangeMin")&&ke(c)&&c.length===2?ro([l??c[0],u??c[1]]):la(c)}function Fbe(e){return $_e(e)?{scheme:e.name,...va(e,["name"])}:{scheme:e}}function oq(e,t,n,{center:r}={}){const i=ea(e),a=t.getName(i),s=t.getSignalName.bind(t);return e===Sr&&Ms(n)?r?[pr.fromName(o=>`${s(o)}/2`,a),pr.fromName(o=>`-${s(o)}/2`,a)]:[pr.fromName(s,a),0]:r?[pr.fromName(o=>`-${s(o)}/2`,a),pr.fromName(o=>`${s(o)}/2`,a)]:[0,pr.fromName(s,a)]}function Obe(e,t){const{size:n,config:r,mark:i,encoding:a}=t,{type:s}=rr(a[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case _n:case Sr:{if(At(["point","band"],l)){const d=cq(e,n,r.view);if(bo(d))return{step:lq(d,t,e)}}return oq(e,t,l)}case lc:case Ch:return Dbe(e,t,l);case Rl:{const d=Rbe(i,r),p=Ibe(i,n,t,r);return Kd(l)?Mbe(d,p,Nbe(l,r,u,e)):[d,p]}case es:return[0,Math.PI*2];case Zf:return[0,360];case Us:return[0,new pr(()=>{const d=t.getSignalName(_a(t.parent)?"child_width":"width"),p=t.getSignalName(_a(t.parent)?"child_height":"height");return`min(${d},${p})/2`})];case uc:return{step:1e3/r.scale.framesPerSecond};case dc:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case hc:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Zi:return"symbol";case Qi:case Io:case $o:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Il:case cc:case fc:return[r.scale.minOpacity,r.scale.maxOpacity]}}function lq(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),a=wF(n),s=r[a];if(WY({step:e,offsetIsDiscrete:xt(s)&&UF(s.type)})==="offset"&&EY(r,a)){const l=t.getScaleComponent(a);let c=`domain('${t.scaleName(a)}').length`;if(l.get("type")==="band"){const p=l.get("paddingInner")??l.get("padding")??0,g=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${p}, ${g})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${e2e(d)})`}}else return e.step}function uq(e,t){if(WY({step:e,offsetIsDiscrete:Er(t)})==="offset")return{step:e.step}}function Dbe(e,t,n){const r=e===lc?"x":"y",i=t.getScaleComponent(r);if(!i)return oq(r,t,n,{center:!0});const a=i.get("type"),s=t.scaleName(r),{markDef:o,config:l}=t;if(a==="band"){const u=cq(r,t.size,t.config.view);if(bo(u)){const c=uq(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(Me(u)&&u.timeUnit){const c=zG(u.timeUnit,m=>`scale('${s}', ${m})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,p=Ku({fieldDef:u,markDef:o,config:l})-.5,g=p!==0?` + ${p}`:"";if(d){const m=nt(d)?`${d.signal}/2${g}`:`${d/2+p}`,x=nt(d)?`(1 - ${d.signal}/2)${g}`:`${1-d/2+p}`;return[{signal:`${m} * (${c})`},{signal:`${x} * (${c})`}]}return[0,{signal:c}]}return Kj(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function cq(e,t,n){const r=e===_n?"width":"height",i=t[r];return i!==void 0?i:N2(n,r)}function Nbe(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&ke(n)?n.length+1:(Re(s_e(r)),3)}}function Mbe(e,t,n){const r=()=>{const i=ks(t),a=ks(e),s=`(${i} - ${a}) / (${n} - 1)`;return`sequence(${a}, ${i} + ${s}, ${s})`};return nt(t)?new pr(r):{signal:r()}}function Rbe(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(Ew("size",e))}const G7=.95;function Ibe(e,t,n,r){const i={x:j7(n,"x"),y:j7(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const a=Y7(t,i,r.view);return Ut(a)?a-1:new pr(()=>`${a.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const a=Y7(t,i,r.view);return Ut(a)?Math.pow(G7*a,2):new pr(()=>`pow(${G7} * ${a.signal}, 2)`)}}throw new Error(Ew("size",e))}function Y7(e,t,n){const r=bo(e.width)?e.width.step:z4(n,"width"),i=bo(e.height)?e.height.step:z4(n,"height");return t.x||t.y?new pr(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function fq(e,t){An(e)?$be(e,t):hq(e,t)}function $be(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:a,specifiedScales:s}=e;for(const o of Fe(n)){const l=s[o],u=n[o],c=e.getScaleComponent(o),d=rr(i[o]),p=l[t],g=c.get("type"),m=c.get("padding"),x=c.get("paddingInner"),v=$4(g,t),_=XG(o,t);if(p!==void 0&&(v?_&&Re(_):Re(FG(g,t,o))),v&&_===void 0)if(p!==void 0){const E=d.timeUnit,k=d.type;switch(t){case"domainMax":case"domainMin":r0(l[t])||k==="temporal"||E?u.set(t,{signal:Mw(l[t],{type:k,timeUnit:E})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const E=Oe(V7,t)?V7[t]({model:e,channel:o,fieldOrDatumDef:d,scaleType:g,scalePadding:m,scalePaddingInner:x,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:a,config:r,hasNestedOffsetScale:kY(i,o),hasSecondaryRangeChannel:!!i[Lo(o)]}):r.scale[t];E!==void 0&&u.set(t,E,!1)}}}const V7={bins:({model:e,fieldOrDatumDef:t})=>Me(t)?Lbe(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>Pbe(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:a})=>Bbe(e,t,n,r,i,a),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>zbe(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:a})=>Ube(e,t,n.type,r,i.scale,a),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:a})=>Wbe(e,t,n,r,i.scale,a),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=Me(e)?e.sort:void 0;return Hbe(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:a,hasSecondaryRangeChannel:s})=>jbe(e,t,n,r,i,a.scale,s)};function dq(e){An(e)?Cbe(e):hq(e,"range")}function hq(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?dq(r):fq(r,t);for(const r of Fe(n)){let i;for(const a of e.children){const s=a.component.scales[r];if(s){const o=s.getWithExplicit(t);i=Ju(i,o,t,"scale",nV((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function Lbe(e,t){const n=t.bin;if(un(n)){const r=A8(e,t.field,n);return new pr(()=>e.getSignalName(r))}else if(Fr(n)&&t0(n)&&n.step!==void 0)return{step:n.step}}function Pbe(e,t){if(At([Qi,Io,$o],e)&&t!=="nominal")return"hcl"}function Bbe(e,t,n,r,i,a){var s;if(!((s=Is(a))!=null&&s.bin||ke(n)||i!=null||r!=null||At([Nr.TIME,Nr.UTC],e)))return Un(t)?!0:void 0}function zbe(e,t,n,r,i,a){if(Un(e)){if(uo(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:o}=i;if(s==="bar"&&!(Me(r)&&(r.bin||r.timeUnit))&&(o==="vertical"&&e==="x"||o==="horizontal"&&e==="y"))return a.continuousBandSize}if(t===Nr.POINT)return n.pointPadding}}function Ube(e,t,n,r,i,a=!1){if(e===void 0){if(Un(t)){const{bandPaddingInner:s,barBandPaddingInner:o,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return a?c:zn(s,n==="bar"?o:n==="tick"?u:l)}else if(cm(t)&&r===Nr.BAND)return i.offsetBandPaddingInner}}function Wbe(e,t,n,r,i,a=!1){if(e===void 0){if(Un(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:o}=i;if(a)return o;if(n===Nr.BAND)return zn(s,nt(r)?{signal:`${r.signal}/2`}:r/2)}else if(cm(t)){if(n===Nr.POINT)return .5;if(n===Nr.BAND)return i.offsetBandPaddingOuter}}}function Hbe(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Ms(e)&&t==="descending"?nt(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Ms(e)&&t==="descending")return!0}function jbe(e,t,n,r,i,a,s){if(!!n&&n!=="unaggregated"&&Ms(i)){if(ke(n)){const l=n[0],u=n[n.length-1];if(Ut(l)&&l<=0&&Ut(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Kd(i))return!0;if(!(Me(t)&&t.bin)&&At([...$l,...Rve],e)){const{orient:l,type:u}=r;return At(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:At(["bar","area"],u)&&!s?!0:a==null?void 0:a.zero}return!1}function Gbe(e,t,n,r,i=!1){const a=Ybe(t,n,r,i),{type:s}=e;return Po(t)?s!==void 0?H_e(t,s)?Me(n)&&!W_e(s,n.type)?(Re(j2e(s,a)),a):s:(Re(H2e(t,s,a)),a):a:null}function Ybe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(xd(e)||tb(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Re(nb(e,"ordinal")),"ordinal";if(eb(e))return"band";if(Un(e)||cm(e)){if(At(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in SF)return"band";const a=n[ea(e)];return If(a)||Qd(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return xd(e)?"time":tb(e)==="discrete"?(Re(nb(e,"temporal")),"ordinal"):Me(t)&&t.timeUnit&&_r(t.timeUnit).utc?"utc":eb(e)?"band":"time";case"quantitative":return xd(e)?Me(t)&&un(t.bin)?"bin-ordinal":"linear":tb(e)==="discrete"?(Re(nb(e,"quantitative")),"ordinal"):eb(e)?"band":"linear";case"geojson":return}throw new Error(CG(t.type))}function Vbe(e,{ignoreRange:t}={}){pq(e),iq(e);for(const n of U_e)fq(e,n);t||dq(e)}function pq(e){An(e)?e.component.scales=qbe(e):e.component.scales=Kbe(e)}function qbe(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const a of bF){const s=rr(t[a]);if(s&&n===QG&&a===Zi&&s.type===Th)continue;let o=s&&s.scale;if(s&&o!==null&&o!==!1){o??(o={});const l=kY(t,a),u=Gbe(o,a,s,r,l);i[a]=new sq(e.scaleName(`${a}`,!0),{value:u,explicit:o.type===u})}}return i}const Xbe=nV((e,t)=>e7(e)-e7(t));function Kbe(e){var i;const t=e.component.scales={},n={},r=e.component.resolve;for(const a of e.children){pq(a);for(const s of Fe(a.component.scales))if((i=r.scale)[s]??(i[s]=GV(s,e)),r.scale[s]==="shared"){const o=n[s],l=a.component.scales[s].getWithExplicit("type");o?D_e(o.value,l.value)?n[s]=Ju(o,l,"type","scale",Xbe):(r.scale[s]="independent",delete n[s]):n[s]=l}}for(const a of Fe(n)){const s=e.scaleName(a,!0),o=n[a];t[a]=new sq(s,o);for(const l of e.children){const u=l.component.scales[a];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return t}class pb{constructor(){be(this,"nameMap");this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function An(e){return(e==null?void 0:e.type)==="unit"}function _a(e){return(e==null?void 0:e.type)==="facet"}function D8(e){return(e==null?void 0:e.type)==="concat"}function Mh(e){return(e==null?void 0:e.type)==="layer"}class N8{constructor(t,n,r,i,a,s,o){be(this,"type");be(this,"parent");be(this,"config");be(this,"name");be(this,"size");be(this,"title");be(this,"description");be(this,"data");be(this,"transforms");be(this,"layout");be(this,"scaleNameMap");be(this,"projectionNameMap");be(this,"signalNameMap");be(this,"component");be(this,"view");this.type=n,this.parent=r,this.config=a,this.parent=r,this.config=a,this.view=Or(o),this.name=t.name??i,this.title=xu(t.title)?{text:t.title}:t.title?Or(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new pb,this.projectionNameMap=r?r.projectionNameMap:new pb,this.signalNameMap=r?r.signalNameMap:new pb,this.data=t.data,this.description=t.description,this.transforms=nke(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:sEe(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Ow(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Pl,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?gt(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Vbe(this)}parseProjection(){tq(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){KV(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const a of Fe(r)){const s=r[a];s!==void 0&&(i[a]=pn(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=pn(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:an(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,a=xSe(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...a?{titleBand:a}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Wa)t[r].title&&n.push(fSe(this,r));for(const r of E8)n=n.concat(dSe(this,r));return n}assembleAxes(){return Qke(this.component.axes,this.config)}assembleLegends(){return QV(this)}assembleProjections(){return zSe(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...yG(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return At(["unit","layer"],this.type)?At(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),an(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||_a(this.parent)?aq(this):[];i.length>0&&(n.scales=i);const a=this.assembleAxes();a.length>0&&(n.axes=a);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return vn((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Cn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(_a(this.parent)){const n=HV(t),r=vw(n),i=this.component.scales[r];if(i&&!i.merged){const a=i.get("type"),s=i.get("range");if(Er(a)&&n0(s)){const o=i.get("name"),l=jw(this,r),u=O8(l);if(u){const c=We({aggregate:"distinct",field:u},{expr:"datum"});return{signal:WV(o,i,c)}}else return Re(TF(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(cG(t)&&Po(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(a2e(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class gq extends N8{vgField(t,n={}){const r=this.fieldDef(t);if(r)return We(r,n)}reduceFieldDef(t,n){return Iwe(this.getMapping(),(r,i,a)=>{const s=Is(i);return s?t(r,s,a):r},n)}forEachFieldDef(t,n){r8(this.getMapping(),(r,i)=>{const a=Is(r);a&&t(a,i)},n)}}class Gw extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r,this.transform=gt(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"value",i[1]??"density"];const a=this.transform.resolve??"shared";this.transform.resolve=a}clone(){return new Gw(null,gt(this.transform))}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Tt(this.transform)}`}assemble(){const{density:n,...r}=this.transform,i={type:"kde",field:n,...r};return i.resolve=this.transform.resolve,i}}class Yw extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r,this.transform=gt(r)}clone(){return new Yw(null,gt(this.transform))}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Tt(this.transform)}`}assemble(){const{extent:n,param:r}=this.transform;return{type:"extent",field:n,signal:r}}}class Vw extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r,this.transform=gt(r);const{flatten:i,as:a=[]}=this.transform;this.transform.as=i.map((s,o)=>a[o]??s)}clone(){return new Vw(this.parent,gt(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Tt(this.transform)}`}assemble(){const{flatten:n,as:r}=this.transform;return{type:"flatten",fields:n,as:r}}}class qw extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r,this.transform=gt(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"key",i[1]??"value"]}clone(){return new qw(null,gt(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Tt(this.transform)}`}assemble(){const{fold:n,as:r}=this.transform;return{type:"fold",fields:n,as:r}}}class _d extends Zt{constructor(n,r,i,a){super(n);be(this,"fields");be(this,"geojson");be(this,"signal");this.fields=r,this.geojson=i,this.signal=a}clone(){return new _d(null,gt(this.fields),this.geojson,this.signal)}static parseAll(n,r){if(r.component.projection&&!r.component.projection.isFit)return n;let i=0;for(const a of[[Hs,Ws],[Ja,js]]){const s=a.map(o=>{const l=rr(r.encoding[o]);return Me(l)?l.field:Bo(l)?{expr:`${l.datum}`}:Rs(l)?{expr:`${l.value}`}:void 0});(s[0]||s[1])&&(n=new _d(n,s,null,r.getName(`geojson_${i++}`)))}if(r.channelHasField(Zi)){const a=r.typedFieldDef(Zi);a.type===Th&&(n=new _d(n,null,a.field,r.getName(`geojson_${i++}`)))}return n}dependentFields(){const n=(this.fields??[]).filter(Ye);return new Set([...this.geojson?[this.geojson]:[],...n])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Tt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class xg extends Zt{constructor(n,r,i,a){super(n);be(this,"projection");be(this,"fields");be(this,"as");this.projection=r,this.fields=i,this.as=a}clone(){return new xg(null,this.projection,gt(this.fields),gt(this.as))}static parseAll(n,r){if(!r.projectionName())return n;for(const i of[[Hs,Ws],[Ja,js]]){const a=i.map(o=>{const l=rr(r.encoding[o]);return Me(l)?l.field:Bo(l)?{expr:`${l.datum}`}:Rs(l)?{expr:`${l.value}`}:void 0}),s=i[0]===Ja?"2":"";(a[0]||a[1])&&(n=new xg(n,r.projectionName(),a,[r.getName(`x${s}`),r.getName(`y${s}`)]))}return n}dependentFields(){return new Set(this.fields.filter(Ye))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Tt(this.fields)} ${Tt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class pf extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r}clone(){return new pf(null,gt(this.transform))}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(n){const{start:r=0,stop:i,step:a}=n;return{signal:`sequence(${[r,i,...a?[a]:[]].join(",")})`}}static makeFromTransform(n,r){return new pf(n,r)}static makeFromEncoding(n,r){const i=r.encoding,a=i.x,s=i.y;if(Me(a)&&Me(s)){const o=a.impute?a:s.impute?s:void 0;if(o===void 0)return;const l=a.impute?s:s.impute?a:void 0,{method:u,value:c,frame:d,keyvals:p}=o.impute,g=AY(r.mark,i);return new pf(n,{impute:o.field,key:l.field,...u?{method:u}:{},...c!==void 0?{value:c}:{},...d?{frame:d}:{},...p!==void 0?{keyvals:p}:{},...g.length?{groupby:g}:{}})}return null}hash(){return`Impute ${Tt(this.transform)}`}assemble(){const{impute:n,key:r,keyvals:i,method:a,groupby:s,value:o,frame:l=[null,null]}=this.transform,u={type:"impute",field:n,key:r,...i?{keyvals:LEe(i)?this.processSequence(i):i}:{},method:"value",...s?{groupby:s}:{},value:!a||a==="value"?o:null};if(a&&a!=="value"){const c={type:"window",as:[`imputed_${n}_value`],ops:[a],fields:[n],frame:l,ignorePeers:!1,...s?{groupby:s}:{}},d={type:"formula",expr:`datum.${n} === null ? datum.imputed_${n}_value : datum.${n}`,as:n};return[u,c,d]}else return[u]}}class Xw extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r,this.transform=gt(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.loess]}clone(){return new Xw(null,gt(this.transform))}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Tt(this.transform)}`}assemble(){const{loess:n,on:r,...i}=this.transform;return{type:"loess",x:r,y:n,...i}}}class yg extends Zt{constructor(n,r,i){super(n);be(this,"transform");be(this,"secondary");this.transform=r,this.secondary=i}clone(){return new yg(null,gt(this.transform),this.secondary)}static make(n,r,i,a){const s=r.component.data.sources,{from:o}=i;let l=null;if(PEe(o)){let u=yq(o.data,s);u||(u=new Bf(o.data),s.push(u));const c=r.getName(`lookup_${a}`);l=new qi(u,c,Cn.Lookup,r.component.data.outputNodeRefCounts),r.component.data.outputNodes[c]=l}else if(BEe(o)){const u=o.param;i={as:u,...i};let c;try{c=r.getSelectionComponent(vn(u),u)}catch{throw new Error(u2e(u))}if(l=c.materialized,!l)throw new Error(c2e(u))}return new yg(n,i,l.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Ve(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Tt({transform:this.transform,secondary:this.secondary})}`}assemble(){let n;if(this.transform.from.fields)n={values:this.transform.from.fields,...this.transform.as?{as:Ve(this.transform.as)}:{}};else{let r=this.transform.as;Ye(r)||(Re(w2e),r="_lookup"),n={as:[r]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...n,...this.transform.default?{default:this.transform.default}:{}}}}class Kw extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r,this.transform=gt(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??"prob",i[1]??"value"]}clone(){return new Kw(null,gt(this.transform))}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Tt(this.transform)}`}assemble(){const{quantile:n,...r}=this.transform;return{type:"quantile",field:n,...r}}}class Jw extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r,this.transform=gt(r);const i=this.transform.as??[void 0,void 0];this.transform.as=[i[0]??r.on,i[1]??r.regression]}clone(){return new Jw(null,gt(this.transform))}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Tt(this.transform)}`}assemble(){const{regression:n,on:r,...i}=this.transform;return{type:"regression",x:r,y:n,...i}}}class Qw extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r}clone(){return new Qw(null,gt(this.transform))}addDimensions(n){this.transform.groupby=lo((this.transform.groupby??[]).concat(n),r=>r)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Tt(this.transform)}`}assemble(){const{pivot:n,value:r,groupby:i,limit:a,op:s}=this.transform;return{type:"pivot",field:n,value:r,...a!==void 0?{limit:a}:{},...s!==void 0?{op:s}:{},...i!==void 0?{groupby:i}:{}}}}class Zw extends Zt{constructor(n,r){super(n);be(this,"transform");this.transform=r}clone(){return new Zw(null,gt(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Tt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function mq(e){let t=0;function n(r,i){if(r instanceof Bf&&!r.isGenerator&&!eh(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof ti&&(r.parent instanceof Bf&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof Dh){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof _m||r instanceof wm||r instanceof ah||r instanceof Oh||r instanceof nh||r instanceof xg||r instanceof Ts||r instanceof yg||r instanceof Nh||r instanceof o0||r instanceof qw||r instanceof Vw||r instanceof Gw||r instanceof Xw||r instanceof Kw||r instanceof Jw||r instanceof Qu||r instanceof Zw||r instanceof Qw||r instanceof Yw)&&i.transform.push(r.assemble()),(r instanceof mo||r instanceof po||r instanceof pf||r instanceof _l||r instanceof _d)&&i.transform.push(...r.assemble()),r instanceof qi&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof qi?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof qi&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let a=i.name;!i.source||i.transform.length>0?e.push(i):a=i.source;for(const s of r.children)n(s,{name:null,source:a,transform:[]});break}}}return n}function Jbe(e){const t=[],n=mq(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function Qbe(e,t){const n=[],r=mq(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const o=s.assemble();r(s,o)}for(const s of n)s.transform.length===0&&delete s.transform;let a=0;for(const[s,o]of n.entries())(o.transform??[]).length===0&&!o.source&&n.splice(a++,0,n.splice(s,1)[0]);for(const s of n)for(const o of s.transform??[])o.type==="lookup"&&(o.from=e.outputNodes[o.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function Zbe(e){return e==="top"||e==="left"||nt(e)?"header":"footer"}function eAe(e){for(const t of Wa)tAe(e,t);q7(e,"x"),q7(e,"y")}function tAe(e,t){var s;const{facet:n,config:r,child:i,component:a}=e;if(e.channelHasField(t)){const o=n[t],l=ih("title",null,r,t);let u=yd(o,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=ke(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=ih("labelOrient",o.header,r,t),d=o.header!==null?zn((s=o.header)==null?void 0:s.labels,r.header.labels,!0):!1,p=At(["bottom","right"],c)?"footer":"header";a.layoutHeaders[t]={title:o.header!==null?u:null,facetFieldDef:o,[p]:t==="facet"?[]:[xq(e,t,d)]}}}function xq(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function q7(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=b8(i,t),i.axis[t]==="shared"){const a=t==="x"?"column":"row",s=r[a];for(const o of n.component.axes[t]){const l=Zbe(o.get("orient"));s[l]??(s[l]=[xq(e,a,!1)]);const u=g1(o,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),o.mainExtracted=!0}}}}function nAe(e){M8(e),$2(e,"width"),$2(e,"height")}function rAe(e){M8(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";$2(e,t),$2(e,n)}function M8(e){for(const t of e.children)t.parseLayoutSize()}function $2(e,t){const n=HV(t),r=vw(n),i=e.component.resolve,a=e.component.layoutSize;let s;for(const o of e.children){const l=o.component.layoutSize.getWithExplicit(n),u=i.scale[r]??GV(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=Ju(s,l,n,"")}else s=l}if(s){for(const o of e.children)e.renameSignal(o.getName(n),e.getName(t)),o.component.layoutSize.set(n,"merged",!1);a.setWithExplicit(t,s)}else a.setWithExplicit(t,{explicit:!1,value:void 0})}function iAe(e){const{size:t,component:n}=e;for(const r of $l){const i=ea(r);if(t[i]!=null&&t[i]!=null){const a=t[i];n.layoutSize.set(i,bo(a)?"step":a,!0)}else{const a=aAe(e,i);n.layoutSize.set(i,a,!1)}}}function aAe(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const a=i.get("type"),s=i.get("range");if(Er(a)){const o=N2(r.view,t);return n0(s)||bo(o)?"step":o}else return B4(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return B4(r.view,t);{const a=N2(r.view,t);return bo(a)?a.step:a}}}function r3(e,t,n){return We(t,{suffix:`by_${We(e)}`,...n})}class R1 extends gq{constructor(n,r,i,a){super(n,"facet",r,i,a,n.resolve);be(this,"facet");be(this,"child");be(this,"children");this.child=P8(n.spec,this,this.getName("child"),void 0,a),this.children=[this.child],this.facet=this.initFacet(n.facet)}initFacet(n){if(!pm(n))return{facet:this.initFacetFieldDef(n,"facet")};const r=Fe(n),i={};for(const a of r){if(![ml,xl].includes(a)){Re(Ew(a,"facet"));break}const s=n[a];if(s.field===void 0){Re(R4(s,a));break}i[a]=this.initFacetFieldDef(s,a)}return i}initFacetFieldDef(n,r){const i=n8(n,r);return i.header?i.header=Or(i.header):i.header===null&&(i.header=null),i}channelHasField(n){return Oe(this.facet,n)}fieldDef(n){return this.facet[n]}parseData(){this.component.data=eE(this),this.child.parseData()}parseLayoutSize(){M8(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Xn(this.component.selection).some(n=>go(n))&&OF(FF)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),eAe(this)}assembleSelectionTopLevelSignals(n){return this.child.assembleSelectionTopLevelSignals(n)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(n){return this.child.assembleSelectionData(n)}getHeaderLayoutMixins(){const n={};for(const r of Wa)for(const i of k8){const a=this.component.layoutHeaders[r],s=a[i],{facetFieldDef:o}=a;if(o){const l=ih("titleOrient",o.header,this.config,r);if(["right","bottom"].includes(l)){const u=Ww(r,l);n.titleAnchor??(n.titleAnchor={}),n.titleAnchor[u]="end"}}if(s!=null&&s[0]){const l=r==="row"?"height":"width",u=i==="header"?"headerBand":"footerBand";r!=="facet"&&!this.child.component.layoutSize.get(l)&&(n[u]??(n[u]={}),n[u][r]=.5),a.title&&(n.offset??(n.offset={}),n.offset[r==="row"?"rowTitle":"columnTitle"]=10)}}return n}assembleDefaultLayout(){const{column:n,row:r}=this.facet,i=n?this.columnDistinctSignal():r?1:void 0;let a="all";return(!r&&this.component.resolve.scale.x==="independent"||!n&&this.component.resolve.scale.y==="independent")&&(a="none"),{...this.getHeaderLayoutMixins(),...i?{columns:i}:{},bounds:"full",align:a}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof R1))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(n){return this.parent&&this.parent instanceof R1?{...this.channelHasField("column")?{encode:{update:{columns:{field:We(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(n)}:super.assembleGroup(n)}getCardinalityAggregateForChild(){const n=[],r=[],i=[];if(this.child instanceof R1){if(this.child.channelHasField("column")){const a=We(this.child.facet.column);n.push(a),r.push("distinct"),i.push(`distinct_${a}`)}}else for(const a of $l){const s=this.child.component.scales[a];if(s&&!s.merged){const o=s.get("type"),l=s.get("range");if(Er(o)&&n0(l)){const u=jw(this.child,a),c=O8(u);c?(n.push(c),r.push("distinct"),i.push(`distinct_${c}`)):Re(TF(a))}}}return{fields:n,ops:r,as:i}}assembleFacet(){const{name:n,data:r}=this.component.data.facetRoot,{row:i,column:a}=this.facet,{fields:s,ops:o,as:l}=this.getCardinalityAggregateForChild(),u=[];for(const d of Wa){const p=this.facet[d];if(p){u.push(We(p));const{bin:g,sort:m}=p;if(un(g)&&u.push(We(p,{binSuffix:"end"})),yl(m)){const{field:x,op:v=Fw}=m,_=r3(p,m);i&&a?(s.push(_),o.push("max"),l.push(_)):(s.push(x),o.push(v),l.push(_))}else if(ke(m)){const x=rh(p,d);s.push(x),o.push("max"),l.push(x)}}}const c=!!i&&!!a;return{name:n,data:r,groupby:u,...c||s.length>0?{aggregate:{...c?{cross:c}:{},...s.length?{fields:s,ops:o,as:l}:{}}}:{}}}facetSortFields(n){const{facet:r}=this,i=r[n];return i?yl(i.sort)?[r3(i,i.sort,{expr:"datum"})]:ke(i.sort)?[rh(i,n,{expr:"datum"})]:[We(i,{expr:"datum"})]:[]}facetSortOrder(n){const{facet:r}=this,i=r[n];if(i){const{sort:a}=i;return[(yl(a)?a.order:!ke(a)&&a)||"ascending"]}return[]}assembleLabelTitle(){var a;const{facet:n,config:r}=this;if(n.facet)return K4(n.facet,"facet",r);const i={row:["top","bottom"],column:["left","right"]};for(const s of E8)if(n[s]){const o=ih("labelOrient",(a=n[s])==null?void 0:a.header,r,s);if(i[s].includes(o))return K4(n[s],s,r)}}assembleMarks(){const{child:n}=this,r=this.component.data.facetRoot,i=Jbe(r),a=n.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||n.assembleTitle(),o=n.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...o?{style:o}:{},from:{facet:this.assembleFacet()},sort:{field:Wa.map(u=>this.facetSortFields(u)).flat(),order:Wa.map(u=>this.facetSortOrder(u)).flat()},...i.length>0?{data:i}:{},...a?{encode:{update:a}}:{},...n.assembleGroup(wke(this,[]))}]}getMapping(){return this.facet}}function sAe(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const a of[n,r])if(yl(a.sort)){const{field:s,op:o=Fw}=a.sort;e=i=new o0(e,{joinaggregate:[{op:o,field:s,as:r3(a,a.sort,{forAs:!0})}],groupby:[We(a)]})}return i}return null}function yq(e,t){var n,r,i,a;for(const s of t){const o=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=o.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const d=(a=o.format)==null?void 0:a.mesh;if(!((l||d)&&l!==d)){if(mg(e)&&mg(o)){if(ga(e.values,o.values))return s}else if(eh(e)&&eh(o)){if(e.url===o.url)return s}else if(rV(e)&&e.name===s.dataName)return s}}return null}function oAe(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Bf({values:[]});return t.push(r),r}const n=yq(e.data,t);if(n)return $u(e.data)||(n.data.format=Jj({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Bf(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function lAe(e,t,n){let r=0;for(const i of t.transforms){let a,s;if(XEe(i))s=e=new nh(e,i),a="derived";else if(p8(i)){const o=ZSe(i);s=e=ti.makeWithAncestors(e,{},o,n)??e,e=new Oh(e,t,i.filter)}else if(QY(i))s=e=mo.makeFromTransform(e,i,t),a="number";else if(JEe(i))a="date",n.getWithExplicit(i.field).value===void 0&&(e=new ti(e,{[i.field]:a}),n.set(i.field,a,!1)),s=e=po.makeFromTransform(e,i);else if(QEe(i))s=e=Ts.makeFromTransform(e,i),a="number",w8(t)&&(e=new Qu(e));else if(JY(i))s=e=yg.make(e,t,i,r++),a="derived";else if(YEe(i))s=e=new Nh(e,i),a="number";else if(VEe(i))s=e=new o0(e,i),a="number";else if(ZEe(i))s=e=_l.makeFromTransform(e,i),a="derived";else if(eke(i))s=e=new qw(e,i),a="derived";else if(tke(i))s=e=new Yw(e,i),a="derived";else if(qEe(i))s=e=new Vw(e,i),a="derived";else if(zEe(i))s=e=new Qw(e,i),a="derived";else if(GEe(i))e=new Zw(e,i);else if(KEe(i))s=e=pf.makeFromTransform(e,i),a="derived";else if(UEe(i))s=e=new Gw(e,i),a="derived";else if(WEe(i))s=e=new Kw(e,i),a="derived";else if(HEe(i))s=e=new Jw(e,i),a="derived";else if(jEe(i))s=e=new Xw(e,i),a="derived";else{Re(_2e(i));continue}if(s&&a!==void 0)for(const o of s.producedFields()??[])n.set(o,a,!1)}return e}function eE(e){var v;let t=oAe(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&($u(i)||eh(i)||mg(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new hke;$u(i)?(iV(i)?t=new wm(t,i.sequence):g8(i)&&(t=new _m(t,i.graticule)),s.parseNothing=!0):((v=i==null?void 0:i.format)==null?void 0:v.parse)===null&&(s.parseNothing=!0),t=ti.makeExplicit(t,e,s)??t,t=new Qu(t);const o=e.parent&&Mh(e.parent);(An(e)||_a(e))&&o&&(t=mo.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=lAe(t,e,s));const l=tbe(e),u=ebe(e);t=ti.makeWithAncestors(t,{},{...l,...u},s)??t,An(e)&&(t=_d.parseAll(t,e),t=xg.parseAll(t,e)),(An(e)||_a(e))&&(o||(t=mo.makeFromEncoding(t,e)??t),t=po.makeFromEncoding(t,e)??t,t=nh.parseAllForSortIndex(t,e));const c=t=xy(Cn.Raw,e,t);if(An(e)){const _=Ts.makeFromEncoding(t,e);_&&(t=_,w8(e)&&(t=new Qu(t))),t=pf.makeFromEncoding(t,e)??t,t=_l.makeFromEncoding(t,e)??t}let d,p;if(An(e)){const{markDef:_,mark:E,config:k}=e,A=qt("invalid",_,k),{marks:T,scales:D}=p=sV({invalid:A,isPath:gc(E)});T!==D&&D==="include-invalid-values"&&(d=t=xy(Cn.PreFilterInvalid,e,t)),T==="exclude-invalid-values"&&(t=ah.make(t,e,p)??t)}const g=t=xy(Cn.Main,e,t);let m;if(An(e)&&p){const{marks:_,scales:E}=p;_==="include-invalid-values"&&E==="exclude-invalid-values"&&(t=ah.make(t,e,p)??t,m=t=xy(Cn.PostFilterInvalid,e,t))}An(e)&&Kke(e,g);let x=null;if(_a(e)){const _=e.getName("facet");t=sAe(t,e.facet)??t,x=new Dh(t,e,_,g.getSource()),n[_]=x}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:g,facetRoot:x,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:m}}function xy(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,a=t.getDataName(e),s=new qi(n,a,e,i);return r[a]=s,s}class uAe extends N8{constructor(n,r,i,a){var s,o,l,u;super(n,"concat",r,i,a,n.resolve);be(this,"children");(((o=(s=n.resolve)==null?void 0:s.axis)==null?void 0:o.x)==="shared"||((u=(l=n.resolve)==null?void 0:l.axis)==null?void 0:u.y)==="shared")&&Re(x2e),this.children=this.getChildren(n).map((c,d)=>P8(c,this,this.getName(`concat_${d}`),void 0,a))}parseData(){this.component.data=eE(this);for(const n of this.children)n.parseData()}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const r of Fe(n.component.selection))this.component.selection[r]=n.component.selection[r]}Xn(this.component.selection).some(n=>go(n))&&OF(FF)}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){for(const n of this.children)n.parseAxesAndHeaders()}getChildren(n){return $w(n)?n.vconcat:d8(n)?n.hconcat:n.concat}parseLayoutSize(){rAe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(n){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),n)}assembleSignals(){return this.children.forEach(n=>n.assembleSignals()),[]}assembleLayoutSignals(){const n=S8(this);for(const r of this.children)n.push(...r.assembleLayoutSignals());return n}assembleSelectionData(n){return this.children.reduce((r,i)=>i.assembleSelectionData(r),n)}assembleMarks(){return this.children.map(n=>{const r=n.assembleTitle(),i=n.assembleGroupStyle(),a=n.assembleGroupEncodeEntry(!1);return{type:"group",name:n.getName("group"),...r?{title:r}:{},...i?{style:i}:{},...a?{encode:{update:a}}:{},...n.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const n=this.layout.columns;return{...n!=null?{columns:n}:{},bounds:"full",align:"each"}}}function cAe(e){return e===!1||e===null}const fAe={disable:1,gridScale:1,scale:1,..._Y,labelExpr:1,encode:1},vq=Fe(fAe);class R8 extends Pl{constructor(n={},r={},i=!1){super();be(this,"explicit");be(this,"implicit");be(this,"mainExtracted");this.explicit=n,this.implicit=r,this.mainExtracted=i}clone(){return new R8(gt(this.explicit),gt(this.implicit),this.mainExtracted)}hasAxisPart(n){return n==="axis"?!0:n==="grid"||n==="title"?!!this.get(n):!cAe(this.get(n))}hasOrientSignalRef(){return nt(this.explicit.orient)}}function dAe(e,t,n){const{encoding:r,config:i}=e,a=rr(r[t])??rr(r[Lo(t)]),s=e.axis(t)||{},{format:o,formatType:l}=s;if($f(l))return{text:Ss({fieldOrDatumDef:a,field:"datum.value",format:o,formatType:l,config:i}),...n};if(o===void 0&&l===void 0&&i.customFormatTypes){if(Jd(a)==="quantitative"){if(Qd(a)&&a.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Ss({fieldOrDatumDef:a,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Ss({fieldOrDatumDef:a,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Jd(a)==="temporal"&&i.timeFormatType&&Me(a)&&!a.timeUnit)return{text:Ss({fieldOrDatumDef:a,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function hAe(e){return $l.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[_Ae(n,e)]),t),{})}const pAe={bottom:"top",top:"bottom",left:"right",right:"left"};function gAe(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const a of Fe(i.component.axes))n.axis[a]=b8(e.component.resolve,a),n.axis[a]==="shared"&&(t[a]=mAe(t[a],i.component.axes[a]),t[a]||(n.axis[a]="independent",delete t[a]))}for(const i of $l){for(const a of e.children)if(a.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(a.component.axes[i]);for(const s of a.component.axes[i]){const{value:o,explicit:l}=s.getWithExplicit("orient");if(!nt(o)){if(r[o]>0&&!l){const u=pAe[o];r[o]>r[u]&&s.set("orient",u,!1)}r[o]++}}}delete a.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[a,s]of(t[i]||[]).entries())a>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function mAe(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],a=t[r];if(!!i!=!!a)return;if(i&&a){const s=i.getWithExplicit("orient"),o=a.getWithExplicit("orient");if(s.explicit&&o.explicit&&s.value!==o.value)return;e[r]=xAe(i,a)}}}else return t.map(n=>n.clone());return e}function xAe(e,t){for(const n of vq){const r=Ju(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,a)=>{switch(n){case"title":return bG(i,a);case"gridScale":return{explicit:i.explicit,value:zn(i.value,a.value)}}return Pw(i,a,n,"axis")});e.setWithExplicit(n,r)}return e}function yAe(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(nt(n.labelAngle)?n.labelAngle:pg(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===PV(r,i))return!0}return e===n[t]}const vAe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function _Ae(e,t){var _,E;let n=t.axis(e);const r=new R8,i=rr(t.encoding[e]),{mark:a,config:s}=t,o=(n==null?void 0:n.orient)||((_=s[e==="x"?"axisX":"axisY"])==null?void 0:_.orient)||((E=s.axis)==null?void 0:E.orient)||sSe(e),l=t.getScaleComponent(e).get("type"),u=Zke(e,l,o,t.config),c=n!==void 0?!n:q4("disable",s.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=rSe(i,n,e,s.style,u),p=sY(n.formatType,i,l),g=aY(i,i.type,n.format,n.formatType,s,!0),m={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:o,labelAngle:d,format:g,formatType:p,mark:a,config:s};for(const k of vq){const A=k in R7?R7[k](m):o7(k)?n[k]:void 0,T=A!==void 0,D=yAe(A,k,n,t,e);if(T&&D)r.set(k,A,D);else{const{configValue:b=void 0,configFrom:F=void 0}=o7(k)&&k!=="values"?q4(k,s.style,n.style,u):{},C=b!==void 0;T&&!C?r.set(k,A,D):(F!=="vgAxisConfig"||vAe.has(k)&&C||ym(b)||nt(b))&&r.set(k,b,!1)}}const x=n.encoding??{},v=vY.reduce((k,A)=>{if(!r.hasAxisPart(A))return k;const T=jV(x[A]??{},t),D=A==="labels"?dAe(t,e,T):T;return D!==void 0&&!an(D)&&(k[A]={update:D}),k},{});return an(v)||r.set("encode",v,!!n.encoding||n.labelAngle!==void 0),r}function wAe({encoding:e,size:t}){for(const n of $l){const r=ea(n);bo(t[r])&&Tu(e[n])&&(delete t[r],Re(OG(r)))}return t}const EAe={vgMark:"arc",encodeEntry:e=>({...ts(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...bi("x",e,{defaultPos:"mid"}),...bi("y",e,{defaultPos:"mid"}),...Cl(e,"radius"),...Cl(e,"theta")})},kAe={vgMark:"area",encodeEntry:e=>({...ts(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...M2("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...M2("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),..._8(e)})},SAe={vgMark:"rect",encodeEntry:e=>({...ts(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Cl(e,"x"),...Cl(e,"y")})},bAe={vgMark:"shape",encodeEntry:e=>({...ts(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&Me(n)&&n.type===Th?{field:We(n,{expr:"datum"})}:{}}]}},AAe={vgMark:"image",encodeEntry:e=>({...ts(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Cl(e,"x"),...Cl(e,"y"),...x8(e,"url")})},CAe={vgMark:"line",encodeEntry:e=>({...ts(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...bi("x",e,{defaultPos:"mid"}),...bi("y",e,{defaultPos:"mid"}),...Mr("size",e,{vgChannel:"strokeWidth"}),..._8(e)})},TAe={vgMark:"trail",encodeEntry:e=>({...ts(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...bi("x",e,{defaultPos:"mid"}),...bi("y",e,{defaultPos:"mid"}),...Mr("size",e),..._8(e)})};function I8(e,t){const{config:n}=e;return{...ts(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...bi("x",e,{defaultPos:"mid"}),...bi("y",e,{defaultPos:"mid"}),...Mr("size",e),...Mr("angle",e),...FAe(e,n,t)}}function FAe(e,t,n){return n?{shape:{value:n}}:Mr("shape",e)}const OAe={vgMark:"symbol",encodeEntry:e=>I8(e)},DAe={vgMark:"symbol",encodeEntry:e=>I8(e,"circle")},NAe={vgMark:"symbol",encodeEntry:e=>I8(e,"square")},MAe={vgMark:"rect",encodeEntry:e=>({...ts(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Cl(e,"x"),...Cl(e,"y")})},RAe={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...ts(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...M2("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...M2("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Mr("size",e,{vgChannel:"strokeWidth"})}}},IAe={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...ts(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...bi("x",e,{defaultPos:"mid"}),...bi("y",e,{defaultPos:"mid"}),...x8(e),...Mr("size",e,{vgChannel:"fontSize"}),...Mr("angle",e),...O7("align",$Ae(e.markDef,n,t)),...O7("baseline",LAe(e.markDef,n,t)),...bi("radius",e,{defaultPos:null}),...bi("theta",e,{defaultPos:null})}}};function $Ae(e,t,n){if(qt("align",e,n)===void 0)return"center"}function LAe(e,t,n){if(qt("baseline",e,n)===void 0)return"middle"}const PAe={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",a=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...ts(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Cl(e,i),...bi(a,e,{defaultPos:"mid",vgChannel:a==="y"?"yc":"xc"}),[s]:pn(qt("thickness",n,t))}}},yy={arc:EAe,area:kAe,bar:SAe,circle:DAe,geoshape:bAe,image:AAe,line:CAe,point:OAe,rect:MAe,rule:RAe,square:NAe,text:IAe,tick:PAe,trail:TAe};function BAe(e){if(At([Cw,bw,V_e],e.mark)){const t=AY(e.mark,e.encoding);if(t.length>0)return zAe(e,t)}else if(e.mark===Aw){const t=N4.some(n=>qt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return UAe(e)}return $8(e)}const X7="faceted_path_";function zAe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:X7+e.requestDataName(Cn.Main),data:e.requestDataName(Cn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:$8(e,{fromPrefix:X7})}]}const K7="stack_group_";function UAe(e){var u;const[t]=$8(e,{fromPrefix:K7}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,d)=>{const p=[r({prefix:"min",suffix:"start",expr:d}),r({prefix:"max",suffix:"start",expr:d}),r({prefix:"min",suffix:"end",expr:d}),r({prefix:"max",suffix:"end",expr:d})];return`${c}(${p.map(g=>`scale('${n}',${g})`).join(",")})`};let a,s;e.stack.fieldChannel==="x"?(a={...Gd(t.encode.update,["y","yc","y2","height",...N4]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...va(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(a={...Gd(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...va(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of N4){const d=ko(c,e.markDef,e.config);t.encode.update[c]?(a[c]=t.encode.update[c],delete t.encode.update[c]):d&&(a[c]=pn(d)),d&&(t.encode.update[c]={value:0})}const o=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const d=e.fieldDef(c),p=We(d);p&&o.push(p),(d!=null&&d.bin||d!=null&&d.timeUnit)&&o.push(We(d,{binSuffix:"end"}))}return a=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,d)=>{if(t.encode.update[d])return{...c,[d]:t.encode.update[d]};{const p=ko(d,e.markDef,e.config);return p!==void 0?{...c,[d]:pn(p)}:c}},a),a.stroke&&(a.strokeForeground={value:!0},a.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Cn.Main),name:K7+e.requestDataName(Cn.Main),groupby:o,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:a},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function WAe(e){const{encoding:t,stack:n,mark:r,markDef:i,config:a}=e,s=t.order;if(!(!ke(s)&&Rs(s)&&O4(s.value)||!s&&O4(qt("order",i,a)))){if((ke(s)||Me(s))&&!n)return EG(s,{expr:"datum"});if(gc(r)){const o=i.orient==="horizontal"?"y":"x",l=t[o];if(Me(l))return{field:o}}}}function $8(e,t={fromPrefix:""}){var g;const{mark:n,markDef:r,encoding:i,config:a}=e,s=zn(r.clip,HAe(e),jAe(e)),o=_G(r),l=i.key,u=WAe(e),c=GAe(e);c&&Object.values(e.component.selection).some(m=>m.type==="point"&&!m.bind&&m.on!=="pointerover")&&((g=e.markDef).cursor??(g.cursor="pointer"));const d=qt("aria",r,a),p=yy[n].postEncodingTransform?yy[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:yy[n].vgMark,...s?{clip:s}:{},...o?{style:o}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(Cn.Main)},encode:{update:yy[n].encodeEntry(e)},...p?{transform:p}:{}}]}function HAe(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function jAe(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function GAe(e){if(!e.component.selection)return null;const t=Fe(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=Fe(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class _q extends gq{constructor(n,r,i,a={},s){super(n,"unit",r,i,s,void 0,u7(n)?n.view:void 0);be(this,"markDef");be(this,"encoding");be(this,"specifiedScales",{});be(this,"stack");be(this,"specifiedAxes",{});be(this,"specifiedLegends",{});be(this,"specifiedProjection",{});be(this,"selection",[]);be(this,"children",[]);be(this,"correctDataNames",n=>{var r,i,a;return(r=n.from)!=null&&r.data&&(n.from.data=this.lookupDataSource(n.from.data),"time"in this.encoding&&(n.from.data=n.from.data+lV)),(a=(i=n.from)==null?void 0:i.facet)!=null&&a.data&&(n.from.facet.data=this.lookupDataSource(n.from.facet.data)),n});const o=So(n.mark)?{...n.mark}:{type:n.mark},l=o.type;o.filled===void 0&&(o.filled=FEe(o,s,{graticule:n.data&&g8(n.data)}));const u=this.encoding=Mwe(n.encoding||{},l,o.filled,s);this.markDef=VY(o,u,s),this.size=wAe({encoding:u,size:u7(n)?{...a,...n.width!==void 0?{width:n.width}:{},...n.height!==void 0?{height:n.height}:{}}:a}),this.stack=YY(this.markDef,u),this.specifiedScales=this.initScales(l,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=n.projection,this.selection=(n.params??[]).filter(c=>c8(c)),this.alignStackOrderWithColorDomain()}get hasProjection(){const{encoding:n}=this,r=this.mark===QG,i=n&&bve.some(a=>xt(n[a]));return r||i}scaleDomain(n){const r=this.specifiedScales[n];return r?r.domain:void 0}axis(n){return this.specifiedAxes[n]}legend(n){return this.specifiedLegends[n]}initScales(n,r){return bF.reduce((i,a)=>{const s=rr(r[a]);return s&&(i[a]=this.initScale(s.scale??{})),i},{})}initScale(n){const{domain:r,range:i}=n,a=Or(n);return ke(r)&&(a.domain=r.map(da)),ke(i)&&(a.range=i.map(da)),a}initAxes(n){return $l.reduce((r,i)=>{const a=n[i];if(xt(a)||i===_n&&xt(n.x2)||i===Sr&&xt(n.y2)){const s=xt(a)?a.axis:void 0;r[i]=s&&this.initAxis({...s})}return r},{})}initAxis(n){const r=Fe(n),i={};for(const a of r){const s=n[a];i[a]=ym(s)?vG(s):da(s)}return i}initLegends(n){return $ve.reduce((r,i)=>{const a=rr(n[i]);if(a&&Pve(i)){const s=a.legend;r[i]=s&&Or(s)}return r},{})}alignStackOrderWithColorDomain(){var v;const{color:n,fill:r,order:i,xOffset:a,yOffset:s}=this.encoding,o=r||n,l=Me(o)?o:void 0,u=l==null?void 0:l.field,c=l==null?void 0:l.scale,d=l==null?void 0:l.type,p=c==null?void 0:c.domain,g=a||s,m=Me(g)?g:void 0,x=`_${u}_sort_index`;if(!i&&Array.isArray(p)&&typeof u=="string"&&d==="nominal")if(m&&!m.sort)m.sort=p;else{if(!this.stack)return;const _=`indexof(${Le(p)}, datum['${u}'])`,E=((v=this.markDef)==null?void 0:v.orient)==="horizontal"?"ascending":"descending";this.transforms.push({calculate:_,as:x}),this.encoding.order={field:x,type:"quantitative",sort:E}}}parseData(){this.component.data=eE(this)}parseLayoutSize(){iAe(this)}parseSelections(){this.component.selection=Xke(this,this.selection)}parseMarkGroup(){this.component.mark=BAe(this)}parseAxesAndHeaders(){this.component.axes=hAe(this)}assembleSelectionTopLevelSignals(n){return Eke(this,n)}assembleSignals(){return[...IV(this),..._ke(this,[])]}assembleSelectionData(n){return kke(this,n)}assembleLayout(){return null}assembleLayoutSignals(){return S8(this)}assembleMarks(){let n=this.component.mark??[];return(!this.parent||!Mh(this.parent))&&(n=dV(this,n)),n.map(this.correctDataNames)}assembleGroupStyle(){const{style:n}=this.view||{};return n!==void 0?n:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(n){return df(this.encoding,n)}fieldDef(n){const r=this.encoding[n];return Is(r)}typedFieldDef(n){const r=this.fieldDef(n);return Ni(r)?r:null}}class L8 extends N8{constructor(n,r,i,a,s){super(n,"layer",r,i,s,n.resolve,n.view);be(this,"children");const o={...a,...n.width?{width:n.width}:{},...n.height?{height:n.height}:{}};this.children=n.layer.map((l,u)=>{if(Lw(l))return new L8(l,this,this.getName(`layer_${u}`),o,s);if(Ll(l))return new _q(l,this,this.getName(`layer_${u}`),o,s);throw new Error(CF(l))})}parseData(){this.component.data=eE(this);for(const n of this.children)n.parseData()}parseLayoutSize(){nAe(this)}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const r of Fe(n.component.selection))this.component.selection[r]=n.component.selection[r]}Xn(this.component.selection).some(n=>go(n))&&OF(FF)}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){gAe(this)}assembleSelectionTopLevelSignals(n){return this.children.reduce((r,i)=>i.assembleSelectionTopLevelSignals(r),n)}assembleSignals(){return this.children.reduce((n,r)=>n.concat(r.assembleSignals()),IV(this))}assembleLayoutSignals(){return this.children.reduce((n,r)=>n.concat(r.assembleLayoutSignals()),S8(this))}assembleSelectionData(n){return this.children.reduce((r,i)=>i.assembleSelectionData(r),n)}assembleGroupStyle(){const n=new Set;for(const i of this.children)for(const a of Ve(i.assembleGroupStyle()))n.add(a);const r=Array.from(n);return r.length>1?r:r.length===1?r[0]:void 0}assembleTitle(){let n=super.assembleTitle();if(n)return n;for(const r of this.children)if(n=r.assembleTitle(),n)return n}assembleLayout(){return null}assembleMarks(){return Ske(this,this.children.flatMap(n=>n.assembleMarks()))}assembleLegends(){return this.children.reduce((n,r)=>n.concat(r.assembleLegends()),QV(this))}}function P8(e,t,n,r,i){if(Ow(e))return new R1(e,t,n,i);if(Lw(e))return new L8(e,t,n,r,i);if(Ll(e))return new _q(e,t,n,r,i);if(rEe(e))return new uAe(e,t,n,i);throw new Error(CF(e))}function YAe(e,t={}){t.logger&&o_e(t.logger),t.fieldTitle&&mY(t.fieldTitle);try{const n=GY(uh(t.config,e.config)),r=tV(e,n),i=P8(r,null,"",void 0,n);return i.parse(),mbe(i.component.data,i),{spec:qAe(i,VAe(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&l_e(),t.fieldTitle&&Swe()}}function VAe(e,t,n,r){const i=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ye(t)&&(t={type:t}),i&&a&&cke(t.type)){if(i==="step"&&a==="step")Re(VR()),t.type="pad";else if(i==="step"||a==="step"){const s=i==="step"?"width":"height";Re(VR(vw(s)));const o=s==="width"?"height":"width";t.type=fke(o)}}return{...Fe(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...w7(n,!1),...w7(e,!0)}}function qAe(e,t,n={},r){const i=e.config?xEe(e.config):void 0,a=Qbe(e.component.data,n),s=e.assembleSelectionData(a),o=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(m=>(m.name==="width"||m.name==="height")&&m.value!==void 0?(t[m.name]=+m.value,!1):!0);const{params:p,...g}=t;return{$schema:"https://vega.github.io/schema/vega/v6.json",...e.description?{description:e.description}:{},...g,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:s,...o.length>0?{projections:o}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...UY(p)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const XAe=vve.version,KAe=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Vd,accessPathWithDatum:xF,accessWithDatumToUnescapedPath:Jt,compile:YAe,contains:At,deepEqual:ga,deleteNestedProperty:k2,duplicate:gt,entries:qu,every:pF,fieldIntersection:mF,flatAccessWithDatum:Zj,getFirstDefined:zn,hasIntersection:gF,hasProperty:Oe,hash:Tt,internalField:rG,isBoolean:hg,isEmpty:an,isEqual:wve,isInternalField:iG,isNullOrFalse:O4,isNumeric:hw,keys:Fe,logicalExpr:N1,mergeDeep:Jj,never:Kj,normalize:tV,normalizeAngle:pg,omit:va,pick:Gd,prefixGenerator:D4,removePathFromField:Ah,replaceAll:Of,replacePathInField:Ka,resetIdCounter:kve,setEqual:Qj,some:Yd,stringify:Xt,titleCase:om,unescapeSingleQuoteAndPathDot:eG,unique:lo,uniqueId:nG,vals:Xn,varName:vn,version:XAe},Symbol.toStringTag,{value:"Module"}));function wq(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var JAe="3.0.0",QAe={version:JAe};const J0="#fff",J7="#888",ZAe={background:"#333",view:{stroke:J7},title:{color:J0,subtitleColor:J0},style:{"guide-label":{fill:J0},"guide-title":{fill:J0}},axis:{domainColor:J0,gridColor:J7,tickColor:J0}},Lc="#4572a7",e4e={background:"#fff",arc:{fill:Lc},area:{fill:Lc},line:{stroke:Lc,strokeWidth:2},path:{stroke:Lc},rect:{fill:Lc},shape:{stroke:Lc},symbol:{fill:Lc,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Pc="#30a2da",gb="#cbcbcb",t4e="#999",n4e="#333",Q7="#f0f0f0",Z7="#333",r4e={arc:{fill:Pc},area:{fill:Pc},axis:{domainColor:gb,grid:!0,gridColor:gb,gridWidth:1,labelColor:t4e,labelFontSize:10,titleColor:n4e,tickColor:gb,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:Q7,group:{fill:Q7},legend:{labelColor:Z7,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Z7,titleFontSize:14,titlePadding:10},line:{stroke:Pc,strokeWidth:2},path:{stroke:Pc,strokeWidth:.5},rect:{fill:Pc},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Pc},bar:{binSpacing:2,fill:Pc,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Bc="#000",i4e={group:{fill:"#e5e5e5"},arc:{fill:Bc},area:{fill:Bc},line:{stroke:Bc},path:{stroke:Bc},rect:{fill:Bc},shape:{stroke:Bc},symbol:{fill:Bc,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},a4e=22,s4e="normal",eI="Benton Gothic, sans-serif",tI=11.5,o4e="normal",zc="#82c6df",mb="Benton Gothic Bold, sans-serif",nI="normal",rI=13,jp={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},l4e={background:"#ffffff",title:{anchor:"start",color:"#000000",font:mb,fontSize:a4e,fontWeight:s4e},arc:{fill:zc},area:{fill:zc},line:{stroke:zc,strokeWidth:2},path:{stroke:zc},rect:{fill:zc},shape:{stroke:zc},symbol:{fill:zc,size:30},axis:{labelFont:eI,labelFontSize:tI,labelFontWeight:o4e,titleFont:mb,titleFontSize:rI,titleFontWeight:nI},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:eI,labelFontSize:tI,symbolType:"square",titleFont:mb,titleFontSize:rI,titleFontWeight:nI},range:{category:jp["category-6"],diverging:jp["fireandice-6"],heatmap:jp["fire-7"],ordinal:jp["fire-7"],ramp:jp["fire-7"]}},Uc="#ab5787",vy="#979797",u4e={background:"#f9f9f9",arc:{fill:Uc},area:{fill:Uc},line:{stroke:Uc},path:{stroke:Uc},rect:{fill:Uc},shape:{stroke:Uc},symbol:{fill:Uc,size:30},axis:{domainColor:vy,domainWidth:.5,gridWidth:.2,labelColor:vy,tickColor:vy,tickWidth:.2,titleColor:vy},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Wc="#3e5c69",c4e={background:"#fff",arc:{fill:Wc},area:{fill:Wc},line:{stroke:Wc},path:{stroke:Wc},rect:{fill:Wc},shape:{stroke:Wc},symbol:{fill:Wc},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Ma="#1696d2",iI="#000000",f4e="#FFFFFF",_y="Lato",xb="Lato",d4e="Lato",h4e="#DEDDDD",p4e=18,Gp={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},g4e={background:f4e,title:{anchor:"start",fontSize:p4e,font:_y},axisX:{domain:!0,domainColor:iI,domainWidth:1,grid:!1,labelFontSize:12,labelFont:xb,labelAngle:0,tickColor:iI,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:_y},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:h4e,gridWidth:1,labelFontSize:12,labelFont:xb,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:_y,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:xb,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:_y,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Gp["six-groups-cat-1"],diverging:Gp["diverging-colors"],heatmap:Gp["diverging-colors"],ordinal:Gp["six-groups-seq"],ramp:Gp["shades-blue"]},area:{fill:Ma},rect:{fill:Ma},line:{color:Ma,stroke:Ma,strokeWidth:5},trail:{color:Ma,stroke:Ma,strokeWidth:0,size:1},path:{stroke:Ma,strokeWidth:.5},point:{filled:!0},text:{font:d4e,color:Ma,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Ma,stroke:null}},arc:{fill:Ma},shape:{stroke:Ma},symbol:{fill:Ma,size:30}},Hc="#3366CC",aI="#ccc",wy="Arial, sans-serif",m4e={arc:{fill:Hc},area:{fill:Hc},path:{stroke:Hc},rect:{fill:Hc},shape:{stroke:Hc},symbol:{stroke:Hc},circle:{fill:Hc},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:wy,fontSize:12},"guide-title":{font:wy,fontSize:12},"group-title":{font:wy,fontSize:12}},title:{font:wy,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:aI,tickColor:aI,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},B8=e=>e*(1/3+1),sI=B8(9),oI=B8(10),lI=B8(12),Yp="Segoe UI",uI="wf_standard-font, helvetica, arial, sans-serif",cI="#252423",Vp="#605E5C",fI="transparent",x4e="#C8C6C4",hs="#118DFF",y4e="#12239E",v4e="#E66C37",_4e="#6B007B",w4e="#E044A7",E4e="#744EC2",k4e="#D9B300",S4e="#D64550",Eq=hs,kq="#DEEFFF",dI=[kq,Eq],b4e=[kq,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Eq],A4e={view:{stroke:fI},background:fI,font:Yp,header:{titleFont:uI,titleFontSize:lI,titleColor:cI,labelFont:Yp,labelFontSize:oI,labelColor:Vp},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Vp,labelFontSize:sI,titleFont:uI,titleColor:cI,titleFontSize:lI,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:x4e,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:hs},line:{stroke:hs,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Yp,fontSize:sI,fill:Vp},arc:{fill:hs},area:{fill:hs,line:!0,opacity:.6},path:{stroke:hs},rect:{fill:hs},point:{fill:hs,filled:!0,size:75},shape:{stroke:hs},symbol:{fill:hs,strokeWidth:1.5,size:50},legend:{titleFont:Yp,titleFontWeight:"bold",titleColor:Vp,labelFont:Yp,labelFontSize:oI,labelColor:Vp,symbolType:"circle",symbolSize:75},range:{category:[hs,y4e,v4e,_4e,w4e,E4e,k4e,S4e],diverging:dI,heatmap:dI,ordinal:b4e}},yb='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',C4e='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',vb=400,Ey={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},T4e=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],F4e=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function tE({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=Ey.gridBg[e],i=Ey.textPrimary[e],a=Ey.textSecondary[e],s=n==="dark"?T4e:F4e,o=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:o},area:{fill:o},path:{stroke:o},rect:{fill:o},shape:{stroke:o},symbol:{stroke:o},circle:{fill:o},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:yb,fontWeight:600},axis:{labelColor:a,labelFontSize:12,labelFont:C4e,labelFontWeight:vb,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:Ey.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:yb,fill:a,fontWeight:vb},"guide-title":{font:yb,fill:a,fontWeight:vb}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const O4e=tE({theme:"white",background:"#ffffff"}),D4e=tE({theme:"g10",background:"#f4f4f4"}),N4e=tE({theme:"g90",background:"#262626"}),M4e=tE({theme:"g100",background:"#161616"}),R4e=QAe.version,I4e=Object.freeze(Object.defineProperty({__proto__:null,carbong10:D4e,carbong100:M4e,carbong90:N4e,carbonwhite:O4e,dark:ZAe,excel:e4e,fivethirtyeight:r4e,ggplot2:i4e,googlecharts:m4e,latimes:l4e,powerbi:A4e,quartz:u4e,urbaninstitute:g4e,version:R4e,vox:c4e},Symbol.toStringTag,{value:"Module"}));function $4e(e,t,n,r){if(ke(e))return`[${e.map(i=>t(Ye(i)?i:hI(i,n))).join(", ")}]`;if(Ge(e)){let i="";const{title:a,image:s,...o}=e;a&&(i+=`<h2>${t(a)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const l=Object.keys(o);if(l.length>0){i+="<table>";for(const u of l){let c=o[u];c!==void 0&&(Ge(c)&&(c=hI(c,n)),i+=`<tr><td class="key">${t(u)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function L4e(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function hI(e,t){return JSON.stringify(e,L4e(t))}var P4e=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Sq="vg-tooltip-element",B4e={offsetX:10,offsetY:10,id:Sq,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:z4e,maxDepth:2,formatTooltip:$4e,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function z4e(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function U4e(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return P4e.toString().replaceAll(Sq,e)}function bq(e,t,{offsetX:n,offsetY:r}){const i=Aq({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),a=["bottom-right","bottom-left","top-right","top-left"];for(const s of a)if(Cq(i[s],t))return i[s];return i["top-left"]}function W4e(e,t,n,r,i){const{position:a,offsetX:s,offsetY:o}=i,l=e._el.getBoundingClientRect(),u=e._origin,c=H4e(l,u,n),d=Aq(c,r,s,o),p=Array.isArray(a)?a:[a];for(const g of p)if(Cq(d[g],r)&&!j4e(t,d[g],r))return d[g];return bq(t,r,i)}function H4e(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,a=e.top+t[1]+r.y1,s=n;for(;s.mark.group;)s=s.mark.group,i+=s.x??0,a+=s.y??0;const o=r.x2-r.x1,l=r.y2-r.y1;return{x1:i,x2:i+o,y1:a,y2:a+l}}function Aq(e,t,n,r){const i=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,s=e.x1-t.width-n,o=i-t.width/2,l=e.x2+n,u=e.y1-t.height-r,c=a-t.height/2,d=e.y2+r;return{top:{x:o,y:u},bottom:{x:o,y:d},left:{x:s,y:c},right:{x:l,y:c},"top-left":{x:s,y:u},"top-right":{x:l,y:u},"bottom-left":{x:s,y:d},"bottom-right":{x:l,y:d}}}function Cq(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function j4e(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}class G4e{constructor(t){be(this,"call");be(this,"options");be(this,"el");this.options={...B4e,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=U4e(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:a,y:s}=this.options.anchor==="mark"?W4e(t,n,r,this.el.getBoundingClientRect(),this.options):bq(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${s}px`,this.el.style.left=`${a}px`}}var _b={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Y4e=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),V4e=Object.prototype.hasOwnProperty;function i3(e,t){return V4e.call(e,t)}function a3(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)i3(e,i)&&r.push(i);return r}function ma(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function s3(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Vc(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Tq(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function o3(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(o3(e[t]))return!0}else if(typeof e=="object"){for(var r=a3(e),i=r.length,a=0;a<i;a++)if(o3(e[r[a]]))return!0}}return!1}function pI(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Fq=(function(e){Y4e(t,e);function t(n,r,i,a,s){var o=this.constructor,l=e.call(this,pI(n,{name:r,index:i,operation:a,tree:s}))||this;return l.name=r,l.index=i,l.operation=a,l.tree=s,Object.setPrototypeOf(l,o.prototype),l.message=pI(n,{name:r,index:i,operation:a,tree:s}),l}return t})(Error),On=Fq,q4e=ma,ud={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=L2(n,this.path);r&&(r=ma(r));var i=gf(n,{op:"remove",path:this.from}).removed;return gf(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=L2(n,this.from);return gf(n,{op:"add",path:this.path,value:ma(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:vg(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},X4e={add:function(e,t,n){return s3(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:ud.move,copy:ud.copy,test:ud.test,_get:ud._get};function L2(e,t){if(t=="")return e;var n={op:"_get",path:t};return gf(e,n),n.value}function gf(e,t,n,r,i,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):P2(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=L2(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=vg(e,t.value),s.test===!1)throw new On("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new On("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return s}}else{r||(e=ma(e));var o=t.path||"",l=o.split("/"),u=e,c=1,d=l.length,p=void 0,g=void 0,m=void 0;for(typeof n=="function"?m=n:m=P2;;){if(g=l[c],g&&g.indexOf("~")!=-1&&(g=Tq(g)),i&&(g=="__proto__"||g=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&p===void 0&&(u[g]===void 0?p=l.slice(0,c).join("/"):c==d-1&&(p=t.path),p!==void 0&&m(t,0,e,p)),c++,Array.isArray(u)){if(g==="-")g=u.length;else{if(n&&!s3(g))throw new On("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);s3(g)&&(g=~~g)}if(c>=d){if(n&&t.op==="add"&&g>u.length)throw new On("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var s=X4e[t.op].call(t,u,g,e);if(s.test===!1)throw new On("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}}else if(c>=d){var s=ud[t.op].call(t,u,g,e);if(s.test===!1)throw new On("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}if(u=u[g],n&&c<d&&(!u||typeof u!="object"))throw new On("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function nE(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new On("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=ma(e));for(var a=new Array(t.length),s=0,o=t.length;s<o;s++)a[s]=gf(e,t[s],n,!0,i,s),e=a[s].newDocument;return a.newDocument=e,a}function K4e(e,t,n){var r=gf(e,t);if(r.test===!1)throw new On("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function P2(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new On("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(ud[e.op]){if(typeof e.path!="string")throw new On("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new On('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new On("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new On("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&o3(e.value))throw new On("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new On("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new On("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},o=Oq([s],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new On("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new On("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Oq(e,t,n){try{if(!Array.isArray(e))throw new On("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)nE(ma(t),ma(e),n||!0);else{n=n||P2;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof On)return i;throw i}}function vg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,a,s;if(n&&r){if(a=e.length,a!=t.length)return!1;for(i=a;i--!==0;)if(!vg(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(e);if(a=o.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!t.hasOwnProperty(o[i]))return!1;for(i=a;i--!==0;)if(s=o[i],!vg(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var J4e=Object.freeze({__proto__:null,JsonPatchError:On,_areEquals:vg,applyOperation:gf,applyPatch:nE,applyReducer:K4e,deepClone:q4e,getValueByPointer:L2,validate:Oq,validator:P2});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var z8=new WeakMap,Q4e=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),Z4e=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function e3e(e){return z8.get(e)}function t3e(e,t){return e.observers.get(t)}function n3e(e,t){e.observers.delete(t.callback)}function r3e(e,t){t.unobserve()}function i3e(e,t){var n=[],r,i=e3e(e);if(!i)i=new Q4e(e),z8.set(e,i);else{var a=t3e(i,t);r=a&&a.observer}if(r)return r;if(r={},i.value=ma(e),t){r.callback=t,r.next=null;var s=function(){l3(r)},o=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return r.patches=n,r.object=e,r.unobserve=function(){l3(r),clearTimeout(r.next),n3e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},i.observers.set(t,new Z4e(t,r)),r}function l3(e,t){t===void 0&&(t=!1);var n=z8.get(e.object);U8(n.value,e.object,e.patches,"",t),e.patches.length&&nE(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function U8(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=a3(t),s=a3(e),o=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(i3(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?U8(c,d,n,r+"/"+Vc(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Vc(u),value:ma(c)}),n.push({op:"replace",path:r+"/"+Vc(u),value:ma(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Vc(u),value:ma(c)}),n.push({op:"remove",path:r+"/"+Vc(u)}),o=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!o&&a.length==s.length))for(var l=0;l<a.length;l++){var u=a[l];!i3(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Vc(u),value:ma(t[u])})}}}function a3e(e,t,n){n===void 0&&(n=!1);var r=[];return U8(e,t,r,"",n),r}var s3e=Object.freeze({__proto__:null,compare:a3e,generate:l3,observe:i3e,unobserve:r3e});Object.assign({},J4e,s3e,{JsonPatchError:Fq,deepClone:ma,escapePathComponent:Vc,unescapePathComponent:Tq});function o3e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wb,gI;function l3e(){if(gI)return wb;gI=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(n,r)}return this}}return wb=e,wb}var Eb,mI;function W8(){if(mI)return Eb;mI=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Eb=r=>r?typeof r!="object"?e:r:t,Eb}var ky={exports:{}},kb,xI;function H8(){if(xI)return kb;xI=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return kb={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},kb}var Sb,yI;function rE(){return yI||(yI=1,Sb=typeof process=="object"&&_b&&_b.NODE_DEBUG&&/\bsemver\b/i.test(_b.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),Sb}var vI;function j8(){return vI||(vI=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=H8(),a=rE();t=e.exports={};const s=t.re=[],o=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let d=0;const p="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",i],[p,r]],m=v=>{for(const[_,E]of g)v=v.split(`${_}*`).join(`${_}{0,${E}}`).split(`${_}+`).join(`${_}{1,${E}}`);return v},x=(v,_,E)=>{const k=m(_),A=d++;a(v,A,_),c[v]=A,l[A]=_,u[A]=k,s[A]=new RegExp(_,E?"g":void 0),o[A]=new RegExp(k,E?"g":void 0)};x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),x("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${p}+`),x("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),x("FULL",`^${l[c.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),x("LOOSE",`^${l[c.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),x("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),x("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),x("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),x("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),x("COERCERTL",l[c.COERCE],!0),x("COERCERTLFULL",l[c.COERCEFULL],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",x("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",x("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ky,ky.exports)),ky.exports}var bb,_I;function u3e(){if(_I)return bb;_I=1;const e=/^[0-9]+$/,t=(r,i)=>{const a=e.test(r),s=e.test(i);return a&&s&&(r=+r,i=+i),r===i?0:a&&!s?-1:s&&!a?1:r<i?-1:1};return bb={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},bb}var Ab,wI;function G8(){if(wI)return Ab;wI=1;const e=rE(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=H8(),{safeRe:r,t:i}=j8(),a=W8(),{compareIdentifiers:s}=u3e();class o{constructor(u,c){if(c=a(c),u instanceof o){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const d=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(p=>{if(/^[0-9]+$/.test(p)){const g=+p;if(g>=0&&g<n)return g}return p}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof o)){if(typeof u=="string"&&u===this.version)return 0;u=new o(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof o||(u=new o(u,this.options)),s(this.major,u.major)||s(this.minor,u.minor)||s(this.patch,u.patch)}comparePre(u){if(u instanceof o||(u=new o(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const d=this.prerelease[c],p=u.prerelease[c];if(e("prerelease compare",c,d,p),d===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(d===void 0)return-1;if(d===p)continue;return s(d,p)}while(++c)}compareBuild(u){u instanceof o||(u=new o(u,this.options));let c=0;do{const d=this.build[c],p=u.build[c];if(e("build compare",c,d,p),d===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(d===void 0)return-1;if(d===p)continue;return s(d,p)}while(++c)}inc(u,c,d){if(u.startsWith("pre")){if(!c&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const p=`-${c}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!p||p[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,d),this.inc("pre",c,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,d),this.inc("pre",c,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const p=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[p];else{let g=this.prerelease.length;for(;--g>=0;)typeof this.prerelease[g]=="number"&&(this.prerelease[g]++,g=-2);if(g===-1){if(c===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(p)}}if(c){let g=[c,p];d===!1&&(g=[c]),s(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=g):this.prerelease=g}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Ab=o,Ab}var Cb,EI;function Rh(){if(EI)return Cb;EI=1;const e=G8();return Cb=(n,r,i)=>new e(n,i).compare(new e(r,i)),Cb}var Tb,kI;function c3e(){if(kI)return Tb;kI=1;const e=Rh();return Tb=(n,r,i)=>e(n,r,i)===0,Tb}var Fb,SI;function f3e(){if(SI)return Fb;SI=1;const e=Rh();return Fb=(n,r,i)=>e(n,r,i)!==0,Fb}var Ob,bI;function d3e(){if(bI)return Ob;bI=1;const e=Rh();return Ob=(n,r,i)=>e(n,r,i)>0,Ob}var Db,AI;function h3e(){if(AI)return Db;AI=1;const e=Rh();return Db=(n,r,i)=>e(n,r,i)>=0,Db}var Nb,CI;function p3e(){if(CI)return Nb;CI=1;const e=Rh();return Nb=(n,r,i)=>e(n,r,i)<0,Nb}var Mb,TI;function g3e(){if(TI)return Mb;TI=1;const e=Rh();return Mb=(n,r,i)=>e(n,r,i)<=0,Mb}var Rb,FI;function m3e(){if(FI)return Rb;FI=1;const e=c3e(),t=f3e(),n=d3e(),r=h3e(),i=p3e(),a=g3e();return Rb=(o,l,u,c)=>{switch(l){case"===":return typeof o=="object"&&(o=o.version),typeof u=="object"&&(u=u.version),o===u;case"!==":return typeof o=="object"&&(o=o.version),typeof u=="object"&&(u=u.version),o!==u;case"":case"=":case"==":return e(o,u,c);case"!=":return t(o,u,c);case">":return n(o,u,c);case">=":return r(o,u,c);case"<":return i(o,u,c);case"<=":return a(o,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},Rb}var Ib,OI;function x3e(){if(OI)return Ib;OI=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],p=c.match(d);if(!p)throw new TypeError(`Invalid comparator: ${c}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new o(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new o(c,this.options)}catch{return!1}return a(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||a(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||a(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}Ib=t;const n=W8(),{safeRe:r,t:i}=j8(),a=m3e(),s=rE(),o=G8(),l=Dq();return Ib}var $b,DI;function Dq(){if(DI)return $b;DI=1;const e=/\s+/g;class t{constructor(U,K){if(K=i(K),U instanceof t)return U.loose===!!K.loose&&U.includePrerelease===!!K.includePrerelease?U:new t(U.raw,K);if(U instanceof a)return this.raw=U.value,this.set=[[U]],this.formatted=void 0,this;if(this.options=K,this.loose=!!K.loose,this.includePrerelease=!!K.includePrerelease,this.raw=U.trim().replace(e," "),this.set=this.raw.split("||").map(ee=>this.parseRange(ee.trim())).filter(ee=>ee.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const ee=this.set[0];if(this.set=this.set.filter(ne=>!x(ne[0])),this.set.length===0)this.set=[ee];else if(this.set.length>1){for(const ne of this.set)if(ne.length===1&&v(ne[0])){this.set=[ne];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let U=0;U<this.set.length;U++){U>0&&(this.formatted+="||");const K=this.set[U];for(let ee=0;ee<K.length;ee++)ee>0&&(this.formatted+=" "),this.formatted+=K[ee].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(U){const ee=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+U,ne=r.get(ee);if(ne)return ne;const z=this.options.loose,ae=z?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];U=U.replace(ae,L(this.options.includePrerelease)),s("hyphen replace",U),U=U.replace(l[u.COMPARATORTRIM],c),s("comparator trim",U),U=U.replace(l[u.TILDETRIM],d),s("tilde trim",U),U=U.replace(l[u.CARETTRIM],p),s("caret trim",U);let W=U.split(" ").map(V=>E(V,this.options)).join(" ").split(/\s+/).map(V=>R(V,this.options));z&&(W=W.filter(V=>(s("loose invalid filter",V,this.options),!!V.match(l[u.COMPARATORLOOSE])))),s("range list",W);const M=new Map,Y=W.map(V=>new a(V,this.options));for(const V of Y){if(x(V))return[V];M.set(V.value,V)}M.size>1&&M.has("")&&M.delete("");const Q=[...M.values()];return r.set(ee,Q),Q}intersects(U,K){if(!(U instanceof t))throw new TypeError("a Range is required");return this.set.some(ee=>_(ee,K)&&U.set.some(ne=>_(ne,K)&&ee.every(z=>ne.every(ae=>z.intersects(ae,K)))))}test(U){if(!U)return!1;if(typeof U=="string")try{U=new o(U,this.options)}catch{return!1}for(let K=0;K<this.set.length;K++)if(j(this.set[K],U,this.options))return!0;return!1}}$b=t;const n=l3e(),r=new n,i=W8(),a=x3e(),s=rE(),o=G8(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:p}=j8(),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=H8(),x=q=>q.value==="<0.0.0-0",v=q=>q.value==="",_=(q,U)=>{let K=!0;const ee=q.slice();let ne=ee.pop();for(;K&&ee.length;)K=ee.every(z=>ne.intersects(z,U)),ne=ee.pop();return K},E=(q,U)=>(s("comp",q,U),q=D(q,U),s("caret",q),q=A(q,U),s("tildes",q),q=F(q,U),s("xrange",q),q=N(q,U),s("stars",q),q),k=q=>!q||q.toLowerCase()==="x"||q==="*",A=(q,U)=>q.trim().split(/\s+/).map(K=>T(K,U)).join(" "),T=(q,U)=>{const K=U.loose?l[u.TILDELOOSE]:l[u.TILDE];return q.replace(K,(ee,ne,z,ae,W)=>{s("tilde",q,ee,ne,z,ae,W);let M;return k(ne)?M="":k(z)?M=`>=${ne}.0.0 <${+ne+1}.0.0-0`:k(ae)?M=`>=${ne}.${z}.0 <${ne}.${+z+1}.0-0`:W?(s("replaceTilde pr",W),M=`>=${ne}.${z}.${ae}-${W} <${ne}.${+z+1}.0-0`):M=`>=${ne}.${z}.${ae} <${ne}.${+z+1}.0-0`,s("tilde return",M),M})},D=(q,U)=>q.trim().split(/\s+/).map(K=>b(K,U)).join(" "),b=(q,U)=>{s("caret",q,U);const K=U.loose?l[u.CARETLOOSE]:l[u.CARET],ee=U.includePrerelease?"-0":"";return q.replace(K,(ne,z,ae,W,M)=>{s("caret",q,ne,z,ae,W,M);let Y;return k(z)?Y="":k(ae)?Y=`>=${z}.0.0${ee} <${+z+1}.0.0-0`:k(W)?z==="0"?Y=`>=${z}.${ae}.0${ee} <${z}.${+ae+1}.0-0`:Y=`>=${z}.${ae}.0${ee} <${+z+1}.0.0-0`:M?(s("replaceCaret pr",M),z==="0"?ae==="0"?Y=`>=${z}.${ae}.${W}-${M} <${z}.${ae}.${+W+1}-0`:Y=`>=${z}.${ae}.${W}-${M} <${z}.${+ae+1}.0-0`:Y=`>=${z}.${ae}.${W}-${M} <${+z+1}.0.0-0`):(s("no pr"),z==="0"?ae==="0"?Y=`>=${z}.${ae}.${W}${ee} <${z}.${ae}.${+W+1}-0`:Y=`>=${z}.${ae}.${W}${ee} <${z}.${+ae+1}.0-0`:Y=`>=${z}.${ae}.${W} <${+z+1}.0.0-0`),s("caret return",Y),Y})},F=(q,U)=>(s("replaceXRanges",q,U),q.split(/\s+/).map(K=>C(K,U)).join(" ")),C=(q,U)=>{q=q.trim();const K=U.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return q.replace(K,(ee,ne,z,ae,W,M)=>{s("xRange",q,ee,ne,z,ae,W,M);const Y=k(z),Q=Y||k(ae),V=Q||k(W),le=V;return ne==="="&&le&&(ne=""),M=U.includePrerelease?"-0":"",Y?ne===">"||ne==="<"?ee="<0.0.0-0":ee="*":ne&&le?(Q&&(ae=0),W=0,ne===">"?(ne=">=",Q?(z=+z+1,ae=0,W=0):(ae=+ae+1,W=0)):ne==="<="&&(ne="<",Q?z=+z+1:ae=+ae+1),ne==="<"&&(M="-0"),ee=`${ne+z}.${ae}.${W}${M}`):Q?ee=`>=${z}.0.0${M} <${+z+1}.0.0-0`:V&&(ee=`>=${z}.${ae}.0${M} <${z}.${+ae+1}.0-0`),s("xRange return",ee),ee})},N=(q,U)=>(s("replaceStars",q,U),q.trim().replace(l[u.STAR],"")),R=(q,U)=>(s("replaceGTE0",q,U),q.trim().replace(l[U.includePrerelease?u.GTE0PRE:u.GTE0],"")),L=q=>(U,K,ee,ne,z,ae,W,M,Y,Q,V,le)=>(k(ee)?K="":k(ne)?K=`>=${ee}.0.0${q?"-0":""}`:k(z)?K=`>=${ee}.${ne}.0${q?"-0":""}`:ae?K=`>=${K}`:K=`>=${K}${q?"-0":""}`,k(Y)?M="":k(Q)?M=`<${+Y+1}.0.0-0`:k(V)?M=`<${Y}.${+Q+1}.0-0`:le?M=`<=${Y}.${Q}.${V}-${le}`:q?M=`<${Y}.${Q}.${+V+1}-0`:M=`<=${M}`,`${K} ${M}`.trim()),j=(q,U,K)=>{for(let ee=0;ee<q.length;ee++)if(!q[ee].test(U))return!1;if(U.prerelease.length&&!K.includePrerelease){for(let ee=0;ee<q.length;ee++)if(s(q[ee].semver),q[ee].semver!==a.ANY&&q[ee].semver.prerelease.length>0){const ne=q[ee].semver;if(ne.major===U.major&&ne.minor===U.minor&&ne.patch===U.patch)return!0}return!1}return!0};return $b}var Lb,NI;function y3e(){if(NI)return Lb;NI=1;const e=Dq();return Lb=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},Lb}var v3e=y3e(),Nq=o3e(v3e);function _3e(e,t,n){const r=e.open(t),i=250,{origin:a}=new URL(t);let s=40;function o(u){u.source===r&&(s=0,e.removeEventListener("message",o,!1))}e.addEventListener("message",o,!1);function l(){s<=0||(r.postMessage(n,a),setTimeout(l,i),s-=1)}setTimeout(l,i)}var w3e=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function Mq(e,...t){for(const n of t)E3e(e,n);return e}function E3e(e,t){for(const n of Object.keys(t))ch(e,n,t[n],!0)}const to=ove;let _g=KAe;const Sy=typeof window<"u"?window:void 0;var z$;_g===void 0&&((z$=Sy==null?void 0:Sy.vl)!=null&&z$.compile)&&(_g=Sy.vl);const k3e={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},S3e={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},m1={vega:"Vega","vega-lite":"Vega-Lite"},B2={vega:to.version,"vega-lite":_g?_g.version:"not available"},b3e={vega:e=>e,"vega-lite":(e,t,n)=>_g.compile(e,{config:n,logger:t}).spec},A3e=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,C3e="chart-wrapper";function T3e(e){return typeof e=="function"}function MI(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,a=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+a),s.document.title=`${m1[r]} JSON Source`}function F3e(e,t,n){if(e.$schema){const r=wq(e.$schema);n&&n!==r.library&&t.warn(`The given visualization spec is written in ${m1[r.library]}, but mode argument sets ${m1[n]??n}.`);const i=r.library;return Nq(B2[i],`^${r.version.slice(1)}`)||t.warn(`The input spec uses ${m1[i]} ${r.version}, but the current version of ${m1[i]} is v${B2[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":n??"vega"}function Rq(e){return!!(e&&"load"in e)}function RI(e){return Rq(e)?e:to.loader(e)}function O3e(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Ye(t.defaultStyle)&&(t.defaultStyle=!1),t}async function D3e(e,t,n={}){let r,i;Ye(t)?(i=RI(n.loader),r=JSON.parse(await i.load(t))):r=t;const a=O3e(r),s=a.loader;(!i||s)&&(i=RI(n.loader??s));const o=await II(a,i),l=await II(n,i),u={...Mq(l,o),config:uh(l.config??{},o.config??{})};return await M3e(e,r,u,i)}async function II(e,t){const n=Ye(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Ye(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function N3e(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function M3e(e,t,n={},r){const i=n.theme?uh(I4e[n.theme],n.config??{}):n.config,a=tc(n.actions)?n.actions:Mq({},k3e,n.actions??{}),s={...S3e,...n.i18n},o=n.renderer??"svg",l=n.logger??Q2(to.Warn);n.logLevel!==void 0&&l.level(n.logLevel);const u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const T="vega-embed-style",{root:D,rootContainer:b}=N3e(c);if(!D.getElementById(T)){const F=document.createElement("style");F.id=T,F.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?w3e.toString():n.defaultStyle,b.appendChild(F)}}const d=F3e(t,l,n.mode);let p=b3e[d](t,l,i);if(d==="vega-lite"&&p.$schema){const T=wq(p.$schema);Nq(B2.vega,`^${T.version.slice(1)}`)||l.warn(`The compiled spec uses Vega ${T.version}, but current version is v${B2.vega}.`)}c.classList.add("vega-embed"),a&&c.classList.add("has-actions"),c.innerHTML="";let g=c;if(a){const T=document.createElement("div");T.classList.add(C3e),c.appendChild(T),g=T}const m=n.patch;if(m&&(p=m instanceof Function?m(p):nE(p,m,!0,!1).newDocument),n.formatLocale&&to.formatLocale(n.formatLocale),n.timeFormatLocale&&to.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const T in n.expressionFunctions){const D=n.expressionFunctions[T];"fn"in D?to.expressionFunction(T,D.fn,D.visitor):D instanceof Function&&to.expressionFunction(T,D)}const{ast:x}=n,v=to.parse(p,d==="vega-lite"?{}:i,{ast:x}),_=new(n.viewClass||to.View)(v,{loader:r,logger:l,renderer:o,...x?{expr:to.expressionInterpreter??n.expr??xve}:{}});if(_.addSignalListener("autosize",(T,D)=>{const{type:b}=D;b=="fit-x"?(g.classList.add("fit-x"),g.classList.remove("fit-y")):b=="fit-y"?(g.classList.remove("fit-x"),g.classList.add("fit-y")):b=="fit"?g.classList.add("fit-x","fit-y"):g.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:T,tooltip:D}=n,b=T&&!Rq(T)?T==null?void 0:T.baseURL:void 0,F=T3e(D)?D:new G4e({baseURL:b,...D===!0?{}:D}).call;_.tooltip(F)}let{hover:E}=n;if(E===void 0&&(E=d==="vega"),E){const{hoverSet:T,updateSet:D}=typeof E=="boolean"?{}:E;_.hover(T,D)}n&&(n.width!=null&&_.width(n.width),n.height!=null&&_.height(n.height),n.padding!=null&&_.padding(n.padding)),await _.initialize(g,n.bind).runAsync();let k;if(a!==!1){let T=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const b=document.createElement("details");b.title=s.CLICK_TO_VIEW_ACTIONS,c.append(b),T=b;const F=document.createElement("summary");F.innerHTML=A3e,b.append(F),k=C=>{b.contains(C.target)||b.removeAttribute("open")},document.addEventListener("click",k)}const D=document.createElement("div");if(T.append(D),D.classList.add("vega-actions"),a===!0||a.export!==!1){for(const b of["svg","png"])if(a===!0||a.export===!0||a.export[b]){const F=s[`${b.toUpperCase()}_ACTION`],C=document.createElement("a"),N=Ge(n.scaleFactor)?n.scaleFactor[b]:n.scaleFactor;C.text=F,C.href="#",C.target="_blank",C.download=`${u}.${b}`,C.addEventListener("mousedown",async function(R){R.preventDefault();const L=await _.toImageURL(b,N);this.href=L}),D.append(C)}}if(a===!0||a.source!==!1){const b=document.createElement("a");b.text=s.SOURCE_ACTION,b.href="#",b.addEventListener("click",function(F){MI(qk(t),n.sourceHeader??"",n.sourceFooter??"",d),F.preventDefault()}),D.append(b)}if(d==="vega-lite"&&(a===!0||a.compiled!==!1)){const b=document.createElement("a");b.text=s.COMPILED_ACTION,b.href="#",b.addEventListener("click",function(F){MI(qk(p),n.sourceHeader??"",n.sourceFooter??"","vega"),F.preventDefault()}),D.append(b)}if(a===!0||a.editor!==!1){const b=n.editorUrl??"https://vega.github.io/editor/",F=document.createElement("a");F.text=s.EDITOR_ACTION,F.href="#",F.addEventListener("click",function(C){_3e(window,b,{config:i,mode:m?"vega":d,renderer:o,spec:qk(m?p:t)}),C.preventDefault()}),D.append(F)}}function A(){k&&document.removeEventListener("click",k),_.finalize()}return{view:_,spec:t,vgSpec:p,finalize:A,embedOptions:n}}function R3e(e){const{x:t,y:n}=e;if(t&&n){if(t.type==="quantitative"&&n.type==="quantitative")return"point";if((t.type==="nominal"||t.type==="ordinal")&&n.type==="quantitative"||t.type==="quantitative"&&(n.type==="nominal"||n.type==="ordinal"))return"bar";if(t.type==="temporal"&&n.type==="quantitative"||n.type==="temporal"&&t.type==="quantitative")return"line";if((t.type==="nominal"||t.type==="ordinal")&&(n.type==="nominal"||n.type==="ordinal"))return"rect"}return t&&!n||n&&!t?"bar":"point"}function jc(e){const t={field:e.name,type:e.type};return e.type==="temporal"&&(t.timeUnit="year"),t}function I3e(e,t){if(!e.x&&!e.y)return null;const n=R3e(e),r={};return e.x&&(r.x=jc(e.x)),e.y&&(r.y=jc(e.y)),e.color&&(r.color=jc(e.color)),e.size&&(r.size=jc(e.size)),e.shape&&(r.shape=jc(e.shape)),e.row&&(r.row=jc(e.row)),e.column&&(r.column=jc(e.column)),{$schema:"https://vega.github.io/schema/vega-lite/v6.json",data:{values:t},mark:{type:n,tooltip:!0},encoding:r,width:"container",height:400}}function $3e(){const{state:e}=Hf(),t=qn.useRef(null),n=qn.useRef(null),r=I3e(e.encodings,e.data);qn.useEffect(()=>{if(n.current&&(n.current.finalize(),n.current=null),!t.current)return;if(!r){t.current.innerHTML="";return}return(async()=>{try{const s=await D3e(t.current,r,{actions:{export:!0,source:!1,compiled:!1,editor:!1},renderer:"svg",config:{background:"transparent",axis:{labelColor:"#a3a3a3",titleColor:"#fafafa",gridColor:"rgba(255, 255, 255, 0.06)",domainColor:"rgba(255, 255, 255, 0.15)",tickColor:"rgba(255, 255, 255, 0.15)",labelFont:"DM Sans, sans-serif",titleFont:"Instrument Serif, serif",labelFontSize:11,titleFontSize:13,titleFontWeight:400,titleFontStyle:"italic"},legend:{labelColor:"#a3a3a3",titleColor:"#fafafa",labelFont:"DM Sans, sans-serif",titleFont:"DM Sans, sans-serif",labelFontSize:11,titleFontSize:11,titleFontWeight:600},title:{color:"#fafafa",font:"Instrument Serif, serif",fontSize:18,fontWeight:400,fontStyle:"italic"},view:{stroke:"transparent"},range:{category:["#3b82f6","#f97316","#a855f7","#22c55e","#ef4444","#eab308","#06b6d4","#ec4899"]}}});n.current=s}catch(s){console.error("Vega embed error:",s)}})(),()=>{n.current&&(n.current.finalize(),n.current=null)}},[r]);const i=Object.keys(e.encodings).length>0;return oe.jsxs("main",{style:{padding:"32px",backgroundColor:"var(--color-bg-primary)",height:"100%",overflow:"auto",display:"flex",flexDirection:"column",position:"relative"},children:[oe.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:`
            radial-gradient(circle at 25% 25%, rgba(255, 107, 74, 0.03) 0%, transparent 50%),
            radial-gradient(circle at 75% 75%, rgba(59, 130, 246, 0.03) 0%, transparent 50%)
          `,pointerEvents:"none"}}),oe.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",position:"relative",zIndex:1},children:[oe.jsxs("div",{children:[oe.jsx("h2",{style:{fontFamily:"var(--font-display)",fontSize:"18px",fontWeight:400,color:"var(--color-text-primary)",marginBottom:"4px",fontStyle:"italic"},children:"Visualization"}),oe.jsx("p",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:i?r?"Your chart is ready":"Add X or Y axis to render":"Start by dragging fields to encodings"})]}),r&&oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"6px",fontSize:"11px",color:"var(--color-text-secondary)"},children:[oe.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:oe.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),"Live Preview"]})]}),i?r?oe.jsx("div",{ref:t,style:{flex:1,backgroundColor:"var(--color-bg-secondary)",borderRadius:"16px",padding:"24px",border:"1px solid var(--color-border)",position:"relative",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.4s ease-out",overflow:"hidden"}},"chart-container"):oe.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",zIndex:1},children:oe.jsxs("div",{style:{textAlign:"center",maxWidth:"320px",animation:"fadeIn 0.5s ease-out"},children:[oe.jsxs("div",{style:{width:"80px",height:"80px",margin:"0 auto 24px",position:"relative"},children:[oe.jsx("div",{style:{position:"absolute",left:"20px",top:"10px",bottom:"20px",width:"2px",backgroundColor:"var(--color-accent)",borderRadius:"1px",opacity:.5}}),oe.jsx("div",{style:{position:"absolute",left:"20px",bottom:"20px",right:"10px",height:"2px",backgroundColor:"var(--color-accent)",borderRadius:"1px",opacity:.5}}),oe.jsx("div",{style:{position:"absolute",left:"30px",top:"20px",right:"15px",bottom:"30px",border:"2px dashed var(--color-border)",borderRadius:"8px"}})]}),oe.jsx("h3",{style:{fontFamily:"var(--font-display)",fontSize:"20px",fontWeight:400,color:"var(--color-text-primary)",marginBottom:"8px",fontStyle:"italic"},children:"Almost There"}),oe.jsxs("p",{style:{fontSize:"13px",color:"var(--color-text-muted)",lineHeight:1.6},children:["Add a field to the ",oe.jsx("span",{style:{color:"var(--color-accent)"},children:"X"})," or"," ",oe.jsx("span",{style:{color:"var(--color-accent)"},children:"Y"})," axis to render your chart"]})]})},"almost-there"):oe.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",zIndex:1},children:oe.jsxs("div",{style:{textAlign:"center",maxWidth:"320px",animation:"fadeIn 0.5s ease-out"},children:[oe.jsxs("div",{style:{width:"80px",height:"80px",margin:"0 auto 24px",borderRadius:"20px",background:"linear-gradient(135deg, var(--color-bg-tertiary) 0%, var(--color-bg-elevated) 100%)",border:"1px solid var(--color-border)",display:"flex",alignItems:"flex-end",justifyContent:"center",gap:"6px",padding:"16px"},children:[oe.jsx("div",{style:{width:"12px",height:"20px",backgroundColor:"var(--color-quantitative)",borderRadius:"3px 3px 0 0",opacity:.6}}),oe.jsx("div",{style:{width:"12px",height:"32px",backgroundColor:"var(--color-nominal)",borderRadius:"3px 3px 0 0",opacity:.8}}),oe.jsx("div",{style:{width:"12px",height:"24px",backgroundColor:"var(--color-ordinal)",borderRadius:"3px 3px 0 0",opacity:.7}})]}),oe.jsx("h3",{style:{fontFamily:"var(--font-display)",fontSize:"20px",fontWeight:400,color:"var(--color-text-primary)",marginBottom:"8px",fontStyle:"italic"},children:"Create Your Chart"}),oe.jsx("p",{style:{fontSize:"13px",color:"var(--color-text-muted)",lineHeight:1.6},children:"Drag data fields from the left panel to encoding channels to build your visualization"})]})},"empty-state"),oe.jsx("div",{style:{position:"absolute",bottom:0,left:"32px",right:"32px",height:"1px",background:"linear-gradient(90deg, transparent 0%, var(--color-border) 50%, transparent 100%)"}})]})}var sv={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var L3e=sv.exports,$I;function P3e(){return $I||($I=1,(function(e,t){((n,r)=>{e.exports=r()})(L3e,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,u={};function c(F){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var N=T(C);N.chunkSize=parseInt(N.chunkSize),C.step||C.chunk||(N.chunkSize=null),this._handle=new x(N),(this._handle.streamer=this)._config=N}).call(this,F),this.parseChunk=function(C,N){var R=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<R){let j=this._config.newline;j||(L=this._config.quoteChar||'"',j=this._handle.guessLineEndings(C,L)),C=[...C.split(j).slice(R)].join(j)}this.isFirstChunk&&b(this._config.beforeFirstChunk)&&(L=this._config.beforeFirstChunk(C))!==void 0&&(C=L),this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+C,L=(this._partialLine="",this._handle.parse(R,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=L.meta.cursor,R=(this._finished||(this._partialLine=R.substring(C-this._baseIndex),this._baseIndex=C),L&&L.data&&(this._rowCount+=L.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:L,workerId:u.WORKER_ID,finished:R});else if(b(this._config.chunk)&&!N){if(this._config.chunk(L,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=L=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(L.data),this._completeResults.errors=this._completeResults.errors.concat(L.errors),this._completeResults.meta=L.meta),this._completed||!R||!b(this._config.complete)||L&&L.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||L&&L.meta.paused||this._nextChunk(),L}this._halted=!0},this._sendError=function(C){b(this._config.error)?this._config.error(C):s&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:C,finished:!1})}}function d(F){var C;(F=F||{}).chunkSize||(F.chunkSize=u.RemoteChunkSize),c.call(this,F),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),a||(C.onload=D(this._chunkLoaded,this),C.onerror=D(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var N,R=this._config.downloadRequestHeaders;for(N in R)C.setRequestHeader(N,R[N])}var L;this._config.chunkSize&&(L=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+L));try{C.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}a&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(N=>(N=N.getResponseHeader("Content-Range"))!==null?parseInt(N.substring(N.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(N){N=C.statusText||N,this._sendError(new Error(N))}}function p(F){(F=F||{}).chunkSize||(F.chunkSize=u.LocalChunkSize),c.call(this,F);var C,N,R=typeof FileReader<"u";this.stream=function(L){this._input=L,N=L.slice||L.webkitSlice||L.mozSlice,R?((C=new FileReader).onload=D(this._chunkLoaded,this),C.onerror=D(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var L=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),L=N.call(L,this._start,j)),C.readAsText(L,this._config.encoding));R||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(L){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(L.target.result)},this._chunkError=function(){this._sendError(C.error)}}function g(F){var C;c.call(this,F=F||{}),this.stream=function(N){return C=N,this._nextChunk()},this._nextChunk=function(){var N,R;if(!this._finished)return N=this._config.chunkSize,C=N?(R=C.substring(0,N),C.substring(N)):(R=C,""),this._finished=!C,this.parseChunk(R)}}function m(F){c.call(this,F=F||{});var C=[],N=!0,R=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(L){this._input=L,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):N=!0},this._streamData=D(function(L){try{C.push(typeof L=="string"?L:L.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(j){this._streamError(j)}},this),this._streamError=D(function(L){this._streamCleanUp(),this._sendError(L)},this),this._streamEnd=D(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(F){var C,N,R,L,j=Math.pow(2,53),q=-j,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ee=this,ne=0,z=0,ae=!1,W=!1,M=[],Y={data:[],errors:[],meta:{}};function Q(xe){return F.skipEmptyLines==="greedy"?xe.join("").trim()==="":xe.length===1&&xe[0].length===0}function V(){if(Y&&R&&(we("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),R=!1),F.skipEmptyLines&&(Y.data=Y.data.filter(function(B){return!Q(B)})),le()){let B=function(Ze,Pe){b(F.transformHeader)&&(Ze=F.transformHeader(Ze,Pe)),M.push(Ze)};var Se=B;if(Y)if(Array.isArray(Y.data[0])){for(var xe=0;le()&&xe<Y.data.length;xe++)Y.data[xe].forEach(B);Y.data.splice(0,1)}else Y.data.forEach(B)}function ie(B,Ze){for(var Pe=F.header?{}:[],je=0;je<B.length;je++){var Ie=je,Ae=B[je],Ae=((it,Et)=>(Ct=>(F.dynamicTypingFunction&&F.dynamicTyping[Ct]===void 0&&(F.dynamicTyping[Ct]=F.dynamicTypingFunction(Ct)),(F.dynamicTyping[Ct]||F.dynamicTyping)===!0))(it)?Et==="true"||Et==="TRUE"||Et!=="false"&&Et!=="FALSE"&&((Ct=>{if(U.test(Ct)&&(Ct=parseFloat(Ct),q<Ct&&Ct<j))return 1})(Et)?parseFloat(Et):K.test(Et)?new Date(Et):Et===""?null:Et):Et)(Ie=F.header?je>=M.length?"__parsed_extra":M[je]:Ie,Ae=F.transform?F.transform(Ae,Ie):Ae);Ie==="__parsed_extra"?(Pe[Ie]=Pe[Ie]||[],Pe[Ie].push(Ae)):Pe[Ie]=Ae}return F.header&&(je>M.length?we("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+je,z+Ze):je<M.length&&we("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+je,z+Ze)),Pe}var ue;Y&&(F.header||F.dynamicTyping||F.transform)&&(ue=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(ie),ue=Y.data.length):Y.data=ie(Y.data,0),F.header&&Y.meta&&(Y.meta.fields=M),z+=ue)}function le(){return F.header&&M.length===0}function we(xe,ie,ue,Se){xe={type:xe,code:ie,message:ue},Se!==void 0&&(xe.row=Se),Y.errors.push(xe)}b(F.step)&&(L=F.step,F.step=function(xe){Y=xe,le()?V():(V(),Y.data.length!==0&&(ne+=xe.data.length,F.preview&&ne>F.preview?N.abort():(Y.data=Y.data[0],L(Y,ee))))}),this.parse=function(xe,ie,ue){var Se=F.quoteChar||'"',Se=(F.newline||(F.newline=this.guessLineEndings(xe,Se)),R=!1,F.delimiter?b(F.delimiter)&&(F.delimiter=F.delimiter(xe),Y.meta.delimiter=F.delimiter):((Se=((B,Ze,Pe,je,Ie)=>{var Ae,it,Et,Ct;Ie=Ie||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var wn=0;wn<Ie.length;wn++){for(var Hn,br=Ie[wn],$t=0,En=0,Gt=0,gn=(Et=void 0,new _({comments:je,delimiter:br,newline:Ze,preview:10}).parse(B)),Yt=0;Yt<gn.data.length;Yt++)Pe&&Q(gn.data[Yt])?Gt++:(Hn=gn.data[Yt].length,En+=Hn,Et===void 0?Et=Hn:0<Hn&&($t+=Math.abs(Hn-Et),Et=Hn));0<gn.data.length&&(En/=gn.data.length-Gt),(it===void 0||$t<=it)&&(Ct===void 0||Ct<En)&&1.99<En&&(it=$t,Ae=br,Ct=En)}return{successful:!!(F.delimiter=Ae),bestDelimiter:Ae}})(xe,F.newline,F.skipEmptyLines,F.comments,F.delimitersToGuess)).successful?F.delimiter=Se.bestDelimiter:(R=!0,F.delimiter=u.DefaultDelimiter),Y.meta.delimiter=F.delimiter),T(F));return F.preview&&F.header&&Se.preview++,C=xe,N=new _(Se),Y=N.parse(C,ie,ue),V(),ae?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,N.abort(),C=b(F.chunk)?"":C.substring(N.getCharIndex())},this.resume=function(){ee.streamer._halted?(ae=!1,ee.streamer.parseChunk(C,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,N.abort(),Y.meta.aborted=!0,b(F.complete)&&F.complete(Y),C=""},this.guessLineEndings=function(B,Se){B=B.substring(0,1048576);var Se=new RegExp(v(Se)+"([^]*?)"+v(Se),"gm"),ue=(B=B.replace(Se,"")).split("\r"),Se=B.split(`
`),B=1<Se.length&&Se[0].length<ue[0].length;if(ue.length===1||B)return`
`;for(var Ze=0,Pe=0;Pe<ue.length;Pe++)ue[Pe][0]===`
`&&Ze++;return Ze>=ue.length/2?`\r
`:"\r"}}function v(F){return F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(F){var C=(F=F||{}).delimiter,N=F.newline,R=F.comments,L=F.step,j=F.preview,q=F.fastMode,U=null,K=!1,ee=F.quoteChar==null?'"':F.quoteChar,ne=ee;if(F.escapeChar!==void 0&&(ne=F.escapeChar),(typeof C!="string"||-1<u.BAD_DELIMITERS.indexOf(C))&&(C=","),R===C)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<u.BAD_DELIMITERS.indexOf(R))&&(R=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var z=0,ae=!1;this.parse=function(W,M,Y){if(typeof W!="string")throw new Error("Input must be a string");var Q=W.length,V=C.length,le=N.length,we=R.length,xe=b(L),ie=[],ue=[],Se=[],B=z=0;if(!W)return $t();if(q||q!==!1&&W.indexOf(ee)===-1){for(var Ze=W.split(N),Pe=0;Pe<Ze.length;Pe++){if(Se=Ze[Pe],z+=Se.length,Pe!==Ze.length-1)z+=N.length;else if(Y)return $t();if(!R||Se.substring(0,we)!==R){if(xe){if(ie=[],Ct(Se.split(C)),En(),ae)return $t()}else Ct(Se.split(C));if(j&&j<=Pe)return ie=ie.slice(0,j),$t(!0)}}return $t()}for(var je=W.indexOf(C,z),Ie=W.indexOf(N,z),Ae=new RegExp(v(ne)+v(ee),"g"),it=W.indexOf(ee,z);;)if(W[z]===ee)for(it=z,z++;;){if((it=W.indexOf(ee,it+1))===-1)return Y||ue.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:z}),Hn();if(it===Q-1)return Hn(W.substring(z,it).replace(Ae,ee));if(ee===ne&&W[it+1]===ne)it++;else if(ee===ne||it===0||W[it-1]!==ne){je!==-1&&je<it+1&&(je=W.indexOf(C,it+1));var Et=wn((Ie=Ie!==-1&&Ie<it+1?W.indexOf(N,it+1):Ie)===-1?je:Math.min(je,Ie));if(W.substr(it+1+Et,V)===C){Se.push(W.substring(z,it).replace(Ae,ee)),W[z=it+1+Et+V]!==ee&&(it=W.indexOf(ee,z)),je=W.indexOf(C,z),Ie=W.indexOf(N,z);break}if(Et=wn(Ie),W.substring(it+1+Et,it+1+Et+le)===N){if(Se.push(W.substring(z,it).replace(Ae,ee)),br(it+1+Et+le),je=W.indexOf(C,z),it=W.indexOf(ee,z),xe&&(En(),ae))return $t();if(j&&ie.length>=j)return $t(!0);break}ue.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:z}),it++}}else if(R&&Se.length===0&&W.substring(z,z+we)===R){if(Ie===-1)return $t();z=Ie+le,Ie=W.indexOf(N,z),je=W.indexOf(C,z)}else if(je!==-1&&(je<Ie||Ie===-1))Se.push(W.substring(z,je)),z=je+V,je=W.indexOf(C,z);else{if(Ie===-1)break;if(Se.push(W.substring(z,Ie)),br(Ie+le),xe&&(En(),ae))return $t();if(j&&ie.length>=j)return $t(!0)}return Hn();function Ct(Gt){ie.push(Gt),B=z}function wn(Gt){var gn=0;return gn=Gt!==-1&&(Gt=W.substring(it+1,Gt))&&Gt.trim()===""?Gt.length:gn}function Hn(Gt){return Y||(Gt===void 0&&(Gt=W.substring(z)),Se.push(Gt),z=Q,Ct(Se),xe&&En()),$t()}function br(Gt){z=Gt,Ct(Se),Se=[],Ie=W.indexOf(N,z)}function $t(Gt){if(F.header&&!M&&ie.length&&!K){var gn=ie[0],Yt=Object.create(null),Ar=new Set(gn);let ht=!1;for(let Nt=0;Nt<gn.length;Nt++){let cn=gn[Nt];if(Yt[cn=b(F.transformHeader)?F.transformHeader(cn,Nt):cn]){let en,ra=Yt[cn];for(;en=cn+"_"+ra,ra++,Ar.has(en););Ar.add(en),gn[Nt]=en,Yt[cn]++,ht=!0,(U=U===null?{}:U)[en]=cn}else Yt[cn]=1,gn[Nt]=cn;Ar.add(cn)}ht&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:ie,errors:ue,meta:{delimiter:C,linebreak:N,aborted:ae,truncated:!!Gt,cursor:B+(M||0),renamedHeaders:U}}}function En(){L($t()),ie=[],ue=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return z}}function E(F){var C=F.data,N=o[C.workerId],R=!1;if(C.error)N.userError(C.error,C.file);else if(C.results&&C.results.data){var L={abort:function(){R=!0,k(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(b(N.userStep)){for(var j=0;j<C.results.data.length&&(N.userStep({data:C.results.data[j],errors:C.results.errors,meta:C.results.meta},L),!R);j++);delete C.results}else b(N.userChunk)&&(N.userChunk(C.results,L,C.file),delete C.results)}C.finished&&!R&&k(C.workerId,C.results)}function k(F,C){var N=o[F];b(N.userComplete)&&N.userComplete(C),N.terminate(),delete o[F]}function A(){throw new Error("Not implemented.")}function T(F){if(typeof F!="object"||F===null)return F;var C,N=Array.isArray(F)?[]:{};for(C in F)N[C]=T(F[C]);return N}function D(F,C){return function(){F.apply(C,arguments)}}function b(F){return typeof F=="function"}return u.parse=function(F,C){var N=(C=C||{}).dynamicTyping||!1;if(b(N)&&(C.dynamicTypingFunction=N,N={}),C.dynamicTyping=N,C.transform=!!b(C.transform)&&C.transform,!C.worker||!u.WORKERS_SUPPORTED)return N=null,u.NODE_STREAM_INPUT,typeof F=="string"?(F=(R=>R.charCodeAt(0)!==65279?R:R.slice(1))(F),N=new(C.download?d:g)(C)):F.readable===!0&&b(F.read)&&b(F.on)?N=new m(C):(r.File&&F instanceof File||F instanceof Object)&&(N=new p(C)),N.stream(F);(N=(()=>{var R;return!!u.WORKERS_SUPPORTED&&(R=(()=>{var L=r.URL||r.webkitURL||null,j=n.toString();return u.BLOB_URL||(u.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(R=new r.Worker(R)).onmessage=E,R.id=l++,o[R.id]=R)})()).userStep=C.step,N.userChunk=C.chunk,N.userComplete=C.complete,N.userError=C.error,C.step=b(C.step),C.chunk=b(C.chunk),C.complete=b(C.complete),C.error=b(C.error),delete C.worker,N.postMessage({input:F,config:C,workerId:N.id})},u.unparse=function(F,C){var N=!1,R=!0,L=",",j=`\r
`,q='"',U=q+q,K=!1,ee=null,ne=!1,z=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||u.BAD_DELIMITERS.filter(function(M){return C.delimiter.indexOf(M)!==-1}).length||(L=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(N=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(K=C.skipEmptyLines),typeof C.newline=="string"&&(j=C.newline),typeof C.quoteChar=="string"&&(q=C.quoteChar),typeof C.header=="boolean"&&(R=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");ee=C.columns}C.escapeChar!==void 0&&(U=C.escapeChar+q),C.escapeFormulae instanceof RegExp?ne=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(ne=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(q),"g"));if(typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(F)){if(!F.length||Array.isArray(F[0]))return ae(null,F,K);if(typeof F[0]=="object")return ae(ee||Object.keys(F[0]),F,K)}else if(typeof F=="object")return typeof F.data=="string"&&(F.data=JSON.parse(F.data)),Array.isArray(F.data)&&(F.fields||(F.fields=F.meta&&F.meta.fields||ee),F.fields||(F.fields=Array.isArray(F.data[0])?F.fields:typeof F.data[0]=="object"?Object.keys(F.data[0]):[]),Array.isArray(F.data[0])||typeof F.data[0]=="object"||(F.data=[F.data])),ae(F.fields||[],F.data||[],K);throw new Error("Unable to serialize unrecognized input");function ae(M,Y,Q){var V="",le=(typeof M=="string"&&(M=JSON.parse(M)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(M)&&0<M.length),we=!Array.isArray(Y[0]);if(le&&R){for(var xe=0;xe<M.length;xe++)0<xe&&(V+=L),V+=W(M[xe],xe);0<Y.length&&(V+=j)}for(var ie=0;ie<Y.length;ie++){var ue=(le?M:Y[ie]).length,Se=!1,B=le?Object.keys(Y[ie]).length===0:Y[ie].length===0;if(Q&&!le&&(Se=Q==="greedy"?Y[ie].join("").trim()==="":Y[ie].length===1&&Y[ie][0].length===0),Q==="greedy"&&le){for(var Ze=[],Pe=0;Pe<ue;Pe++){var je=we?M[Pe]:Pe;Ze.push(Y[ie][je])}Se=Ze.join("").trim()===""}if(!Se){for(var Ie=0;Ie<ue;Ie++){0<Ie&&!B&&(V+=L);var Ae=le&&we?M[Ie]:Ie;V+=W(Y[ie][Ae],Ie)}ie<Y.length-1&&(!Q||0<ue&&!B)&&(V+=j)}}return V}function W(M,Y){var Q,V;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(V=!1,ne&&typeof M=="string"&&ne.test(M)&&(M="'"+M,V=!0),Q=M.toString().replace(z,U),(V=V||N===!0||typeof N=="function"&&N(M,Y)||Array.isArray(N)&&N[Y]||((le,we)=>{for(var xe=0;xe<we.length;xe++)if(-1<le.indexOf(we[xe]))return!0;return!1})(Q,u.BAD_DELIMITERS)||-1<Q.indexOf(L)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?q+Q+q:Q)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=_,u.ParserHandle=x,u.NetworkStreamer=d,u.FileStreamer=p,u.StringStreamer=g,u.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(F){var C=F.config||{},N=[];return this.each(function(j){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var q=0;q<this.files.length;q++)N.push({file:this.files[q],inputElem:this,instanceConfig:i.extend({},C)})}),R(),this;function R(){if(N.length===0)b(F.complete)&&F.complete();else{var j,q,U,K,ee=N[0];if(b(F.before)){var ne=F.before(ee.file,ee.inputElem);if(typeof ne=="object"){if(ne.action==="abort")return j="AbortError",q=ee.file,U=ee.inputElem,K=ne.reason,void(b(F.error)&&F.error({name:j},q,U,K));if(ne.action==="skip")return void L();typeof ne.config=="object"&&(ee.instanceConfig=i.extend(ee.instanceConfig,ne.config))}else if(ne==="skip")return void L()}var z=ee.instanceConfig.complete;ee.instanceConfig.complete=function(ae){b(z)&&z(ae,ee.file,ee.inputElem),L()},u.parse(ee.file,ee.instanceConfig)}}function L(){N.splice(0,1),R()}}),s&&(r.onmessage=function(F){F=F.data,u.WORKER_ID===void 0&&F&&(u.WORKER_ID=F.workerId),typeof F.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(F.input,F.config),finished:!0}):(r.File&&F.input instanceof File||F.input instanceof Object)&&(F=u.parse(F.input,F.config))&&r.postMessage({workerId:u.WORKER_ID,results:F,finished:!0})}),(d.prototype=Object.create(c.prototype)).constructor=d,(p.prototype=Object.create(c.prototype)).constructor=p,(g.prototype=Object.create(g.prototype)).constructor=g,(m.prototype=Object.create(c.prototype)).constructor=m,u})})(sv)),sv.exports}var B3e=P3e();const z3e=tQ(B3e);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Iq=1252,U3e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Y8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},V8=function(e){U3e.indexOf(e)!=-1&&(Iq=Y8[0]=e)};function W3e(){V8(1252)}var bs=function(e){V8(e)};function $q(){bs(1200),W3e()}function LI(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function H3e(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function Lq(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var x1=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?H3e(e.slice(2)):t==254&&n==255?Lq(e.slice(2)):t==65279?e.slice(1):e},by=function(t){return String.fromCharCode(t)},PI=function(t){return String.fromCharCode(t)},wg,Fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function BI(e){for(var t="",n=0,r=0,i=0,a=0,s=0,o=0,l=0,u=0;u<e.length;)n=e.charCodeAt(u++),a=n>>2,r=e.charCodeAt(u++),s=(n&3)<<4|r>>4,i=e.charCodeAt(u++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),t+=Fu.charAt(a)+Fu.charAt(s)+Fu.charAt(o)+Fu.charAt(l);return t}function ba(e){var t="",n=0,r=0,i=0,a=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Fu.indexOf(e.charAt(u++)),s=Fu.indexOf(e.charAt(u++)),n=a<<2|s>>4,t+=String.fromCharCode(n),o=Fu.indexOf(e.charAt(u++)),r=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(r)),l=Fu.indexOf(e.charAt(u++)),i=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var Ft=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),l0=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Zu(e){return Ft?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function zI(e){return Ft?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var _s=function(t){return Ft?l0(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function u0(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function q8(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return q8(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var vu=Ft?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:l0(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function j3e(e){for(var t=[],n=0,r=e.length+250,i=Zu(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|o>>6&15|(s&3)<<4,i[n++]=128|o&63}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|s&63;n>r&&(t.push(i.slice(0,n)),n=0,i=Zu(65535),r=65530)}return t.push(i.slice(0,n)),vu(t)}var Fi=/\u0000/g,y1=/[\u0001-\u0006]/g;function wd(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function As(e,t){var n=""+e;return n.length>=t?n:Dn("0",t-n.length)+n}function X8(e,t){var n=""+e;return n.length>=t?n:Dn(" ",t-n.length)+n}function z2(e,t){var n=""+e;return n.length>=t?n:n+Dn(" ",t-n.length)}function G3e(e,t){var n=""+Math.round(e);return n.length>=t?n:Dn("0",t-n.length)+n}function Y3e(e,t){var n=""+e;return n.length>=t?n:Dn("0",t-n.length)+n}var UI=Math.pow(2,32);function Q0(e,t){if(e>UI||e<-UI)return G3e(e,t);var n=Math.round(e);return Y3e(n,t)}function U2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var WI=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Pb=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function V3e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var _t={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},HI={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},q3e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function W2(e,t,n){for(var r=e<0?-1:1,i=e*r,a=0,s=1,o=0,l=1,u=0,c=0,d=Math.floor(i);u<t&&(d=Math.floor(i),o=d*s+a,c=d*u+l,!(i-d<5e-8));)i=1/(i-d),a=s,s=o,l=u,u=c;if(c>t&&(u>t?(c=l,o=a):(c=u,o=s)),!n)return[0,r*o,c];var p=Math.floor(r*o/c);return[p,r*o-p*c,c]}function af(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),a=0,s=[],o={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)s=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=eCe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var Pq=new Date(1899,11,31,0,0,0),X3e=Pq.getTime(),K3e=new Date(1900,2,1,0,0,0);function Bq(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=K3e&&(n+=1440*60*1e3),(n-(X3e+(e.getTimezoneOffset()-Pq.getTimezoneOffset())*6e4))/(1440*60*1e3)}function K8(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function J3e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Q3e(e){var t=e<0?12:11,n=K8(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function Z3e(e){var t=K8(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Eg(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=Q3e(e):t===10?n=e.toFixed(10).substr(0,12):n=Z3e(e),K8(J3e(n.toUpperCase()))}function zf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Eg(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Qa(14,Bq(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function eCe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function tCe(e,t,n,r){var i="",a=0,s=0,o=n.y,l,u=0;switch(e){case 98:o=n.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,u=t.length;break;case 3:return Pb[n.m-1][1];case 5:return Pb[n.m-1][0];default:return Pb[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,u=t.length;break;case 3:return WI[n.q][0];default:return WI[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?As(n.S,t.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(n.S+n.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=As(a,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?As(l,u):"";return c}function Ou(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var zq=/%/g;function nCe(e,t,n){var r=t.replace(zq,""),i=t.length-r.length;return wl(e,r,n*Math.pow(10,2*i))+Dn("%",i)}function rCe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return wl(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function Uq(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Uq(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),n.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Wq=/# (\?+)( ?)\/( ?)(\d+)/;function iCe(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),a=Math.floor(i/r),s=i-a*r,o=r;return n+(a===0?"":""+a)+" "+(s===0?Dn(" ",e[1].length+1+e[4].length):X8(s,e[1].length)+e[2]+"/"+e[3]+As(o,e[4].length))}function aCe(e,t,n){return n+(t===0?"":""+t)+Dn(" ",e[1].length+2+e[4].length)}var Hq=/^#*0*\.([0#]+)/,jq=/\).*[0#]/,Gq=/\(###\) ###\\?-####/;function xi(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function jI(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function GI(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function sCe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function oCe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ia(e,t,n){if(e.charCodeAt(0)===40&&!t.match(jq)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ia("n",r,n):"("+Ia("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return rCe(e,t,n);if(t.indexOf("%")!==-1)return nCe(e,t,n);if(t.indexOf("E")!==-1)return Uq(t,n);if(t.charCodeAt(0)===36)return"$"+Ia(e,t.substr(t.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+Q0(l,t.length);if(t.match(/^[#?]+$/))return i=Q0(n,0),i==="0"&&(i=""),i.length>t.length?i:xi(t.substr(0,t.length-i.length))+i;if(a=t.match(Wq))return iCe(a,l,u);if(t.match(/^#+0+$/))return u+Q0(l,t.length-t.indexOf("0"));if(a=t.match(Hq))return i=jI(n,a[1].length).replace(/^([^\.]+)$/,"$1."+xi(a[1])).replace(/\.$/,"."+xi(a[1])).replace(/\.(\d*)$/,function(m,x){return"."+x+Dn("0",xi(a[1]).length-x.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+jI(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Ou(Q0(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ia(e,t,-n):Ou(""+(Math.floor(n)+sCe(n,a[1].length)))+"."+As(GI(n,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ia(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=wd(Ia(e,t.replace(/[\\-]/g,""),n)),s=0,wd(wd(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<i.length?i.charAt(s++):m==="0"?"0":""}));if(t.match(Gq))return i=Ia(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=W2(l,Math.pow(10,s)-1,!1),i=""+u,c=wl("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=z2(o[2],s),c.length<a[4].length&&(c=xi(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=W2(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?X8(o[1],s)+a[2]+"/"+a[3]+z2(o[2],s):Dn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Q0(n,0),t.length<=i.length?i:xi(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,p=t.length-i.length-d;return xi(t.substr(0,d)+i+t.substr(t.length-p))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=GI(n,a[1].length),n<0?"-"+Ia(e,t,-n):Ou(oCe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?As(0,3-m.length):"")+m})+"."+As(s,a[1].length);switch(t){case"###,##0.00":return Ia(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var g=Ou(Q0(l,0));return g!=="0"?u+g:"";case"###,###.00":return Ia(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ia(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function lCe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return wl(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function uCe(e,t,n){var r=t.replace(zq,""),i=t.length-r.length;return wl(e,r,n*Math.pow(10,2*i))+Dn("%",i)}function Yq(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Yq(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function eo(e,t,n){if(e.charCodeAt(0)===40&&!t.match(jq)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?eo("n",r,n):"("+eo("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return lCe(e,t,n);if(t.indexOf("%")!==-1)return uCe(e,t,n);if(t.indexOf("E")!==-1)return Yq(t,n);if(t.charCodeAt(0)===36)return"$"+eo(e,t.substr(t.charAt(1)==" "?2:1),n);var i,a,s,o,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+As(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:xi(t.substr(0,t.length-i.length))+i;if(a=t.match(Wq))return aCe(a,l,u);if(t.match(/^#+0+$/))return u+As(l,t.length-t.indexOf("0"));if(a=t.match(Hq))return i=(""+n).replace(/^([^\.]+)$/,"$1."+xi(a[1])).replace(/\.$/,"."+xi(a[1])),i=i.replace(/\.(\d*)$/,function(m,x){return"."+x+Dn("0",xi(a[1]).length-x.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Ou(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+eo(e,t,-n):Ou(""+n)+"."+Dn("0",a[1].length);if(a=t.match(/^#,#*,#0/))return eo(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=wd(eo(e,t.replace(/[\\-]/g,""),n)),s=0,wd(wd(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<i.length?i.charAt(s++):m==="0"?"0":""}));if(t.match(Gq))return i=eo(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=W2(l,Math.pow(10,s)-1,!1),i=""+u,c=wl("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=z2(o[2],s),c.length<a[4].length&&(c=xi(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=W2(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?X8(o[1],s)+a[2]+"/"+a[3]+z2(o[2],s):Dn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:xi(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,p=t.length-i.length-d;return xi(t.substr(0,d)+i+t.substr(t.length-p))}if(a=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+eo(e,t,-n):Ou(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?As(0,3-m.length):"")+m})+"."+As(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=Ou(""+l);return g!=="0"?u+g:"";default:if(t.match(/\.[0#?]*$/))return eo(e,t.slice(0,t.lastIndexOf(".")),n)+xi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function wl(e,t,n){return(n|0)===n?eo(e,t,n):Ia(e,t,n)}function cCe(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Vq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ih(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":U2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(Vq))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function fCe(e,t,n,r){for(var i=[],a="",s=0,o="",l="t",u,c,d,p="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!U2(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(d=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(d);i[i.length]={t:"t",v:a},++s;break;case"\\":var g=e.charAt(++s),m=g==="("||g===")"?g:"t";i[i.length]={t:m,v:g},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=af(t,n,e.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=af(t,n),u==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var x={t:o,v:o};if(u==null&&(u=af(t,n)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",p="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",s+=5,p="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(x.v=u.H>=12?"":""),x.t="T",s+=5,p="h"):(x.t="t",++s),u==null&&x.t==="T")return"";i[i.length]=x,l=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(Vq)){if(u==null&&(u=af(t,n),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ih(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var v=0,_=0,E;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=p,l="h",v<1&&(v=1);break;case"s":(E=i[s].v.match(/\.0+$/))&&(_=Math.max(_,E[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[s].v.match(/[Hh]/)&&(v=1),v<2&&i[s].v.match(/[Mm]/)&&(v=2),v<3&&i[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var k="",A;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=tCe(i[s].t.charCodeAt(0),i[s].v,u,_),i[s].t="t";break;case"n":case"?":for(A=s+1;i[A]!=null&&((o=i[A].t)==="?"||o==="D"||(o===" "||o==="t")&&i[A+1]!=null&&(i[A+1].t==="?"||i[A+1].t==="t"&&i[A+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[A].v==="/"||i[A].v===" "&&i[A+1]!=null&&i[A+1].t=="?"));)i[s].v+=i[A].v,i[A]={v:"",t:";"},++A;k+=i[s].v,s=A-1;break;case"G":i[s].t="t",i[s].v=zf(t,n);break}var T="",D,b;if(k.length>0){k.charCodeAt(0)==40?(D=t<0&&k.charCodeAt(0)===45?-t:t,b=wl("n",k,D)):(D=t<0&&r>1?-t:t,b=wl("n",k,D),D<0&&i[0]&&i[0].t=="t"&&(b=b.substr(1),i[0].v="-"+i[0].v)),A=b.length-1;var F=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){F=s;break}var C=i.length;if(F===i.length&&b.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(A>=i[s].v.length-1?(A-=i[s].v.length,i[s].v=b.substr(A+1,i[s].v.length)):A<0?i[s].v="":(i[s].v=b.substr(0,A+1),A=-1),i[s].t="t",C=s);A>=0&&C<i.length&&(i[C].v=b.substr(0,A+1)+i[C].v)}else if(F!==i.length&&b.indexOf("E")===-1){for(A=b.indexOf(".")-1,s=F;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(c=i[s].v.indexOf(".")>-1&&s===F?i[s].v.indexOf(".")-1:i[s].v.length-1,T=i[s].v.substr(c+1);c>=0;--c)A>=0&&(i[s].v.charAt(c)==="0"||i[s].v.charAt(c)==="#")&&(T=b.charAt(A--)+T);i[s].v=T,i[s].t="t",C=s}for(A>=0&&C<i.length&&(i[C].v=b.substr(0,A+1)+i[C].v),A=b.indexOf(".")+1,s=F;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==F)){for(c=i[s].v.indexOf(".")>-1&&s===F?i[s].v.indexOf(".")+1:0,T=i[s].v.substr(0,c);c<i[s].v.length;++c)A<b.length&&(T+=b.charAt(A++));i[s].v=T,i[s].t="t",C=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(D=r>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=wl(i[s].t,i[s].v,D),i[s].t="t");var N="";for(s=0;s!==i.length;++s)i[s]!=null&&(N+=i[s].v);return N}var YI=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function VI(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function dCe(e,t){var n=cCe(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match(YI),o=n[1].match(YI);return VI(t,s)?[r,n[0]]:VI(t,o)?[r,n[1]]:[r,n[s!=null&&o!=null?2:1]]}return[r,a]}function Qa(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:_t)[e],r==null&&(r=n.table&&n.table[HI[e]]||_t[HI[e]]),r==null&&(r=q3e[e]||"General");break}if(U2(r,0))return zf(t,n);t instanceof Date&&(t=Bq(t,n.date1904));var i=dCe(r,t);if(U2(i[1]))return zf(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return fCe(i[1],t,n,i[0])}function mf(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(_t[n]==null){t<0&&(t=n);continue}if(_t[n]==e){t=n;break}}t<0&&(t=391)}return _t[t]=e,t}function qq(){_t=V3e()}var hCe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Xq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pCe(e){var t=typeof e=="number"?_t[e]:e;return t=t.replace(Xq,"(\\d+)"),new RegExp("^"+t+"$")}function gCe(e,t,n){var r=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(t.match(Xq)||[]).forEach(function(d,p){var g=parseInt(n[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=g;break;case"d":a=g;break;case"h":s=g;break;case"s":l=g;break;case"m":s>=0?o=g:i=g;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:r==-1&&i==-1&&a==-1?c:u+"T"+c}var mCe=(function(){var e={};e.version="1.2.0";function t(){for(var b=0,F=new Array(256),C=0;C!=256;++C)b=C,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,F[C]=b;return typeof Int32Array<"u"?new Int32Array(F):F}var n=t();function r(b){var F=0,C=0,N=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)R[N]=b[N];for(N=0;N!=256;++N)for(C=b[N],F=256+N;F<4096;F+=256)C=R[F]=C>>>8^b[C&255];var L=[];for(N=1;N!=16;++N)L[N-1]=typeof Int32Array<"u"?R.subarray(N*256,N*256+256):R.slice(N*256,N*256+256);return L}var i=r(n),a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],d=i[6],p=i[7],g=i[8],m=i[9],x=i[10],v=i[11],_=i[12],E=i[13],k=i[14];function A(b,F){for(var C=F^-1,N=0,R=b.length;N<R;)C=C>>>8^n[(C^b.charCodeAt(N++))&255];return~C}function T(b,F){for(var C=F^-1,N=b.length-15,R=0;R<N;)C=k[b[R++]^C&255]^E[b[R++]^C>>8&255]^_[b[R++]^C>>16&255]^v[b[R++]^C>>>24]^x[b[R++]]^m[b[R++]]^g[b[R++]]^p[b[R++]]^d[b[R++]]^c[b[R++]]^u[b[R++]]^l[b[R++]]^o[b[R++]]^s[b[R++]]^a[b[R++]]^n[b[R++]];for(N+=15;R<N;)C=C>>>8^n[(C^b[R++])&255];return~C}function D(b,F){for(var C=F^-1,N=0,R=b.length,L=0,j=0;N<R;)L=b.charCodeAt(N++),L<128?C=C>>>8^n[(C^L)&255]:L<2048?(C=C>>>8^n[(C^(192|L>>6&31))&255],C=C>>>8^n[(C^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,j=b.charCodeAt(N++)&1023,C=C>>>8^n[(C^(240|L>>8&7))&255],C=C>>>8^n[(C^(128|L>>2&63))&255],C=C>>>8^n[(C^(128|j>>6&15|(L&3)<<4))&255],C=C>>>8^n[(C^(128|j&63))&255]):(C=C>>>8^n[(C^(224|L>>12&15))&255],C=C>>>8^n[(C^(128|L>>6&63))&255],C=C>>>8^n[(C^(128|L&63))&255]);return~C}return e.table=n,e.bstr=A,e.buf=T,e.str=D,e})(),Rt=(function(){var t={};t.version="1.2.1";function n(P,X){for(var H=P.split("/"),G=X.split("/"),J=0,Z=0,he=Math.min(H.length,G.length);J<he;++J){if(Z=H[J].length-G[J].length)return Z;if(H[J]!=G[J])return H[J]<G[J]?-1:1}return H.length-G.length}function r(P){if(P.charAt(P.length-1)=="/")return P.slice(0,-1).indexOf("/")===-1?P:r(P.slice(0,-1));var X=P.lastIndexOf("/");return X===-1?P:P.slice(0,X+1)}function i(P){if(P.charAt(P.length-1)=="/")return i(P.slice(0,-1));var X=P.lastIndexOf("/");return X===-1?P:P.slice(X+1)}function a(P,X){typeof X=="string"&&(X=new Date(X));var H=X.getHours();H=H<<6|X.getMinutes(),H=H<<5|X.getSeconds()>>>1,P.write_shift(2,H);var G=X.getFullYear()-1980;G=G<<4|X.getMonth()+1,G=G<<5|X.getDate(),P.write_shift(2,G)}function s(P){var X=P.read_shift(2)&65535,H=P.read_shift(2)&65535,G=new Date,J=H&31;H>>>=5;var Z=H&15;H>>>=4,G.setMilliseconds(0),G.setFullYear(H+1980),G.setMonth(Z-1),G.setDate(J);var he=X&31;X>>>=5;var Ee=X&63;return X>>>=6,G.setHours(X),G.setMinutes(Ee),G.setSeconds(he<<1),G}function o(P){Dr(P,0);for(var X={},H=0;P.l<=P.length-4;){var G=P.read_shift(2),J=P.read_shift(2),Z=P.l+J,he={};switch(G){case 21589:H=P.read_shift(1),H&1&&(he.mtime=P.read_shift(4)),J>5&&(H&2&&(he.atime=P.read_shift(4)),H&4&&(he.ctime=P.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}P.l=Z,X[G]=he}return X}var l;function u(){return l||(l={})}function c(P,X){if(P[0]==80&&P[1]==75)return m0(P,X);if((P[0]|32)==109&&(P[1]|32)==105)return Mm(P,X);if(P.length<512)throw new Error("CFB file size "+P.length+" < 512");var H=3,G=512,J=0,Z=0,he=0,Ee=0,de=0,pe=[],ge=P.slice(0,512);Dr(ge,0);var De=d(ge);switch(H=De[0],H){case 3:G=512;break;case 4:G=4096;break;case 0:if(De[1]==0)return m0(P,X);default:throw new Error("Major Version: Expected 3 or 4 saw "+H)}G!==512&&(ge=P.slice(0,G),Dr(ge,28));var He=P.slice(0,G);p(ge,H);var Ke=ge.read_shift(4,"i");if(H===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);ge.l+=4,he=ge.read_shift(4,"i"),ge.l+=4,ge.chk("00100000","Mini Stream Cutoff Size: "),Ee=ge.read_shift(4,"i"),J=ge.read_shift(4,"i"),de=ge.read_shift(4,"i"),Z=ge.read_shift(4,"i");for(var Be=-1,$e=0;$e<109&&(Be=ge.read_shift(4,"i"),!(Be<0));++$e)pe[$e]=Be;var mt=g(P,G);v(de,Z,mt,G,pe);var nn=E(mt,he,pe,G);nn[he].name="!Directory",J>0&&Ee!==j&&(nn[Ee].name="!MiniFAT"),nn[pe[0]].name="!FAT",nn.fat_addrs=pe,nn.ssz=G;var sn={},In=[],_c=[],Wl=[];k(he,nn,mt,In,J,sn,_c,Ee),m(_c,Wl,In),In.shift();var Gs={FileIndex:_c,FullPaths:Wl};return X&&X.raw&&(Gs.raw={header:He,sectors:mt}),Gs}function d(P){if(P[P.l]==80&&P[P.l+1]==75)return[0,0];P.chk(q,"Header Signature: "),P.l+=16;var X=P.read_shift(2,"u");return[P.read_shift(2,"u"),X]}function p(P,X){var H=9;switch(P.l+=2,H=P.read_shift(2)){case 9:if(X!=3)throw new Error("Sector Shift: Expected 9 saw "+H);break;case 12:if(X!=4)throw new Error("Sector Shift: Expected 12 saw "+H);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+H)}P.chk("0600","Mini Sector Shift: "),P.chk("000000000000","Reserved: ")}function g(P,X){for(var H=Math.ceil(P.length/X)-1,G=[],J=1;J<H;++J)G[J-1]=P.slice(J*X,(J+1)*X);return G[H-1]=P.slice(H*X),G}function m(P,X,H){for(var G=0,J=0,Z=0,he=0,Ee=0,de=H.length,pe=[],ge=[];G<de;++G)pe[G]=ge[G]=G,X[G]=H[G];for(;Ee<ge.length;++Ee)G=ge[Ee],J=P[G].L,Z=P[G].R,he=P[G].C,pe[G]===G&&(J!==-1&&pe[J]!==J&&(pe[G]=pe[J]),Z!==-1&&pe[Z]!==Z&&(pe[G]=pe[Z])),he!==-1&&(pe[he]=G),J!==-1&&G!=pe[G]&&(pe[J]=pe[G],ge.lastIndexOf(J)<Ee&&ge.push(J)),Z!==-1&&G!=pe[G]&&(pe[Z]=pe[G],ge.lastIndexOf(Z)<Ee&&ge.push(Z));for(G=1;G<de;++G)pe[G]===G&&(Z!==-1&&pe[Z]!==Z?pe[G]=pe[Z]:J!==-1&&pe[J]!==J&&(pe[G]=pe[J]));for(G=1;G<de;++G)if(P[G].type!==0){if(Ee=G,Ee!=pe[Ee])do Ee=pe[Ee],X[G]=X[Ee]+"/"+X[G];while(Ee!==0&&pe[Ee]!==-1&&Ee!=pe[Ee]);pe[G]=-1}for(X[0]+="/",G=1;G<de;++G)P[G].type!==2&&(X[G]+="/")}function x(P,X,H){for(var G=P.start,J=P.size,Z=[],he=G;H&&J>0&&he>=0;)Z.push(X.slice(he*L,he*L+L)),J-=L,he=Zc(H,he*4);return Z.length===0?Zn(0):vu(Z).slice(0,P.size)}function v(P,X,H,G,J){var Z=j;if(P===j){if(X!==0)throw new Error("DIFAT chain shorter than expected")}else if(P!==-1){var he=H[P],Ee=(G>>>2)-1;if(!he)return;for(var de=0;de<Ee&&(Z=Zc(he,de*4))!==j;++de)J.push(Z);v(Zc(he,G-4),X-1,H,G,J)}}function _(P,X,H,G,J){var Z=[],he=[];J||(J=[]);var Ee=G-1,de=0,pe=0;for(de=X;de>=0;){J[de]=!0,Z[Z.length]=de,he.push(P[de]);var ge=H[Math.floor(de*4/G)];if(pe=de*4&Ee,G<4+pe)throw new Error("FAT boundary crossed: "+de+" 4 "+G);if(!P[ge])break;de=Zc(P[ge],pe)}return{nodes:Z,data:r$([he])}}function E(P,X,H,G){var J=P.length,Z=[],he=[],Ee=[],de=[],pe=G-1,ge=0,De=0,He=0,Ke=0;for(ge=0;ge<J;++ge)if(Ee=[],He=ge+X,He>=J&&(He-=J),!he[He]){de=[];var Be=[];for(De=He;De>=0;){Be[De]=!0,he[De]=!0,Ee[Ee.length]=De,de.push(P[De]);var $e=H[Math.floor(De*4/G)];if(Ke=De*4&pe,G<4+Ke)throw new Error("FAT boundary crossed: "+De+" 4 "+G);if(!P[$e]||(De=Zc(P[$e],Ke),Be[De]))break}Z[He]={nodes:Ee,data:r$([de])}}return Z}function k(P,X,H,G,J,Z,he,Ee){for(var de=0,pe=G.length?2:0,ge=X[P].data,De=0,He=0,Ke;De<ge.length;De+=128){var Be=ge.slice(De,De+128);Dr(Be,64),He=Be.read_shift(2),Ke=t6(Be,0,He-pe),G.push(Ke);var $e={name:Ke,type:Be.read_shift(1),color:Be.read_shift(1),L:Be.read_shift(4,"i"),R:Be.read_shift(4,"i"),C:Be.read_shift(4,"i"),clsid:Be.read_shift(16),state:Be.read_shift(4,"i"),start:0,size:0},mt=Be.read_shift(2)+Be.read_shift(2)+Be.read_shift(2)+Be.read_shift(2);mt!==0&&($e.ct=A(Be,Be.l-8));var nn=Be.read_shift(2)+Be.read_shift(2)+Be.read_shift(2)+Be.read_shift(2);nn!==0&&($e.mt=A(Be,Be.l-8)),$e.start=Be.read_shift(4,"i"),$e.size=Be.read_shift(4,"i"),$e.size<0&&$e.start<0&&($e.size=$e.type=0,$e.start=j,$e.name=""),$e.type===5?(de=$e.start,J>0&&de!==j&&(X[de].name="!StreamData")):$e.size>=4096?($e.storage="fat",X[$e.start]===void 0&&(X[$e.start]=_(H,$e.start,X.fat_addrs,X.ssz)),X[$e.start].name=$e.name,$e.content=X[$e.start].data.slice(0,$e.size)):($e.storage="minifat",$e.size<0?$e.size=0:de!==j&&$e.start!==j&&X[de]&&($e.content=x($e,X[de].data,(X[Ee]||{}).data))),$e.content&&Dr($e.content,0),Z[Ke]=$e,he.push($e)}}function A(P,X){return new Date((fa(P,X+4)/1e7*Math.pow(2,32)+fa(P,X)/1e7-11644473600)*1e3)}function T(P,X){return u(),c(l.readFileSync(P),X)}function D(P,X){var H=X&&X.type;switch(H||Ft&&Buffer.isBuffer(P)&&(H="buffer"),H||"base64"){case"file":return T(P,X);case"base64":return c(_s(ba(P)),X);case"binary":return c(_s(P),X)}return c(P,X)}function b(P,X){var H=X||{},G=H.root||"Root Entry";if(P.FullPaths||(P.FullPaths=[]),P.FileIndex||(P.FileIndex=[]),P.FullPaths.length!==P.FileIndex.length)throw new Error("inconsistent CFB structure");P.FullPaths.length===0&&(P.FullPaths[0]=G+"/",P.FileIndex[0]={name:G,type:5}),H.CLSID&&(P.FileIndex[0].clsid=H.CLSID),F(P)}function F(P){var X="Sh33tJ5";if(!Rt.find(P,"/"+X)){var H=Zn(4);H[0]=55,H[1]=H[3]=50,H[2]=54,P.FileIndex.push({name:X,type:2,content:H,size:4,L:69,R:69,C:69}),P.FullPaths.push(P.FullPaths[0]+X),C(P)}}function C(P,X){b(P);for(var H=!1,G=!1,J=P.FullPaths.length-1;J>=0;--J){var Z=P.FileIndex[J];switch(Z.type){case 0:G?H=!0:(P.FileIndex.pop(),P.FullPaths.pop());break;case 1:case 2:case 5:G=!0,isNaN(Z.R*Z.L*Z.C)&&(H=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(H=!0);break;default:H=!0;break}}if(!(!H&&!X)){var he=new Date(1987,1,19),Ee=0,de=Object.create?Object.create(null):{},pe=[];for(J=0;J<P.FullPaths.length;++J)de[P.FullPaths[J]]=!0,P.FileIndex[J].type!==0&&pe.push([P.FullPaths[J],P.FileIndex[J]]);for(J=0;J<pe.length;++J){var ge=r(pe[J][0]);G=de[ge],G||(pe.push([ge,{name:i(ge).replace("/",""),type:1,clsid:K,ct:he,mt:he,content:null}]),de[ge]=!0)}for(pe.sort(function(Ke,Be){return n(Ke[0],Be[0])}),P.FullPaths=[],P.FileIndex=[],J=0;J<pe.length;++J)P.FullPaths[J]=pe[J][0],P.FileIndex[J]=pe[J][1];for(J=0;J<pe.length;++J){var De=P.FileIndex[J],He=P.FullPaths[J];if(De.name=i(He).replace("/",""),De.L=De.R=De.C=-(De.color=1),De.size=De.content?De.content.length:0,De.start=0,De.clsid=De.clsid||K,J===0)De.C=pe.length>1?1:-1,De.size=0,De.type=5;else if(He.slice(-1)=="/"){for(Ee=J+1;Ee<pe.length&&r(P.FullPaths[Ee])!=He;++Ee);for(De.C=Ee>=pe.length?-1:Ee,Ee=J+1;Ee<pe.length&&r(P.FullPaths[Ee])!=r(He);++Ee);De.R=Ee>=pe.length?-1:Ee,De.type=1}else r(P.FullPaths[J+1]||"")==r(He)&&(De.R=J+1),De.type=2}}}function N(P,X){var H=X||{};if(H.fileType=="mad")return yc(P,H);switch(C(P),H.fileType){case"zip":return Ul(P,H)}var G=(function(Ke){for(var Be=0,$e=0,mt=0;mt<Ke.FileIndex.length;++mt){var nn=Ke.FileIndex[mt];if(nn.content){var sn=nn.content.length;sn>0&&(sn<4096?Be+=sn+63>>6:$e+=sn+511>>9)}}for(var In=Ke.FullPaths.length+3>>2,_c=Be+7>>3,Wl=Be+127>>7,Gs=_c+$e+In+Wl,ur=Gs+127>>7,Wh=ur<=109?0:Math.ceil((ur-109)/127);Gs+ur+Wh+127>>7>ur;)Wh=++ur<=109?0:Math.ceil((ur-109)/127);var $n=[1,Wh,ur,Wl,In,$e,Be,0];return Ke.FileIndex[0].size=Be<<6,$n[7]=(Ke.FileIndex[0].start=$n[0]+$n[1]+$n[2]+$n[3]+$n[4]+$n[5])+($n[6]+7>>3),$n})(P),J=Zn(G[7]<<9),Z=0,he=0;{for(Z=0;Z<8;++Z)J.write_shift(1,U[Z]);for(Z=0;Z<8;++Z)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),Z=0;Z<3;++Z)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,G[2]),J.write_shift(4,G[0]+G[1]+G[2]+G[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,G[3]?G[0]+G[1]+G[2]-1:j),J.write_shift(4,G[3]),J.write_shift(-4,G[1]?G[0]-1:j),J.write_shift(4,G[1]),Z=0;Z<109;++Z)J.write_shift(-4,Z<G[2]?G[1]+Z:-1)}if(G[1])for(he=0;he<G[1];++he){for(;Z<236+he*127;++Z)J.write_shift(-4,Z<G[2]?G[1]+Z:-1);J.write_shift(-4,he===G[1]-1?j:he+1)}var Ee=function(Ke){for(he+=Ke;Z<he-1;++Z)J.write_shift(-4,Z+1);Ke&&(++Z,J.write_shift(-4,j))};for(he=Z=0,he+=G[1];Z<he;++Z)J.write_shift(-4,ee.DIFSECT);for(he+=G[2];Z<he;++Z)J.write_shift(-4,ee.FATSECT);Ee(G[3]),Ee(G[4]);for(var de=0,pe=0,ge=P.FileIndex[0];de<P.FileIndex.length;++de)ge=P.FileIndex[de],ge.content&&(pe=ge.content.length,!(pe<4096)&&(ge.start=he,Ee(pe+511>>9)));for(Ee(G[6]+7>>3);J.l&511;)J.write_shift(-4,ee.ENDOFCHAIN);for(he=Z=0,de=0;de<P.FileIndex.length;++de)ge=P.FileIndex[de],ge.content&&(pe=ge.content.length,!(!pe||pe>=4096)&&(ge.start=he,Ee(pe+63>>6)));for(;J.l&511;)J.write_shift(-4,ee.ENDOFCHAIN);for(Z=0;Z<G[4]<<2;++Z){var De=P.FullPaths[Z];if(!De||De.length===0){for(de=0;de<17;++de)J.write_shift(4,0);for(de=0;de<3;++de)J.write_shift(4,-1);for(de=0;de<12;++de)J.write_shift(4,0);continue}ge=P.FileIndex[Z],Z===0&&(ge.start=ge.size?ge.start-1:j);var He=Z===0&&H.root||ge.name;if(pe=2*(He.length+1),J.write_shift(64,He,"utf16le"),J.write_shift(2,pe),J.write_shift(1,ge.type),J.write_shift(1,ge.color),J.write_shift(-4,ge.L),J.write_shift(-4,ge.R),J.write_shift(-4,ge.C),ge.clsid)J.write_shift(16,ge.clsid,"hex");else for(de=0;de<4;++de)J.write_shift(4,0);J.write_shift(4,ge.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,ge.start),J.write_shift(4,ge.size),J.write_shift(4,0)}for(Z=1;Z<P.FileIndex.length;++Z)if(ge=P.FileIndex[Z],ge.size>=4096)if(J.l=ge.start+1<<9,Ft&&Buffer.isBuffer(ge.content))ge.content.copy(J,J.l,0,ge.size),J.l+=ge.size+511&-512;else{for(de=0;de<ge.size;++de)J.write_shift(1,ge.content[de]);for(;de&511;++de)J.write_shift(1,0)}for(Z=1;Z<P.FileIndex.length;++Z)if(ge=P.FileIndex[Z],ge.size>0&&ge.size<4096)if(Ft&&Buffer.isBuffer(ge.content))ge.content.copy(J,J.l,0,ge.size),J.l+=ge.size+63&-64;else{for(de=0;de<ge.size;++de)J.write_shift(1,ge.content[de]);for(;de&63;++de)J.write_shift(1,0)}if(Ft)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function R(P,X){var H=P.FullPaths.map(function(de){return de.toUpperCase()}),G=H.map(function(de){var pe=de.split("/");return pe[pe.length-(de.slice(-1)=="/"?2:1)]}),J=!1;X.charCodeAt(0)===47?(J=!0,X=H[0].slice(0,-1)+X):J=X.indexOf("/")!==-1;var Z=X.toUpperCase(),he=J===!0?H.indexOf(Z):G.indexOf(Z);if(he!==-1)return P.FileIndex[he];var Ee=!Z.match(y1);for(Z=Z.replace(Fi,""),Ee&&(Z=Z.replace(y1,"!")),he=0;he<H.length;++he)if((Ee?H[he].replace(y1,"!"):H[he]).replace(Fi,"")==Z||(Ee?G[he].replace(y1,"!"):G[he]).replace(Fi,"")==Z)return P.FileIndex[he];return null}var L=64,j=-2,q="d0cf11e0a1b11ae1",U=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ne(P,X,H){u();var G=N(P,H);l.writeFileSync(X,G)}function z(P){for(var X=new Array(P.length),H=0;H<P.length;++H)X[H]=String.fromCharCode(P[H]);return X.join("")}function ae(P,X){var H=N(P,X);switch(X&&X.type||"buffer"){case"file":return u(),l.writeFileSync(X.filename,H),H;case"binary":return typeof H=="string"?H:z(H);case"base64":return BI(typeof H=="string"?H:z(H));case"buffer":if(Ft)return Buffer.isBuffer(H)?H:l0(H);case"array":return typeof H=="string"?_s(H):H}return H}var W;function M(P){try{var X=P.InflateRaw,H=new X;if(H._processChunk(new Uint8Array([3,0]),H._finishFlushFlag),H.bytesRead)W=P;else throw new Error("zlib does not expose bytesRead")}catch(G){console.error("cannot use native zlib: "+(G.message||G))}}function Y(P,X){if(!W)return p0(P,X);var H=W.InflateRaw,G=new H,J=G._processChunk(P.slice(P.l),G._finishFlushFlag);return P.l+=G.bytesRead,J}function Q(P){return W?W.deflateRawSync(P):ht(P)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],we=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(P){var X=(P<<1|P<<11)&139536|(P<<5|P<<15)&558144;return(X>>16|X>>8|X)&255}for(var ie=typeof Uint8Array<"u",ue=ie?new Uint8Array(256):[],Se=0;Se<256;++Se)ue[Se]=xe(Se);function B(P,X){var H=ue[P&255];return X<=8?H>>>8-X:(H=H<<8|ue[P>>8&255],X<=16?H>>>16-X:(H=H<<8|ue[P>>16&255],H>>>24-X))}function Ze(P,X){var H=X&7,G=X>>>3;return(P[G]|(H<=6?0:P[G+1]<<8))>>>H&3}function Pe(P,X){var H=X&7,G=X>>>3;return(P[G]|(H<=5?0:P[G+1]<<8))>>>H&7}function je(P,X){var H=X&7,G=X>>>3;return(P[G]|(H<=4?0:P[G+1]<<8))>>>H&15}function Ie(P,X){var H=X&7,G=X>>>3;return(P[G]|(H<=3?0:P[G+1]<<8))>>>H&31}function Ae(P,X){var H=X&7,G=X>>>3;return(P[G]|(H<=1?0:P[G+1]<<8))>>>H&127}function it(P,X,H){var G=X&7,J=X>>>3,Z=(1<<H)-1,he=P[J]>>>G;return H<8-G||(he|=P[J+1]<<8-G,H<16-G)||(he|=P[J+2]<<16-G,H<24-G)||(he|=P[J+3]<<24-G),he&Z}function Et(P,X,H){var G=X&7,J=X>>>3;return G<=5?P[J]|=(H&7)<<G:(P[J]|=H<<G&255,P[J+1]=(H&7)>>8-G),X+3}function Ct(P,X,H){var G=X&7,J=X>>>3;return H=(H&1)<<G,P[J]|=H,X+1}function wn(P,X,H){var G=X&7,J=X>>>3;return H<<=G,P[J]|=H&255,H>>>=8,P[J+1]=H,X+8}function Hn(P,X,H){var G=X&7,J=X>>>3;return H<<=G,P[J]|=H&255,H>>>=8,P[J+1]=H&255,P[J+2]=H>>>8,X+16}function br(P,X){var H=P.length,G=2*H>X?2*H:X+5,J=0;if(H>=X)return P;if(Ft){var Z=zI(G);if(P.copy)P.copy(Z);else for(;J<P.length;++J)Z[J]=P[J];return Z}else if(ie){var he=new Uint8Array(G);if(he.set)he.set(P);else for(;J<H;++J)he[J]=P[J];return he}return P.length=G,P}function $t(P){for(var X=new Array(P),H=0;H<P;++H)X[H]=0;return X}function En(P,X,H){var G=1,J=0,Z=0,he=0,Ee=0,de=P.length,pe=ie?new Uint16Array(32):$t(32);for(Z=0;Z<32;++Z)pe[Z]=0;for(Z=de;Z<H;++Z)P[Z]=0;de=P.length;var ge=ie?new Uint16Array(de):$t(de);for(Z=0;Z<de;++Z)pe[J=P[Z]]++,G<J&&(G=J),ge[Z]=0;for(pe[0]=0,Z=1;Z<=G;++Z)pe[Z+16]=Ee=Ee+pe[Z-1]<<1;for(Z=0;Z<de;++Z)Ee=P[Z],Ee!=0&&(ge[Z]=pe[Ee+16]++);var De=0;for(Z=0;Z<de;++Z)if(De=P[Z],De!=0)for(Ee=B(ge[Z],G)>>G-De,he=(1<<G+4-De)-1;he>=0;--he)X[Ee|he<<De]=De&15|Z<<4;return G}var Gt=ie?new Uint16Array(512):$t(512),gn=ie?new Uint16Array(32):$t(32);if(!ie){for(var Yt=0;Yt<512;++Yt)Gt[Yt]=0;for(Yt=0;Yt<32;++Yt)gn[Yt]=0}(function(){for(var P=[],X=0;X<32;X++)P.push(5);En(P,gn,32);var H=[];for(X=0;X<=143;X++)H.push(8);for(;X<=255;X++)H.push(9);for(;X<=279;X++)H.push(7);for(;X<=287;X++)H.push(8);En(H,Gt,288)})();var Ar=(function(){for(var X=ie?new Uint8Array(32768):[],H=0,G=0;H<we.length-1;++H)for(;G<we[H+1];++G)X[G]=H;for(;G<32768;++G)X[G]=29;var J=ie?new Uint8Array(259):[];for(H=0,G=0;H<le.length-1;++H)for(;G<le[H+1];++G)J[G]=H;function Z(Ee,de){for(var pe=0;pe<Ee.length;){var ge=Math.min(65535,Ee.length-pe),De=pe+ge==Ee.length;for(de.write_shift(1,+De),de.write_shift(2,ge),de.write_shift(2,~ge&65535);ge-- >0;)de[de.l++]=Ee[pe++]}return de.l}function he(Ee,de){for(var pe=0,ge=0,De=ie?new Uint16Array(32768):[];ge<Ee.length;){var He=Math.min(65535,Ee.length-ge);if(He<10){for(pe=Et(de,pe,+(ge+He==Ee.length)),pe&7&&(pe+=8-(pe&7)),de.l=pe/8|0,de.write_shift(2,He),de.write_shift(2,~He&65535);He-- >0;)de[de.l++]=Ee[ge++];pe=de.l*8;continue}pe=Et(de,pe,+(ge+He==Ee.length)+2);for(var Ke=0;He-- >0;){var Be=Ee[ge];Ke=(Ke<<5^Be)&32767;var $e=-1,mt=0;if(($e=De[Ke])&&($e|=ge&-32768,$e>ge&&($e-=32768),$e<ge))for(;Ee[$e+mt]==Ee[ge+mt]&&mt<250;)++mt;if(mt>2){Be=J[mt],Be<=22?pe=wn(de,pe,ue[Be+1]>>1)-1:(wn(de,pe,3),pe+=5,wn(de,pe,ue[Be-23]>>5),pe+=3);var nn=Be<8?0:Be-4>>2;nn>0&&(Hn(de,pe,mt-le[Be]),pe+=nn),Be=X[ge-$e],pe=wn(de,pe,ue[Be]>>3),pe-=3;var sn=Be<4?0:Be-2>>1;sn>0&&(Hn(de,pe,ge-$e-we[Be]),pe+=sn);for(var In=0;In<mt;++In)De[Ke]=ge&32767,Ke=(Ke<<5^Ee[ge])&32767,++ge;He-=mt-1}else Be<=143?Be=Be+48:pe=Ct(de,pe,1),pe=wn(de,pe,ue[Be]),De[Ke]=ge&32767,++ge}pe=wn(de,pe,0)-1}return de.l=(pe+7)/8|0,de.l}return function(de,pe){return de.length<8?Z(de,pe):he(de,pe)}})();function ht(P){var X=Zn(50+Math.floor(P.length*1.1)),H=Ar(P,X);return X.slice(0,H)}var Nt=ie?new Uint16Array(32768):$t(32768),cn=ie?new Uint16Array(32768):$t(32768),en=ie?new Uint16Array(128):$t(128),ra=1,Tm=1;function Ph(P,X){var H=Ie(P,X)+257;X+=5;var G=Ie(P,X)+1;X+=5;var J=je(P,X)+4;X+=4;for(var Z=0,he=ie?new Uint8Array(19):$t(19),Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],de=1,pe=ie?new Uint8Array(8):$t(8),ge=ie?new Uint8Array(8):$t(8),De=he.length,He=0;He<J;++He)he[V[He]]=Z=Pe(P,X),de<Z&&(de=Z),pe[Z]++,X+=3;var Ke=0;for(pe[0]=0,He=1;He<=de;++He)ge[He]=Ke=Ke+pe[He-1]<<1;for(He=0;He<De;++He)(Ke=he[He])!=0&&(Ee[He]=ge[Ke]++);var Be=0;for(He=0;He<De;++He)if(Be=he[He],Be!=0){Ke=ue[Ee[He]]>>8-Be;for(var $e=(1<<7-Be)-1;$e>=0;--$e)en[Ke|$e<<Be]=Be&7|He<<3}var mt=[];for(de=1;mt.length<H+G;)switch(Ke=en[Ae(P,X)],X+=Ke&7,Ke>>>=3){case 16:for(Z=3+Ze(P,X),X+=2,Ke=mt[mt.length-1];Z-- >0;)mt.push(Ke);break;case 17:for(Z=3+Pe(P,X),X+=3;Z-- >0;)mt.push(0);break;case 18:for(Z=11+Ae(P,X),X+=7;Z-- >0;)mt.push(0);break;default:mt.push(Ke),de<Ke&&(de=Ke);break}var nn=mt.slice(0,H),sn=mt.slice(H);for(He=H;He<286;++He)nn[He]=0;for(He=G;He<30;++He)sn[He]=0;return ra=En(nn,Nt,286),Tm=En(sn,cn,30),X}function Bh(P,X){if(P[0]==3&&!(P[1]&3))return[Zu(X),2];for(var H=0,G=0,J=zI(X||1<<18),Z=0,he=J.length>>>0,Ee=0,de=0;(G&1)==0;){if(G=Pe(P,H),H+=3,G>>>1)G>>1==1?(Ee=9,de=5):(H=Ph(P,H),Ee=ra,de=Tm);else{H&7&&(H+=8-(H&7));var pe=P[H>>>3]|P[(H>>>3)+1]<<8;if(H+=32,pe>0)for(!X&&he<Z+pe&&(J=br(J,Z+pe),he=J.length);pe-- >0;)J[Z++]=P[H>>>3],H+=8;continue}for(;;){!X&&he<Z+32767&&(J=br(J,Z+32767),he=J.length);var ge=it(P,H,Ee),De=G>>>1==1?Gt[ge]:Nt[ge];if(H+=De&15,De>>>=4,(De>>>8&255)===0)J[Z++]=De;else{if(De==256)break;De-=257;var He=De<8?0:De-4>>2;He>5&&(He=0);var Ke=Z+le[De];He>0&&(Ke+=it(P,H,He),H+=He),ge=it(P,H,de),De=G>>>1==1?gn[ge]:cn[ge],H+=De&15,De>>>=4;var Be=De<4?0:De-2>>1,$e=we[De];for(Be>0&&($e+=it(P,H,Be),H+=Be),!X&&he<Ke&&(J=br(J,Ke+100),he=J.length);Z<Ke;)J[Z]=J[Z-$e],++Z}}}return X?[J,H+7>>>3]:[J.slice(0,Z),H+7>>>3]}function p0(P,X){var H=P.slice(P.l||0),G=Bh(H,X);return P.l+=G[1],G[0]}function g0(P,X){if(P)typeof console<"u"&&console.error(X);else throw new Error(X)}function m0(P,X){var H=P;Dr(H,0);var G=[],J=[],Z={FileIndex:G,FullPaths:J};b(Z,{root:X.root});for(var he=H.length-4;(H[he]!=80||H[he+1]!=75||H[he+2]!=5||H[he+3]!=6)&&he>=0;)--he;H.l=he+4,H.l+=4;var Ee=H.read_shift(2);H.l+=6;var de=H.read_shift(4);for(H.l=de,he=0;he<Ee;++he){H.l+=20;var pe=H.read_shift(4),ge=H.read_shift(4),De=H.read_shift(2),He=H.read_shift(2),Ke=H.read_shift(2);H.l+=8;var Be=H.read_shift(4),$e=o(H.slice(H.l+De,H.l+De+He));H.l+=De+He+Ke;var mt=H.l;H.l=Be+4,zl(H,pe,ge,Z,$e),H.l=mt}return Z}function zl(P,X,H,G,J){P.l+=2;var Z=P.read_shift(2),he=P.read_shift(2),Ee=s(P);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var de=P.read_shift(4),pe=P.read_shift(4),ge=P.read_shift(4),De=P.read_shift(2),He=P.read_shift(2),Ke="",Be=0;Be<De;++Be)Ke+=String.fromCharCode(P[P.l++]);if(He){var $e=o(P.slice(P.l,P.l+He));($e[21589]||{}).mt&&(Ee=$e[21589].mt),((J||{})[21589]||{}).mt&&(Ee=J[21589].mt)}P.l+=He;var mt=P.slice(P.l,P.l+pe);switch(he){case 8:mt=Y(P,ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var nn=!1;Z&8&&(de=P.read_shift(4),de==134695760&&(de=P.read_shift(4),nn=!0),pe=P.read_shift(4),ge=P.read_shift(4)),pe!=X&&g0(nn,"Bad compressed size: "+X+" != "+pe),ge!=H&&g0(nn,"Bad uncompressed size: "+H+" != "+ge),Wo(G,Ke,mt,{unsafe:!0,mt:Ee})}function Ul(P,X){var H=X||{},G=[],J=[],Z=Zn(1),he=H.compression?8:0,Ee=0,de=0,pe=0,ge=0,De=0,He=P.FullPaths[0],Ke=He,Be=P.FileIndex[0],$e=[],mt=0;for(de=1;de<P.FullPaths.length;++de)if(Ke=P.FullPaths[de].slice(He.length),Be=P.FileIndex[de],!(!Be.size||!Be.content||Ke=="Sh33tJ5")){var nn=ge,sn=Zn(Ke.length);for(pe=0;pe<Ke.length;++pe)sn.write_shift(1,Ke.charCodeAt(pe)&127);sn=sn.slice(0,sn.l),$e[De]=mCe.buf(Be.content,0);var In=Be.content;he==8&&(In=Q(In)),Z=Zn(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,Ee),Z.write_shift(2,he),Be.mt?a(Z,Be.mt):Z.write_shift(4,0),Z.write_shift(-4,$e[De]),Z.write_shift(4,In.length),Z.write_shift(4,Be.content.length),Z.write_shift(2,sn.length),Z.write_shift(2,0),ge+=Z.length,G.push(Z),ge+=sn.length,G.push(sn),ge+=In.length,G.push(In),Z=Zn(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,Ee),Z.write_shift(2,he),Z.write_shift(4,0),Z.write_shift(-4,$e[De]),Z.write_shift(4,In.length),Z.write_shift(4,Be.content.length),Z.write_shift(2,sn.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,nn),mt+=Z.l,J.push(Z),mt+=sn.length,J.push(sn),++De}return Z=Zn(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,De),Z.write_shift(2,De),Z.write_shift(4,mt),Z.write_shift(4,ge),Z.write_shift(2,0),vu([vu(G),vu(J),Z])}var xc={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Fm(P,X){if(P.ctype)return P.ctype;var H=P.name||"",G=H.match(/\.([^\.]+)$/);return G&&xc[G[1]]||X&&(G=(H=X).match(/[\.\\]([^\.\\])+$/),G&&xc[G[1]])?xc[G[1]]:"application/octet-stream"}function Om(P){for(var X=BI(P),H=[],G=0;G<X.length;G+=76)H.push(X.slice(G,G+76));return H.join(`\r
`)+`\r
`}function Dm(P){var X=P.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var ge=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(ge.length==1?"0"+ge:ge)});X=X.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),X.charAt(0)==`
`&&(X="=0D"+X.slice(1)),X=X.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var H=[],G=X.split(`\r
`),J=0;J<G.length;++J){var Z=G[J];if(Z.length==0){H.push("");continue}for(var he=0;he<Z.length;){var Ee=76,de=Z.slice(he,he+Ee);de.charAt(Ee-1)=="="?Ee--:de.charAt(Ee-2)=="="?Ee-=2:de.charAt(Ee-3)=="="&&(Ee-=3),de=Z.slice(he,he+Ee),he+=Ee,he<Z.length&&(de+="="),H.push(de)}}return H.join(`\r
`)}function Nm(P){for(var X=[],H=0;H<P.length;++H){for(var G=P[H];H<=P.length&&G.charAt(G.length-1)=="=";)G=G.slice(0,G.length-1)+P[++H];X.push(G)}for(var J=0;J<X.length;++J)X[J]=X[J].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return _s(X.join(`\r
`))}function zh(P,X,H){for(var G="",J="",Z="",he,Ee=0;Ee<10;++Ee){var de=X[Ee];if(!de||de.match(/^\s*$/))break;var pe=de.match(/^(.*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":G=pe[2].trim();break;case"content-type":Z=pe[2].trim();break;case"content-transfer-encoding":J=pe[2].trim();break}}switch(++Ee,J.toLowerCase()){case"base64":he=_s(ba(X.slice(Ee).join("")));break;case"quoted-printable":he=Nm(X.slice(Ee));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var ge=Wo(P,G.slice(H.length),he,{unsafe:!0});Z&&(ge.ctype=Z)}function Mm(P,X){if(z(P.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var H=X&&X.root||"",G=(Ft&&Buffer.isBuffer(P)?P.toString("binary"):z(P)).split(`\r
`),J=0,Z="";for(J=0;J<G.length;++J)if(Z=G[J],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),H||(H=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,H.length)!=H))for(;H.length>0&&(H=H.slice(0,H.length-1),H=H.slice(0,H.lastIndexOf("/")+1),Z.slice(0,H.length)!=H););var he=(G[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var Ee="--"+(he[1]||""),de=[],pe=[],ge={FileIndex:de,FullPaths:pe};b(ge);var De,He=0;for(J=0;J<G.length;++J){var Ke=G[J];Ke!==Ee&&Ke!==Ee+"--"||(He++&&zh(ge,G.slice(De,J),H),De=J)}return ge}function yc(P,X){var H=X||{},G=H.boundary||"SheetJS";G="------="+G;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+G.slice(2)+'"',"","",""],Z=P.FullPaths[0],he=Z,Ee=P.FileIndex[0],de=1;de<P.FullPaths.length;++de)if(he=P.FullPaths[de].slice(Z.length),Ee=P.FileIndex[de],!(!Ee.size||!Ee.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(mt){return"_x"+mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(mt){return"_u"+mt.charCodeAt(0).toString(16)+"_"});for(var pe=Ee.content,ge=Ft&&Buffer.isBuffer(pe)?pe.toString("binary"):z(pe),De=0,He=Math.min(1024,ge.length),Ke=0,Be=0;Be<=He;++Be)(Ke=ge.charCodeAt(Be))>=32&&Ke<128&&++De;var $e=De>=He*4/5;J.push(G),J.push("Content-Location: "+(H.root||"file:///C:/SheetJS/")+he),J.push("Content-Transfer-Encoding: "+($e?"quoted-printable":"base64")),J.push("Content-Type: "+Fm(Ee,he)),J.push(""),J.push($e?Dm(ge):Om(ge))}return J.push(G+`--\r
`),J.join(`\r
`)}function Uh(P){var X={};return b(X,P),X}function Wo(P,X,H,G){var J=G&&G.unsafe;J||b(P);var Z=!J&&Rt.find(P,X);if(!Z){var he=P.FullPaths[0];X.slice(0,he.length)==he?he=X:(he.slice(-1)!="/"&&(he+="/"),he=(he+X).replace("//","/")),Z={name:i(X),type:2},P.FileIndex.push(Z),P.FullPaths.push(he),J||Rt.utils.cfb_gc(P)}return Z.content=H,Z.size=H?H.length:0,G&&(G.CLSID&&(Z.clsid=G.CLSID),G.mt&&(Z.mt=G.mt),G.ct&&(Z.ct=G.ct)),Z}function lE(P,X){b(P);var H=Rt.find(P,X);if(H){for(var G=0;G<P.FileIndex.length;++G)if(P.FileIndex[G]==H)return P.FileIndex.splice(G,1),P.FullPaths.splice(G,1),!0}return!1}function vc(P,X,H){b(P);var G=Rt.find(P,X);if(G){for(var J=0;J<P.FileIndex.length;++J)if(P.FileIndex[J]==G)return P.FileIndex[J].name=i(H),P.FullPaths[J]=H,!0}return!1}function x0(P){C(P,!0)}return t.find=R,t.read=D,t.parse=c,t.write=ae,t.writeFile=ne,t.utils={cfb_new:Uh,cfb_add:Wo,cfb_del:lE,cfb_mov:vc,cfb_gc:x0,ReadShift:I1,CheckField:xX,prep_blob:Dr,bconcat:vu,use_zlib:M,_deflateRaw:ht,_inflateRaw:p0,consts:ee},t})();function xCe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Ao(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function J8(e){for(var t=[],n=Ao(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var H2=new Date(1899,11,30,0,0,0);function Mi(e,t){var n=e.getTime(),r=H2.getTime()+(e.getTimezoneOffset()-H2.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var Kq=new Date,yCe=H2.getTime()+(Kq.getTimezoneOffset()-H2.getTimezoneOffset())*6e4,qI=Kq.getTimezoneOffset();function iE(e){var t=new Date;return t.setTime(e*24*60*60*1e3+yCe),t.getTimezoneOffset()!==qI&&t.setTime(t.getTime()+(t.getTimezoneOffset()-qI)*6e4),t}function vCe(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(n=1,a>3&&(r=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[a],10)}return t}var XI=new Date("2017-02-19T19:06:09.000Z"),Jq=isNaN(XI.getFullYear())?new Date("2/19/17"):XI,_Ce=Jq.getFullYear()==2017;function wr(e,t){var n=new Date(e);if(_Ce)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(Jq.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Uf(e,t){if(Ft&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return _1(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return _1(Lq(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return _1(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return _1(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function Lr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Lr(e[n]));return t}function Dn(e,t){for(var n="";n.length<t;)n+=e;return n}function Fs(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return n=-n,a}),!isNaN(t=Number(r)))?t/n:t}var wCe=["january","february","march","april","may","june","july","august","september","october","november","december"];function sh(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return n;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&wCe.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var ECe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var a=n.split(r),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function Qq(e){return e?e.content&&e.type?Uf(e.content,!0):e.data?x1(e.data):e.asNodeBuffer&&Ft?x1(e.asNodeBuffer().toString("binary")):e.asBinary?x1(e.asBinary()):e._data&&e._data.getContent?x1(Uf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Zq(e){if(!e)return null;if(e.data)return LI(e.data);if(e.asNodeBuffer&&Ft)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?LI(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function kCe(e){return e&&e.name.slice(-4)===".bin"?Zq(e):Qq(e)}function $a(e,t){for(var n=e.FullPaths||Ao(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),a=0;a<n.length;++a){var s=n[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==s||i==s)return e.files?e.files[n[a]]:e.FileIndex[a]}return null}function Q8(e,t){var n=$a(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Yn(e,t,n){if(!n)return kCe(Q8(e,t));if(!t)return null;try{return Yn(e,t)}catch{return null}}function ha(e,t,n){if(!n)return Qq(Q8(e,t));if(!t)return null;try{return ha(e,t)}catch{return null}}function SCe(e,t,n){return Zq(Q8(e,t))}function KI(e){for(var t=e.FullPaths||Ao(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function bCe(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return Ft?r=l0(n):r=j3e(n),Rt.utils.cfb_add(e,t,r)}Rt.utils.cfb_add(e,t,n)}else e.file(t,n)}function eX(e,t){switch(t.type){case"base64":return Rt.read(e,{type:"base64"});case"binary":return Rt.read(e,{type:"binary"});case"buffer":case"array":return Rt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function v1(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var tX=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ACe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,JI=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,CCe=/<[^>]*>/g,fi=tX.match(JI)?JI:CCe,TCe=/<\w*:/,FCe=/<(\/?)\w+:/;function dt(e,t,n){for(var r={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var s=e.match(ACe),o=0,l="",u=0,c="",d="",p=1;if(s)for(u=0;u!=s.length;++u){for(d=s[u],a=0;a!=d.length&&d.charCodeAt(a)!==61;++a);for(c=d.slice(0,a).trim();d.charCodeAt(a+1)==32;)++a;for(p=(i=d.charCodeAt(a+1))==34||i==39?1:0,l=d.slice(a+1+p,d.length-p),o=0;o!=c.length&&c.charCodeAt(o)!==58;++o);if(o===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),r[c]=l,r[c.toLowerCase()]=l;else{var g=(o===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(o+1);if(r[g]&&c.slice(o-3,o)=="ext")continue;r[g]=l,r[g.toLowerCase()]=l}}return r}function zo(e){return e.replace(FCe,"<$1")}var nX={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},OCe=J8(nX),Pt=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(o,l){return nX[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return n(i.slice(0,a))+i.slice(a+9,s)+n(i.slice(s+3))}})(),DCe=/[&<>'"]/g,NCe=/[\u0000-\u001f]/g;function Z8(e){var t=e+"";return t.replace(DCe,function(n){return OCe[n]}).replace(/\n/g,"<br/>").replace(NCe,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var QI=(function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}})();function yn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Bb(e){for(var t="",n=0,r=0,i=0,a=0,s=0,o=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){s=(r&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function ZI(e){var t=Zu(2*e.length),n,r,i=1,a=0,s=0,o;for(r=0;r<e.length;r+=i)i=1,(o=e.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(e.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=n%256,t[a++]=n>>>8;return t.slice(0,a).toString("ucs2")}function e$(e){return l0(e,"binary").toString("utf8")}var Ay="foo bar baz",ln=Ft&&(e$(Ay)==Bb(Ay)&&e$||ZI(Ay)==Bb(Ay)&&ZI)||Bb,_1=Ft?function(e){return l0(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},kg=(function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),rX=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}})(),MCe=(function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),RCe=/<\/?(?:vt:)?variant>/g,ICe=/<(?:vt:)([^>]*)>([\s\S]*)</;function t$(e,t){var n=dt(e),r=e.match(MCe(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(a){var s=a.replace(RCe,"").match(ICe);s&&i.push({v:ln(s[2]),t:s[1]})}),i}var $Ce=/(^\s|\s$|\n)/;function LCe(e){return Ao(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function PCe(e,t,n){return"<"+e+(n!=null?LCe(n):"")+(t!=null?(t.match($Ce)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function e6(e){if(Ft&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ln(u0(q8(e)));throw new Error("Bad input format: expected Buffer or string")}var Sg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,BCe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},zCe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function UCe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function WCe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=r?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[n+o]=a&255;e[n+6]=(i&15)<<4|a&15,e[n+7]=i>>4|r}var n$=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,a=e[0][r].length;i<a;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},r$=Ft?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:l0(t)})):n$(e)}:n$,i$=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(dl(e,i)));return r.join("").replace(Fi,"")},t6=Ft?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Fi,""):i$(e,t,n)}:i$,a$=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},iX=Ft?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):a$(e,t,n)}:a$,s$=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(nd(e,i)));return r.join("")},Em=Ft?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):s$(t,n,r)}:s$,aX=function(e,t){var n=fa(e,t);return n>0?Em(e,t+4,t+4+n-1):""},sX=aX,oX=function(e,t){var n=fa(e,t);return n>0?Em(e,t+4,t+4+n-1):""},lX=oX,uX=function(e,t){var n=2*fa(e,t);return n>0?Em(e,t+4,t+4+n-1):""},cX=uX,fX=function(t,n){var r=fa(t,n);return r>0?t6(t,n+4,n+4+r):""},dX=fX,hX=function(e,t){var n=fa(e,t);return n>0?Em(e,t+4,t+4+n):""},pX=hX,gX=function(e,t){return UCe(e,t)},j2=gX,mX=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ft&&(sX=function(t,n){if(!Buffer.isBuffer(t))return aX(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},lX=function(t,n){if(!Buffer.isBuffer(t))return oX(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},cX=function(t,n){if(!Buffer.isBuffer(t))return uX(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},dX=function(t,n){if(!Buffer.isBuffer(t))return fX(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},pX=function(t,n){if(!Buffer.isBuffer(t))return hX(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},j2=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):gX(t,n)},mX=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var nd=function(e,t){return e[t]},dl=function(e,t){return e[t+1]*256+e[t]},HCe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},fa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Zc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},jCe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function I1(e,t){var n="",r,i,a=[],s,o,l,u;switch(t){case"dbcs":if(u=this.l,Ft&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(dl(this,u)),u+=2;e*=2;break;case"utf8":n=Em(this,this.l,this.l+e);break;case"utf16le":e*=2,n=t6(this,this.l,this.l+e);break;case"wstr":return I1.call(this,e,"dbcs");case"lpstr-ansi":n=sX(this,this.l),e=4+fa(this,this.l);break;case"lpstr-cp":n=lX(this,this.l),e=4+fa(this,this.l);break;case"lpwstr":n=cX(this,this.l),e=4+2*fa(this,this.l);break;case"lpp4":e=4+fa(this,this.l),n=dX(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+fa(this,this.l),n=pX(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(s=nd(this,this.l+e++))!==0;)a.push(by(s));n=a.join("");break;case"_wstr":for(e=0,n="";(s=dl(this,this.l+e))!==0;)a.push(by(s)),e+=2;e+=2,n=a.join("");break;case"dbcs-cont":for(n="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=nd(this,u),this.l=u+1,o=I1.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(by(dl(this,u))),u+=2}n=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=nd(this,u),this.l=u+1,o=I1.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(by(nd(this,u))),u+=1}n=a.join("");break;default:switch(e){case 1:return r=nd(this,this.l),this.l++,r;case 2:return r=(t==="i"?HCe:dl)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?Zc:jCe)(this,this.l),this.l+=4,r):(i=fa(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=j2(this,this.l):i=j2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=iX(this,this.l,e);break}}return this.l+=e,n}var GCe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},YCe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},VCe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function qCe(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)VCe(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,GCe(this,t,this.l);break;case 8:if(r=8,n==="f"){WCe(this,t,this.l);break}case 16:break;case-4:r=4,YCe(this,t,this.l);break}return this.l+=r,this}function xX(e,t){var n=iX(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Dr(e,t){e.l=t,e.read_shift=I1,e.chk=xX,e.write_shift=qCe}function ci(e,t){e.l+=t}function Zn(e){var t=Zu(e);return Dr(t,0),t}function Bl(e,t,n){if(e){var r,i,a;Dr(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=K2[o]||K2[65535];for(r=e.read_shift(1),a=r&127,i=1;i<4&&r&128;++i)a+=((r=e.read_shift(1))&127)<<7*i;l=e.l+a;var c=u.f&&u.f(e,a,n);if(e.l=l,t(c,u,o))return}}}function u3(){var e=[],t=Ft?256:2048,n=function(u){var c=Zn(u);return Dr(c,0),c},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},a=function(u){return r&&u<r.length-r.l?r:(i(),r=n(Math.max(u+1,t)))},s=function(){return i(),vu(e)},o=function(u){i(),r=u,r.l==null&&(r.l=r.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function $1(e,t,n){var r=Lr(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function o$(e,t,n){var r=Lr(e);return r.s=$1(r.s,t.s,n),r.e=$1(r.e,t.s,n),r}function L1(e,t){if(e.cRel&&e.c<0)for(e=Lr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Lr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=yt(e);return!e.cRel&&e.cRel!=null&&(n=JCe(n)),!e.rRel&&e.rRel!=null&&(n=XCe(n)),n}function zb(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ir(e.s.c)+":"+(e.e.cRel?"":"$")+ir(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Pr(e.s.r)+":"+(e.e.rRel?"":"$")+Pr(e.e.r):L1(e.s,t.biff)+":"+L1(e.e,t.biff)}function n6(e){return parseInt(KCe(e),10)-1}function Pr(e){return""+(e+1)}function XCe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function KCe(e){return e.replace(/\$(\d+)$/,"$1")}function r6(e){for(var t=QCe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function ir(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function JCe(e){return e.replace(/^([A-Z])/,"$$$1")}function QCe(e){return e.replace(/^\$([A-Z])/,"$1")}function ZCe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ai(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function yt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function $h(e){var t=e.indexOf(":");return t==-1?{s:Ai(e),e:Ai(e)}:{s:Ai(e.slice(0,t)),e:Ai(e.slice(t+1))}}function It(e,t){return typeof t>"u"||typeof t=="number"?It(e.s,e.e):(typeof e!="string"&&(e=yt(e)),typeof t!="string"&&(t=yt(t)),e==t?e:e+":"+t)}function Rn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=e.length;for(n=0;r<a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function l$(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Qa(e.z,n?Mi(t):t)}catch{}try{return e.w=Qa((e.XF||{}).numFmtId||(n?14:0),n?Mi(t):t)}catch{return""+t}}function Fl(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?d0[e.v]||e.v:t==null?l$(e,e.v):l$(e,t))}function mc(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function yX(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?Ai(r.origin):r.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=Rn(a["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),s==-1&&(u.e.r=s=c.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[d].length;++p)if(!(typeof t[d][p]>"u")){var g={v:t[d][p]},m=s+d,x=o+p;if(u.s.r>m&&(u.s.r=m),u.s.c>x&&(u.s.c=x),u.e.r<m&&(u.e.r=m),u.e.c<x&&(u.e.c=x),t[d][p]&&typeof t[d][p]=="object"&&!Array.isArray(t[d][p])&&!(t[d][p]instanceof Date))g=t[d][p];else if(Array.isArray(g.v)&&(g.f=t[d][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(r.nullError)g.t="e",g.v=0;else if(r.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=r.dateNF||_t[14],r.cellDates?(g.t="d",g.w=Qa(g.z,Mi(g.v))):(g.t="n",g.v=Mi(g.v),g.w=Qa(g.z,g.v))):g.t="s";if(i)a[m]||(a[m]=[]),a[m][x]&&a[m][x].z&&(g.z=a[m][x].z),a[m][x]=g;else{var v=yt({c:x,r:m});a[v]&&a[v].z&&(g.z=a[v].z),a[v]=g}}}return u.s.c<1e7&&(a["!ref"]=It(u)),a}function Lh(e,t){return yX(null,e,t)}function eTe(e){return e.read_shift(4,"i")}function oi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function tTe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function i6(e,t){var n=e.l,r=e.read_shift(1),i=oi(e),a=[],s={t:i,h:i};if((r&1)!==0){for(var o=e.read_shift(4),l=0;l!=o;++l)a.push(tTe(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=n+t,s}var nTe=i6;function ns(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function c0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var rTe=oi;function a6(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var iTe=oi,c3=a6;function s6(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?j2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Zc(t,0)>>2;return n?i/100:i}function vX(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var f0=vX;function Zr(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function aTe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var u=xf[i];u&&(t.rgb=Ag(u));break;case 2:t.rgb=Ag([s,o,l]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function sTe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function _X(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function oTe(e){return _X(e,1)}function lTe(e){return _X(e,2)}var o6=2,Hi=3,Cy=11,u$=12,G2=19,Ty=64,uTe=65,cTe=71,fTe=4108,dTe=4126,hr=80,wX=81,hTe=[hr,wX],pTe={1:{n:"CodePage",t:o6},2:{n:"Category",t:hr},3:{n:"PresentationFormat",t:hr},4:{n:"ByteCount",t:Hi},5:{n:"LineCount",t:Hi},6:{n:"ParagraphCount",t:Hi},7:{n:"SlideCount",t:Hi},8:{n:"NoteCount",t:Hi},9:{n:"HiddenCount",t:Hi},10:{n:"MultimediaClipCount",t:Hi},11:{n:"ScaleCrop",t:Cy},12:{n:"HeadingPairs",t:fTe},13:{n:"TitlesOfParts",t:dTe},14:{n:"Manager",t:hr},15:{n:"Company",t:hr},16:{n:"LinksUpToDate",t:Cy},17:{n:"CharacterCount",t:Hi},19:{n:"SharedDoc",t:Cy},22:{n:"HyperlinksChanged",t:Cy},23:{n:"AppVersion",t:Hi,p:"version"},24:{n:"DigSig",t:uTe},26:{n:"ContentType",t:hr},27:{n:"ContentStatus",t:hr},28:{n:"Language",t:hr},29:{n:"Version",t:hr},255:{},2147483648:{n:"Locale",t:G2},2147483651:{n:"Behavior",t:G2},1919054434:{}},gTe={1:{n:"CodePage",t:o6},2:{n:"Title",t:hr},3:{n:"Subject",t:hr},4:{n:"Author",t:hr},5:{n:"Keywords",t:hr},6:{n:"Comments",t:hr},7:{n:"Template",t:hr},8:{n:"LastAuthor",t:hr},9:{n:"RevNumber",t:hr},10:{n:"EditTime",t:Ty},11:{n:"LastPrinted",t:Ty},12:{n:"CreatedDate",t:Ty},13:{n:"ModifiedDate",t:Ty},14:{n:"PageCount",t:Hi},15:{n:"WordCount",t:Hi},16:{n:"CharCount",t:Hi},17:{n:"Thumbnail",t:cTe},18:{n:"Application",t:hr},19:{n:"DocSecurity",t:Hi},255:{},2147483648:{n:"Locale",t:G2},2147483651:{n:"Behavior",t:G2},1919054434:{}},c$={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},mTe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function xTe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var yTe=xTe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),xf=Lr(yTe),d0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},EX={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},f$={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function vTe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _Te(e){var t=vTe();if(!e||!e.match)return t;var n={};if((e.match(fi)||[]).forEach(function(r){var i=dt(r);switch(i[0].replace(TCe,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[f$[i.ContentType]]!==void 0&&t[f$[i.ContentType]].push(i.PartName);break}}),t.xmlns!==BCe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var cd={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function f3(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function P1(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(fi)||[]).forEach(function(i){var a=dt(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:v1(a.Target,t);n[o]=s,r[a.Id]=s}}),n["!id"]=r,n}var wTe="application/vnd.oasis.opendocument.spreadsheet";function ETe(e,t){for(var n=e6(e),r,i;r=Sg.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=dt(r[0],!1),i.path=="/"&&i.type!==wTe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var B1=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],kTe=(function(){for(var e=new Array(B1.length),t=0;t<B1.length;++t){var n=B1[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e})();function kX(e){var t={};e=ln(e);for(var n=0;n<B1.length;++n){var r=B1[n],i=e.match(kTe[n]);i!=null&&i.length>0&&(t[r[1]]=Pt(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=wr(t[r[1]]))}return t}var STe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function SX(e,t,n,r){var i=[];if(typeof e=="string")i=t$(e,r);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(c){return{v:c}}));var s=typeof t=="string"?t$(t,r).map(function(c){return c.v}):t,o=0,l=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=s.slice(o,o+l);break}o+=l}}function bTe(e,t,n){var r={};return t||(t={}),e=ln(e),STe.forEach(function(i){var a=(e.match(kg(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=Pt(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var s=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(r[i[1]]=s[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&SX(r.HeadingPairs,r.TitlesOfParts,t,n),t}var ATe=/<[^>]+>[^<]*/g;function CTe(e,t){var n={},r="",i=e.match(ATe);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=dt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Pt(o.name);break;case"</property>":r=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":n[r]=Pt(c);break;case"bool":n[r]=yn(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(c,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(c);break;case"filetime":case"date":n[r]=wr(c);break;case"cy":case"error":n[r]=Pt(c);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return n}var TTe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Ub;function FTe(e,t,n){Ub||(Ub=J8(TTe)),t=Ub[t]||t,e[t]=n}function l6(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function bX(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function AX(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function CX(e,t,n){return t===31?AX(e):bX(e,t,n)}function d3(e,t,n){return CX(e,t,n===!1?0:4)}function OTe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return CX(e,t,0)}function DTe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(Fi,""),e.l-i&2&&(e.l+=2)}return n}function NTe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(Fi,"");return n}function MTe(e){var t=e.l,n=Y2(e,wX);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=Y2(e,Hi);return[n,r]}function RTe(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(MTe(e));return n}function d$(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var a=e.read_shift(4),s=e.read_shift(4);r[a]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Fi,"").replace(y1,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function TX(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function ITe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Y2(e,t,n){var r=e.read_shift(2),i,a=n||{};if(e.l+=2,t!==u$&&r!==t&&hTe.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===u$?r:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return bX(e,r,4).replace(Fi,"");case 31:return AX(e);case 64:return l6(e);case 65:return TX(e);case 71:return ITe(e);case 80:return d3(e,r,!a.raw).replace(Fi,"");case 81:return OTe(e,r).replace(Fi,"");case 4108:return RTe(e);case 4126:case 4127:return r==4127?DTe(e):NTe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function h$(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),a=[],s=0,o=0,l=-1,u={};for(s=0;s!=i;++s){var c=e.read_shift(4),d=e.read_shift(4);a[s]=[c,d+n]}a.sort(function(E,k){return E[1]-k[1]});var p={};for(s=0;s!=i;++s){if(e.l!==a[s][1]){var g=!0;if(s>0&&t)switch(t[a[s-1][0]].t){case 2:e.l+2===a[s][1]&&(e.l+=2,g=!1);break;case 80:e.l<=a[s][1]&&(e.l=a[s][1],g=!1);break;case 4108:e.l<=a[s][1]&&(e.l=a[s][1],g=!1);break}if((!t||s==0)&&e.l<=a[s][1]&&(g=!1,e.l=a[s][1]),g)throw new Error("Read Error: Expected address "+a[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[a[s][0]];if(p[m.n]=Y2(e,m.t,{raw:!0}),m.p==="version"&&(p[m.n]=String(p[m.n]>>16)+"."+("0000"+String(p[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(p[m.n]){case 0:p[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bs(o=p[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[m.n])}}else if(a[s][0]===1){if(o=p.CodePage=Y2(e,o6),bs(o),l!==-1){var x=e.l;e.l=a[l][1],u=d$(e,o),e.l=x}}else if(a[s][0]===0){if(o===0){l=s,e.l=a[s+1][1];continue}u=d$(e,o)}else{var v=u[a[s][0]],_;switch(e[e.l]){case 65:e.l+=4,_=TX(e);break;case 30:e.l+=4,_=d3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=d3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=Pn(e,4);break;case 64:e.l+=4,_=wr(l6(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[v]=_}}return e.l=n+r,p}function p$(e,t,n){var r=e.content;if(!r)return{};Dr(r,0);var i,a,s,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),c=r.read_shift(16);if(c!==Rt.utils.consts.HEADER_CLSID&&c!==n)throw new Error("Bad PropertySet CLSID "+c);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(s=r.read_shift(16),l=r.read_shift(4));var d=h$(r,t),p={SystemIdentifier:u};for(var g in d)p[g]=d[g];if(p.FMTID=a,i===1)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var m;try{m=h$(r,null)}catch{}for(g in m)p[g]=m[g];return p.FMTID=[a,s],p}function uu(e,t){return e.read_shift(t),null}function $Te(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function Pn(e,t){return e.read_shift(t)===1}function Vn(e){return e.read_shift(2,"u")}function FX(e,t){return $Te(e,t,Vn)}function LTe(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function km(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var s=r?e.read_shift(r,i):"";return s}function PTe(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,a=1+(n&1),s=0,o,l={};i&&(s=e.read_shift(2)),r&&(o=e.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",c=t===0?"":e.read_shift(t,u);return i&&(e.l+=4*s),r&&(e.l+=o),l.t=c,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Wf(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function Sm(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):Wf(e,r,n)}function h0(e,t,n){if(n.biff>5)return Sm(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function BTe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function zTe(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Fi,"");return r&&(e.l+=24),i}function UTe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(a>>1,"utf16le").replace(Fi,"");return n+s}function WTe(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return zTe(e);case"0303000000000000c000000000000046":return UTe(e);default:throw new Error("Unsupported Moniker "+n)}}function Fy(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Fi,""):"";return n}function HTe(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var a,s,o,l,u="",c,d;i&16&&(a=Fy(e,n-e.l)),i&128&&(s=Fy(e,n-e.l)),(i&257)===257&&(o=Fy(e,n-e.l)),(i&257)===1&&(l=WTe(e,n-e.l)),i&8&&(u=Fy(e,n-e.l)),i&32&&(c=e.read_shift(16)),i&64&&(d=l6(e)),e.l=n;var p=s||o||l||"";p&&u&&(p+="#"+u),p||(p="#"+u),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var g={Target:p};return c&&(g.guid=c),d&&(g.time=d),a&&(g.Tooltip=a),g}function OX(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function DX(e,t){var n=OX(e);return n[3]=0,n}function Uo(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function jTe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function GTe(e,t,n){return t===0?"":h0(e,t,n)}function YTe(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),a=e.read_shift(r,"i"),s=e.read_shift(r,"i");return[i,a,s]}function NX(e){var t=e.read_shift(2),n=s6(e);return[t,n]}function VTe(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=km(e,t,n),a=e.read_shift(2);if(r-=e.l,a!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return e.l+=a,i}function aE(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function MX(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var qTe=MX;function RX(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function XTe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function KTe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Vr(e){e.l+=2,e.l+=e.read_shift(2)}var JTe={0:Vr,4:Vr,5:Vr,6:Vr,7:KTe,8:Vr,9:Vr,10:Vr,11:Vr,12:Vr,13:XTe,14:Vr,15:Vr,16:Vr,17:Vr,18:Vr,19:Vr,20:Vr,21:RX};function QTe(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(JTe[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function Oy(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function ZTe(e,t){return t===0||e.read_shift(2),1200}function e5e(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=h0(e,0,n);return e.read_shift(t+r-e.l),i}function t5e(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function n5e(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=km(e,0,n);return s.length===0&&(s="Sheet1"),{pos:r,hs:i,dt:a,name:s}}function r5e(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),a=[],s=0;s!=i&&e.l<n;++s)a.push(PTe(e));return a.Count=r,a.Unique=i,a}function i5e(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function a5e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function s5e(e){var t=jTe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function o5e(e){return e.read_shift(2),e.read_shift(4)}function g$(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var a={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[a,i]}function l5e(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:u}}function u5e(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function c5e(){}function f5e(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=km(e,0,n),r}function d5e(e){var t=Uo(e);return t.isst=e.read_shift(4),t}function h5e(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=Uo(e);n.biff==2&&e.l++;var a=Sm(e,r-e.l,n);return i.val=a,i}function p5e(e,t,n){var r=e.read_shift(2),i=h0(e,0,n);return[r,i]}var g5e=h0;function m$(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,a=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:a,c:o},e:{r:s,c:l}}}function m5e(e){var t=e.read_shift(2),n=e.read_shift(2),r=NX(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function x5e(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),a=[];e.l<n;)a.push(NX(e));if(e.l!==n)throw new Error("MulRK read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:s,rkrec:a}}function y5e(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),a=[];e.l<n;)a.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:s,ixfe:a}}function v5e(e,t,n,r){var i={},a=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return i.patternType=mTe[o>>26],r.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function _5e(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=v5e(e,t,r.fStyle,n),r}function w5e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function x$(e,t,n){var r=Uo(e);(n.biff==2||t==9)&&++e.l;var i=LTe(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function E5e(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Uo(e),i=Zr(e);return r.val=i,r}var y$=GTe;function k5e(e,t,n){var r=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(n.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=Wf(e,a),o=[];r>e.l;)o.push(Sm(e));return[a,i,s,o]}function v$(e,t,n){var r=e.read_shift(2),i,a={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=VTe(e,t-2,n)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var S5e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _$(e,t,n){var r=e.l+t,i=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var u=Wf(e,s,n);i&32&&(u=S5e[u.charCodeAt(0)]);var c=r-e.l;n&&n.biff==2&&--c;var d=r==e.l||o===0||!(c>0)?[]:aOe(e,c,n,o);return{chKey:a,Name:u,itab:l,rgce:d}}function IX(e,t,n){if(n.biff<8)return b5e(e,t,n);for(var r=[],i=e.l+t,a=e.read_shift(n.biff>8?4:2);a--!==0;)r.push(YTe(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function b5e(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=km(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function A5e(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),a=Wf(e,r,n),s=Wf(e,i,n);return[a,s]}function C5e(e,t,n){var r=MX(e);e.l++;var i=e.read_shift(1);return t-=8,[sOe(e,t,n),i,r]}function w$(e,t,n){var r=qTe(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,rOe(e,t,n)]}function T5e(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function F5e(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=h0(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},o,s,a]}}function O5e(e,t,n){return F5e(e,t,n)}function D5e(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(aE(e));return n}function N5e(e,t,n){if(n&&n.biff<8)return R5e(e,t,n);var r=RX(e),i=QTe(e,t-22,r[1]);return{cmo:r,ft:i}}var M5e={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function R5e(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((M5e[r]||ci)(e,t,n)),{cmo:[i,r,a],ft:s}}function I5e(e,t,n){var r=e.l,i="";try{e.l+=4;var a=(n.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:s=BTe(e,6,n);var o=e.read_shift(2);e.read_shift(2),Vn(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-r!=e.lens[u])throw new Error("TxO: bad continue record");var c=e[e.l],d=Wf(e,e.lens[u+1]-e.lens[u]-1);if(i+=d,i.length>=(c?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function $5e(e,t){var n=aE(e);e.l+=16;var r=HTe(e,t-24);return[n,r]}function L5e(e,t){e.read_shift(2);var n=aE(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Fi,""),[n,r]}function P5e(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=c$[n]||n,n=e.read_shift(2),t[1]=c$[n]||n,t}function B5e(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(DX(e));return n}function z5e(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(DX(e));return n}function U5e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function $X(e,t,n){if(!n.cellStyles)return ci(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),a=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function W5e(e,t){var n={};return t<32||(e.l+=16,n.header=Zr(e),n.footer=Zr(e),e.l+=2),n}function H5e(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}var j5e=Uo,G5e=FX,Y5e=Sm;function V5e(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function q5e(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Uo(e);++e.l;var i=h0(e,t-7,n);return r.t="str",r.val=i,r}function X5e(e){var t=Uo(e);++e.l;var n=Zr(e);return t.t="n",t.val=n,t}function K5e(e){var t=Uo(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function J5e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Q5e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Z5e(e,t,n){var r=e.l+t,i=Uo(e),a=e.read_shift(2),s=Wf(e,a,n);return e.l=r,i.t="str",i.val=s,i}var eFe=[2,3,48,49,131,139,140,245],E$=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=J8({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var u=[],c=Zu(1);switch(l.type){case"base64":c=_s(ba(o));break;case"binary":c=_s(o);break;case"buffer":case"array":c=o;break}Dr(c,0);var d=c.read_shift(1),p=!!(d&136),g=!1,m=!1;switch(d){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var x=0,v=521;d==2&&(x=c.read_shift(2)),c.l+=3,d!=2&&(x=c.read_shift(4)),x>1048576&&(x=1e6),d!=2&&(v=c.read_shift(2));var _=c.read_shift(2),E=l.codepage||1252;d!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(E=e[c[c.l]]),c.l+=1,c.l+=2),m&&(c.l+=36);for(var k=[],A={},T=Math.min(c.length,d==2?521:v-10-(g?264:0)),D=m?32:11;c.l<T&&c[c.l]!=13;)switch(A={},A.name=wg.utils.decode(E,c.slice(c.l,c.l+D)).replace(/[\u0000\r\n].*$/g,""),c.l+=D,A.type=String.fromCharCode(c.read_shift(1)),d!=2&&!m&&(A.offset=c.read_shift(4)),A.len=c.read_shift(1),d==2&&(A.offset=c.read_shift(2)),A.dec=c.read_shift(1),A.name.length&&k.push(A),d!=2&&(c.l+=m?13:14),A.type){case"B":(!g||A.len!=8)&&l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(c[c.l]!==13&&(c.l=v-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=v;var b=0,F=0;for(u[0]=[],F=0;F!=k.length;++F)u[0][F]=k[F].name;for(;x-- >0;){if(c[c.l]===42){c.l+=_;continue}for(++c.l,u[++b]=[],F=0,F=0;F!=k.length;++F){var C=c.slice(c.l,c.l+k[F].len);c.l+=k[F].len,Dr(C,0);var N=wg.utils.decode(E,C);switch(k[F].type){case"C":N.trim().length&&(u[b][F]=N.replace(/\s+$/,""));break;case"D":N.length===8?u[b][F]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):u[b][F]=N;break;case"F":u[b][F]=parseFloat(N.trim());break;case"+":case"I":u[b][F]=m?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":u[b][F]=!0;break;case"N":case"F":u[b][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[b][F]="##MEMO##"+(m?parseInt(N.trim(),10):C.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(u[b][F]=+N||0);break;case"@":u[b][F]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[b][F]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[b][F]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[b][F]=-C.read_shift(-8,"f");break;case"B":if(g&&k[F].len==8){u[b][F]=C.read_shift(8,"f");break}case"G":case"P":C.l+=k[F].len;break;case"0":if(k[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[F].type)}}}if(d!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=k,u}function r(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=Lh(n(o,u),u);return c["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,c}function i(o,l){try{return mc(r(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&bs(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=u3(),d=v3(o,{header:1,raw:!0,cellDates:!0}),p=d[0],g=d.slice(1),m=o["!cols"]||[],x=0,v=0,_=0,E=1;for(x=0;x<p.length;++x){if(((m[x]||{}).DBF||{}).name){p[x]=m[x].DBF.name,++_;continue}if(p[x]!=null){if(++_,typeof p[x]=="number"&&(p[x]=p[x].toString(10)),typeof p[x]!="string")throw new Error("DBF Invalid column name "+p[x]+" |"+typeof p[x]+"|");if(p.indexOf(p[x])!==x){for(v=0;v<1024;++v)if(p.indexOf(p[x]+"_"+v)==-1){p[x]+="_"+v;break}}}}var k=Rn(o["!ref"]),A=[],T=[],D=[];for(x=0;x<=k.e.c-k.s.c;++x){var b="",F="",C=0,N=[];for(v=0;v<g.length;++v)g[v][x]!=null&&N.push(g[v][x]);if(N.length==0||p[x]==null){A[x]="?";continue}for(v=0;v<N.length;++v){switch(typeof N[v]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=N[v]instanceof Date?"D":"C";break;default:F="C"}C=Math.max(C,String(N[v]).length),b=b&&b!=F?"C":F}C>250&&(C=250),F=((m[x]||{}).DBF||{}).type,F=="C"&&m[x].DBF.len>C&&(C=m[x].DBF.len),b=="B"&&F=="N"&&(b="N",D[x]=m[x].DBF.dec,C=m[x].DBF.len),T[x]=b=="C"||F=="N"?C:a[b]||0,E+=T[x],A[x]=b}var R=c.next(32);for(R.write_shift(4,318902576),R.write_shift(4,g.length),R.write_shift(2,296+32*_),R.write_shift(2,E),x=0;x<4;++x)R.write_shift(4,0);for(R.write_shift(4,0|(+t[Iq]||3)<<8),x=0,v=0;x<p.length;++x)if(p[x]!=null){var L=c.next(32),j=(p[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,j,"sbcs"),L.write_shift(1,A[x]=="?"?"C":A[x],"sbcs"),L.write_shift(4,v),L.write_shift(1,T[x]||a[A[x]]||0),L.write_shift(1,D[x]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),v+=T[x]||a[A[x]]||0}var q=c.next(264);for(q.write_shift(4,13),x=0;x<65;++x)q.write_shift(4,0);for(x=0;x<g.length;++x){var U=c.next(E);for(U.write_shift(1,0),v=0;v<p.length;++v)if(p[v]!=null)switch(A[v]){case"L":U.write_shift(1,g[x][v]==null?63:g[x][v]?84:70);break;case"B":U.write_shift(8,g[x][v]||0,"f");break;case"N":var K="0";for(typeof g[x][v]=="number"&&(K=g[x][v].toFixed(D[v]||0)),_=0;_<T[v]-K.length;++_)U.write_shift(1,32);U.write_shift(1,K,"sbcs");break;case"D":g[x][v]?(U.write_shift(4,("0000"+g[x][v].getFullYear()).slice(-4),"sbcs"),U.write_shift(2,("00"+(g[x][v].getMonth()+1)).slice(-2),"sbcs"),U.write_shift(2,("00"+g[x][v].getDate()).slice(-2),"sbcs")):U.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(g[x][v]!=null?g[x][v]:"").slice(0,T[v]);for(U.write_shift(1,ee,"sbcs"),_=0;_<T[v]-ee.length;++_)U.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}})(),tFe=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ao(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,g){var m=e[g];return typeof m=="number"?PI(m):m},r=function(p,g,m){var x=g.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return x==59?p:PI(x)};e["|"]=254;function i(p,g){switch(g.type){case"base64":return a(ba(p),g);case"binary":return a(p,g);case"buffer":return a(Ft&&Buffer.isBuffer(p)?p.toString("binary"):u0(p),g);case"array":return a(Uf(p),g)}throw new Error("Unrecognized type "+g.type)}function a(p,g){var m=p.split(/[\n\r]+/),x=-1,v=-1,_=0,E=0,k=[],A=[],T=null,D={},b=[],F=[],C=[],N=0,R;for(+g.codepage>=0&&bs(+g.codepage);_!==m.length;++_){N=0;var L=m[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),j=L.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),q=j[0],U;if(L.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&A.push(L.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,ee=!1,ne=!1,z=!1,ae=-1,W=-1;for(E=1;E<j.length;++E)switch(j[E].charAt(0)){case"A":break;case"X":v=parseInt(j[E].slice(1))-1,ee=!0;break;case"Y":for(x=parseInt(j[E].slice(1))-1,ee||(v=0),R=k.length;R<=x;++R)k[R]=[];break;case"K":U=j[E].slice(1),U.charAt(0)==='"'?U=U.slice(1,U.length-1):U==="TRUE"?U=!0:U==="FALSE"?U=!1:isNaN(Fs(U))?isNaN(sh(U).getDate())||(U=wr(U)):(U=Fs(U),T!==null&&Ih(T)&&(U=iE(U))),K=!0;break;case"E":z=!0;var M=Ed(j[E].slice(1),{r:x,c:v});k[x][v]=[k[x][v],M];break;case"S":ne=!0,k[x][v]=[k[x][v],"S5S"];break;case"G":break;case"R":ae=parseInt(j[E].slice(1))-1;break;case"C":W=parseInt(j[E].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+L)}if(K&&(k[x][v]&&k[x][v].length==2?k[x][v][0]=U:k[x][v]=U,T=null),ne){if(z)throw new Error("SYLK shared formula cannot have own formula");var Y=ae>-1&&k[ae][W];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");k[x][v][1]=YX(Y[1],{r:x-ae,c:v-W})}break;case"F":var Q=0;for(E=1;E<j.length;++E)switch(j[E].charAt(0)){case"X":v=parseInt(j[E].slice(1))-1,++Q;break;case"Y":for(x=parseInt(j[E].slice(1))-1,R=k.length;R<=x;++R)k[R]=[];break;case"M":N=parseInt(j[E].slice(1))/20;break;case"F":break;case"G":break;case"P":T=A[parseInt(j[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=j[E].slice(1).split(" "),R=parseInt(C[0],10);R<=parseInt(C[1],10);++R)N=parseInt(C[2],10),F[R-1]=N===0?{hidden:!0}:{wch:N},oh(F[R-1]);break;case"C":v=parseInt(j[E].slice(1))-1,F[v]||(F[v]={});break;case"R":x=parseInt(j[E].slice(1))-1,b[x]||(b[x]={}),N>0?(b[x].hpt=N,b[x].hpx=Cg(N)):N===0&&(b[x].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+L)}Q<1&&(T=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+L)}}return b.length>0&&(D["!rows"]=b),F.length>0&&(D["!cols"]=F),g&&g.sheetRows&&(k=k.slice(0,g.sheetRows)),[k,D]}function s(p,g){var m=i(p,g),x=m[0],v=m[1],_=Lh(x,g);return Ao(v).forEach(function(E){_[E]=v[E]}),_}function o(p,g){return mc(s(p,g),g)}function l(p,g,m,x){var v="C;Y"+(m+1)+";X"+(x+1)+";K";switch(p.t){case"n":v+=p.v||0,p.f&&!p.F&&(v+=";E"+U8e(p.f,{r:m,c:x}));break;case"b":v+=p.v?"TRUE":"FALSE";break;case"e":v+=p.w||p.v;break;case"d":v+='"'+(p.w||p.v)+'"';break;case"s":v+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(p,g){g.forEach(function(m,x){var v="F;W"+(x+1)+" "+(x+1)+" ";m.hidden?v+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=q2(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=X2(m.wpx)),typeof m.wch=="number"&&(v+=Math.round(m.wch))),v.charAt(v.length-1)!=" "&&p.push(v)})}function c(p,g){g.forEach(function(m,x){var v="F;";m.hidden?v+="M0;":m.hpt?v+="M"+20*m.hpt+";":m.hpx&&(v+="M"+20*HX(m.hpx)+";"),v.length>2&&p.push(v+"R"+(x+1))})}function d(p,g){var m=["ID;PWXL;N;E"],x=[],v=Rn(p["!ref"]),_,E=Array.isArray(p),k=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),p["!cols"]&&u(m,p["!cols"]),p["!rows"]&&c(m,p["!rows"]),m.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var A=v.s.r;A<=v.e.r;++A)for(var T=v.s.c;T<=v.e.c;++T){var D=yt({r:A,c:T});_=E?(p[A]||[])[T]:p[D],!(!_||_.v==null&&(!_.f||_.F))&&x.push(l(_,p,A,T))}return m.join(k)+k+x.join(k)+k+"E"+k}return{to_workbook:o,to_sheet:s,from_sheet:d}})(),nFe=(function(){function e(a,s){switch(s.type){case"base64":return t(ba(a),s);case"binary":return t(a,s);case"buffer":return t(Ft&&Buffer.isBuffer(a)?a.toString("binary"):u0(a),s);case"array":return t(Uf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),l=-1,u=-1,c=0,d=[];c!==o.length;++c){if(o[c].trim()==="BOT"){d[++l]=[],u=0;continue}if(!(l<0)){var p=o[c].trim().split(","),g=p[0],m=p[1];++c;for(var x=o[c]||"";(x.match(/["]/g)||[]).length&1&&c<o.length-1;)x+=`
`+o[++c];switch(x=x.trim(),+g){case-1:if(x==="BOT"){d[++l]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?d[l][u]=!0:x==="FALSE"?d[l][u]=!1:isNaN(Fs(m))?isNaN(sh(m).getDate())?d[l][u]=m:d[l][u]=wr(m):d[l][u]=Fs(m),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),d[l][u++]=x!==""?x:null;break}if(x==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function n(a,s){return Lh(e(a,s),s)}function r(a,s){return mc(n(a,s),s)}var i=(function(){var a=function(l,u,c,d,p){l.push(u),l.push(c+","+d),l.push('"'+p.replace(/"/g,'""')+'"')},s=function(l,u,c,d){l.push(u+","+c),l.push(u==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var u=[],c=Rn(l["!ref"]),d,p=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,c.e.r-c.s.r+1,""),a(u,"TUPLES",0,c.e.c-c.s.c+1,""),a(u,"DATA",0,0,"");for(var g=c.s.r;g<=c.e.r;++g){s(u,-1,0,"BOT");for(var m=c.s.c;m<=c.e.c;++m){var x=yt({r:g,c:m});if(d=p?(l[g]||[])[m]:l[x],!d){s(u,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?s(u,1,0,"="+d.f):s(u,1,0,""):s(u,0,v,"V");break;case"b":s(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Qa(d.z||_t[14],Mi(wr(d.v)))),s(u,0,d.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var _=`\r
`,E=u.join(_);return E}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),rFe=(function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(d,p){for(var g=d.split(`
`),m=-1,x=-1,v=0,_=[];v!==g.length;++v){var E=g[v].trim().split(":");if(E[0]==="cell"){var k=Ai(E[1]);if(_.length<=k.r)for(m=_.length;m<=k.r;++m)_[m]||(_[m]=[]);switch(m=k.r,x=k.c,E[2]){case"t":_[m][x]=e(E[3]);break;case"v":_[m][x]=+E[3];break;case"vtf":var A=E[E.length-1];case"vtc":switch(E[3]){case"nl":_[m][x]=!!+E[4];break;default:_[m][x]=+E[4];break}E[2]=="vtf"&&(_[m][x]=[_[m][x],A])}}}return p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),_}function r(d,p){return Lh(n(d,p),p)}function i(d,p){return mc(r(d,p),p)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var p=[],g=[],m,x="",v=$h(d["!ref"]),_=Array.isArray(d),E=v.s.r;E<=v.e.r;++E)for(var k=v.s.c;k<=v.e.c;++k)if(x=yt({r:E,c:k}),m=_?(d[E]||[])[k]:d[x],!(!m||m.v==null||m.t==="z")){switch(g=["cell",x,"t"],m.t){case"s":case"str":g.push(t(m.v));break;case"n":m.f?(g[2]="vtf",g[3]="n",g[4]=m.v,g[5]=t(m.f)):(g[2]="v",g[3]=m.v);break;case"b":g[2]="vt"+(m.f?"f":"c"),g[3]="nl",g[4]=m.v?"1":"0",g[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var A=Mi(wr(m.v));g[2]="vtc",g[3]="nd",g[4]=""+A,g[5]=m.w||Qa(m.z||_t[14],A);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function c(d){return[a,s,o,s,u(d),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:c}})(),bg=(function(){function e(c,d,p,g,m){m.raw?d[p][g]=c:c===""||(c==="TRUE"?d[p][g]=!0:c==="FALSE"?d[p][g]=!1:isNaN(Fs(c))?isNaN(sh(c).getDate())?d[p][g]=c:d[p][g]=wr(c):d[p][g]=Fs(c))}function t(c,d){var p=d||{},g=[];if(!c||c.length===0)return g;for(var m=c.split(/[\r\n]/),x=m.length-1;x>=0&&m[x].length===0;)--x;for(var v=10,_=0,E=0;E<=x;++E)_=m[E].indexOf(" "),_==-1?_=m[E].length:_++,v=Math.max(v,_);for(E=0;E<=x;++E){g[E]=[];var k=0;for(e(m[E].slice(0,v).trim(),g,E,k,p),k=1;k<=(m[E].length-v)/10+1;++k)e(m[E].slice(v+(k-1)*10,v+k*10).trim(),g,E,k,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(c){for(var d={},p=!1,g=0,m=0;g<c.length;++g)(m=c.charCodeAt(g))==34?p=!p:!p&&m in n&&(d[m]=(d[m]||0)+1);m=[];for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&m.push([d[g],g]);if(!m.length){d=r;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&m.push([d[g],g])}return m.sort(function(x,v){return x[0]-v[0]||r[x[1]]-r[v[1]]}),n[m.pop()[1]]||44}function a(c,d){var p=d||{},g="",m=p.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(g=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(g=c.charAt(4),c=c.slice(6)):g=i(c.slice(0,1024)):p&&p.FS?g=p.FS:g=i(c.slice(0,1024));var v=0,_=0,E=0,k=0,A=0,T=g.charCodeAt(0),D=!1,b=0,F=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var C=p.dateNF!=null?pCe(p.dateNF):null;function N(){var R=c.slice(k,A),L={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)L.t="z";else if(p.raw)L.t="s",L.v=R;else if(R.trim().length===0)L.t="s",L.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(L.t="s",L.v=R.slice(2,-1).replace(/""/g,'"')):H8e(R)?(L.t="n",L.f=R.slice(1)):(L.t="s",L.v=R);else if(R=="TRUE")L.t="b",L.v=!0;else if(R=="FALSE")L.t="b",L.v=!1;else if(!isNaN(E=Fs(R)))L.t="n",p.cellText!==!1&&(L.w=R),L.v=E;else if(!isNaN(sh(R).getDate())||C&&R.match(C)){L.z=p.dateNF||_t[14];var j=0;C&&R.match(C)&&(R=gCe(R,p.dateNF,R.match(C)||[]),j=1),p.cellDates?(L.t="d",L.v=wr(R,j)):(L.t="n",L.v=Mi(wr(R,j))),p.cellText!==!1&&(L.w=Qa(L.z,L.v instanceof Date?Mi(L.v):L.v)),p.cellNF||delete L.z}else L.t="s",L.v=R;if(L.t=="z"||(p.dense?(m[v]||(m[v]=[]),m[v][_]=L):m[yt({c:_,r:v})]=L),k=A+1,F=c.charCodeAt(k),x.e.c<_&&(x.e.c=_),x.e.r<v&&(x.e.r=v),b==T)++_;else if(_=0,++v,p.sheetRows&&p.sheetRows<=v)return!0}e:for(;A<c.length;++A)switch(b=c.charCodeAt(A)){case 34:F===34&&(D=!D);break;case T:case 10:case 13:if(!D&&N())break e;break}return A-k>0&&N(),m["!ref"]=It(x),m}function s(c,d){return!(d&&d.PRN)||d.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,d):Lh(t(c,d),d)}function o(c,d){var p="",g=d.type=="string"?[0,0,0,0]:m6(c,d);switch(d.type){case"base64":p=ba(c);break;case"binary":p=c;break;case"buffer":d.codepage==65001?p=c.toString("utf8"):d.codepage&&typeof wg<"u"||(p=Ft&&Buffer.isBuffer(c)?c.toString("binary"):u0(c));break;case"array":p=Uf(c);break;case"string":p=c;break;default:throw new Error("Unrecognized type "+d.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=ln(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=ln(p):d.type=="binary"&&typeof wg<"u",p.slice(0,19)=="socialcalc:version:"?rFe.to_sheet(d.type=="string"?p:ln(p),d):s(p,d)}function l(c,d){return mc(o(c,d),d)}function u(c){for(var d=[],p=Rn(c["!ref"]),g,m=Array.isArray(c),x=p.s.r;x<=p.e.r;++x){for(var v=[],_=p.s.c;_<=p.e.c;++_){var E=yt({r:x,c:_});if(g=m?(c[x]||[])[_]:c[E],!g||g.v==null){v.push("          ");continue}for(var k=(g.w||(Fl(g),g.w)||"").slice(0,10);k.length<10;)k+=" ";v.push(k+(_===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}})();function iFe(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=tFe.to_workbook(e,n);return n.WTF=r,i}catch(a){if(n.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return bg.to_workbook(e,t)}}var z1=(function(){function e(M,Y,Q){if(M){Dr(M,M.l||0);for(var V=Q.Enum||ae;M.l<M.length;){var le=M.read_shift(2),we=V[le]||V[65535],xe=M.read_shift(2),ie=M.l+xe,ue=we.f&&we.f(M,xe,Q);if(M.l=ie,Y(ue,we,le))return}}}function t(M,Y){switch(Y.type){case"base64":return n(_s(ba(M)),Y);case"binary":return n(_s(M),Y);case"buffer":case"array":return n(M,Y)}throw"Unsupported type "+Y.type}function n(M,Y){if(!M)return M;var Q=Y||{},V=Q.dense?[]:{},le="Sheet1",we="",xe=0,ie={},ue=[],Se=[],B={s:{r:0,c:0},e:{r:0,c:0}},Ze=Q.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)Q.Enum=ae,e(M,function(Ae,it,Et){switch(Et){case 0:Q.vers=Ae,Ae>=4096&&(Q.qpro=!0);break;case 6:B=Ae;break;case 204:Ae&&(we=Ae);break;case 222:we=Ae;break;case 15:case 51:Q.qpro||(Ae[1].v=Ae[1].v.slice(1));case 13:case 14:case 16:Et==14&&(Ae[2]&112)==112&&(Ae[2]&15)>1&&(Ae[2]&15)<15&&(Ae[1].z=Q.dateNF||_t[14],Q.cellDates&&(Ae[1].t="d",Ae[1].v=iE(Ae[1].v))),Q.qpro&&Ae[3]>xe&&(V["!ref"]=It(B),ie[le]=V,ue.push(le),V=Q.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},xe=Ae[3],le=we||"Sheet"+(xe+1),we="");var Ct=Q.dense?(V[Ae[0].r]||[])[Ae[0].c]:V[yt(Ae[0])];if(Ct){Ct.t=Ae[1].t,Ct.v=Ae[1].v,Ae[1].z!=null&&(Ct.z=Ae[1].z),Ae[1].f!=null&&(Ct.f=Ae[1].f);break}Q.dense?(V[Ae[0].r]||(V[Ae[0].r]=[]),V[Ae[0].r][Ae[0].c]=Ae[1]):V[yt(Ae[0])]=Ae[1];break}},Q);else if(M[2]==26||M[2]==14)Q.Enum=W,M[2]==14&&(Q.qpro=!0,M.l=0),e(M,function(Ae,it,Et){switch(Et){case 204:le=Ae;break;case 22:Ae[1].v=Ae[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ae[3]>xe&&(V["!ref"]=It(B),ie[le]=V,ue.push(le),V=Q.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},xe=Ae[3],le="Sheet"+(xe+1)),Ze>0&&Ae[0].r>=Ze)break;Q.dense?(V[Ae[0].r]||(V[Ae[0].r]=[]),V[Ae[0].r][Ae[0].c]=Ae[1]):V[yt(Ae[0])]=Ae[1],B.e.c<Ae[0].c&&(B.e.c=Ae[0].c),B.e.r<Ae[0].r&&(B.e.r=Ae[0].r);break;case 27:Ae[14e3]&&(Se[Ae[14e3][0]]=Ae[14e3][1]);break;case 1537:Se[Ae[0]]=Ae[1],Ae[0]==xe&&(le=Ae[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(V["!ref"]=It(B),ie[we||le]=V,ue.push(we||le),!Se.length)return{SheetNames:ue,Sheets:ie};for(var Pe={},je=[],Ie=0;Ie<Se.length;++Ie)ie[ue[Ie]]?(je.push(Se[Ie]||ue[Ie]),Pe[Se[Ie]]=ie[Se[Ie]]||ie[ue[Ie]]):(je.push(Se[Ie]),Pe[Se[Ie]]={"!ref":"A1"});return{SheetNames:je,Sheets:Pe}}function r(M,Y){var Q=Y||{};if(+Q.codepage>=0&&bs(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var V=u3(),le=Rn(M["!ref"]),we=Array.isArray(M),xe=[];fs(V,0,a(1030)),fs(V,6,l(le));for(var ie=Math.min(le.e.r,8191),ue=le.s.r;ue<=ie;++ue)for(var Se=Pr(ue),B=le.s.c;B<=le.e.c;++B){ue===le.s.r&&(xe[B]=ir(B));var Ze=xe[B]+Se,Pe=we?(M[ue]||[])[B]:M[Ze];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")(Pe.v|0)==Pe.v&&Pe.v>=-32768&&Pe.v<=32767?fs(V,13,g(ue,B,Pe.v)):fs(V,14,x(ue,B,Pe.v));else{var je=Fl(Pe);fs(V,15,d(ue,B,je.slice(0,239)))}}return fs(V,1),V.end()}function i(M,Y){var Q=Y||{};if(+Q.codepage>=0&&bs(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var V=u3();fs(V,0,s(M));for(var le=0,we=0;le<M.SheetNames.length;++le)(M.Sheets[M.SheetNames[le]]||{})["!ref"]&&fs(V,27,z(M.SheetNames[le],we++));var xe=0;for(le=0;le<M.SheetNames.length;++le){var ie=M.Sheets[M.SheetNames[le]];if(!(!ie||!ie["!ref"])){for(var ue=Rn(ie["!ref"]),Se=Array.isArray(ie),B=[],Ze=Math.min(ue.e.r,8191),Pe=ue.s.r;Pe<=Ze;++Pe)for(var je=Pr(Pe),Ie=ue.s.c;Ie<=ue.e.c;++Ie){Pe===ue.s.r&&(B[Ie]=ir(Ie));var Ae=B[Ie]+je,it=Se?(ie[Pe]||[])[Ie]:ie[Ae];if(!(!it||it.t=="z"))if(it.t=="n")fs(V,23,N(Pe,Ie,xe,it.v));else{var Et=Fl(it);fs(V,22,b(Pe,Ie,xe,Et.slice(0,239)))}}++xe}}return fs(V,1),V.end()}function a(M){var Y=Zn(2);return Y.write_shift(2,M),Y}function s(M){var Y=Zn(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var Q=0,V=0,le=0,we=0;we<M.SheetNames.length;++we){var xe=M.SheetNames[we],ie=M.Sheets[xe];if(!(!ie||!ie["!ref"])){++le;var ue=$h(ie["!ref"]);Q<ue.e.r&&(Q=ue.e.r),V<ue.e.c&&(V=ue.e.c)}}return Q>8191&&(Q=8191),Y.write_shift(2,Q),Y.write_shift(1,le),Y.write_shift(1,V),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function o(M,Y,Q){var V={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&Q.qpro?(V.s.c=M.read_shift(1),M.l++,V.s.r=M.read_shift(2),V.e.c=M.read_shift(1),M.l++,V.e.r=M.read_shift(2),V):(V.s.c=M.read_shift(2),V.s.r=M.read_shift(2),Y==12&&Q.qpro&&(M.l+=2),V.e.c=M.read_shift(2),V.e.r=M.read_shift(2),Y==12&&Q.qpro&&(M.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function l(M){var Y=Zn(8);return Y.write_shift(2,M.s.c),Y.write_shift(2,M.s.r),Y.write_shift(2,M.e.c),Y.write_shift(2,M.e.r),Y}function u(M,Y,Q){var V=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(V[0].c=M.read_shift(1),V[3]=M.read_shift(1),V[0].r=M.read_shift(2),M.l+=2):(V[2]=M.read_shift(1),V[0].c=M.read_shift(2),V[0].r=M.read_shift(2)),V}function c(M,Y,Q){var V=M.l+Y,le=u(M,Y,Q);if(le[1].t="s",Q.vers==20768){M.l++;var we=M.read_shift(1);return le[1].v=M.read_shift(we,"utf8"),le}return Q.qpro&&M.l++,le[1].v=M.read_shift(V-M.l,"cstr"),le}function d(M,Y,Q){var V=Zn(7+Q.length);V.write_shift(1,255),V.write_shift(2,Y),V.write_shift(2,M),V.write_shift(1,39);for(var le=0;le<V.length;++le){var we=Q.charCodeAt(le);V.write_shift(1,we>=128?95:we)}return V.write_shift(1,0),V}function p(M,Y,Q){var V=u(M,Y,Q);return V[1].v=M.read_shift(2,"i"),V}function g(M,Y,Q){var V=Zn(7);return V.write_shift(1,255),V.write_shift(2,Y),V.write_shift(2,M),V.write_shift(2,Q,"i"),V}function m(M,Y,Q){var V=u(M,Y,Q);return V[1].v=M.read_shift(8,"f"),V}function x(M,Y,Q){var V=Zn(13);return V.write_shift(1,255),V.write_shift(2,Y),V.write_shift(2,M),V.write_shift(8,Q,"f"),V}function v(M,Y,Q){var V=M.l+Y,le=u(M,Y,Q);if(le[1].v=M.read_shift(8,"f"),Q.qpro)M.l=V;else{var we=M.read_shift(2);A(M.slice(M.l,M.l+we),le),M.l+=we}return le}function _(M,Y,Q){var V=Y&32768;return Y&=-32769,Y=(V?M:0)+(Y>=8192?Y-16384:Y),(V?"":"$")+(Q?ir(Y):Pr(Y))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(M,Y){Dr(M,0);for(var Q=[],V=0,le="",we="",xe="",ie="";M.l<M.length;){var ue=M[M.l++];switch(ue){case 0:Q.push(M.read_shift(8,"f"));break;case 1:we=_(Y[0].c,M.read_shift(2),!0),le=_(Y[0].r,M.read_shift(2),!1),Q.push(we+le);break;case 2:{var Se=_(Y[0].c,M.read_shift(2),!0),B=_(Y[0].r,M.read_shift(2),!1);we=_(Y[0].c,M.read_shift(2),!0),le=_(Y[0].r,M.read_shift(2),!1),Q.push(Se+B+":"+we+le)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(M.read_shift(2));break;case 6:{for(var Ze="";ue=M[M.l++];)Ze+=String.fromCharCode(ue);Q.push('"'+Ze.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:ie=Q.pop(),xe=Q.pop(),Q.push(["AND","OR"][ue-20]+"("+xe+","+ie+")");break;default:if(ue<32&&k[ue])ie=Q.pop(),xe=Q.pop(),Q.push(xe+k[ue]+ie);else if(E[ue]){if(V=E[ue][1],V==69&&(V=M[M.l++]),V>Q.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+Q.join("|")+"|");return}var Pe=Q.slice(-V);Q.length-=V,Q.push(E[ue][0]+"("+Pe.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}Q.length==1?Y[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function T(M){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=M.read_shift(2),Y[3]=M[M.l++],Y[0].c=M[M.l++],Y}function D(M,Y){var Q=T(M);return Q[1].t="s",Q[1].v=M.read_shift(Y-4,"cstr"),Q}function b(M,Y,Q,V){var le=Zn(6+V.length);le.write_shift(2,M),le.write_shift(1,Q),le.write_shift(1,Y),le.write_shift(1,39);for(var we=0;we<V.length;++we){var xe=V.charCodeAt(we);le.write_shift(1,xe>=128?95:xe)}return le.write_shift(1,0),le}function F(M,Y){var Q=T(M);Q[1].v=M.read_shift(2);var V=Q[1].v>>1;if(Q[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return Q[1].v=V,Q}function C(M,Y){var Q=T(M),V=M.read_shift(4),le=M.read_shift(4),we=M.read_shift(2);if(we==65535)return V===0&&le===3221225472?(Q[1].t="e",Q[1].v=15):V===0&&le===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var xe=we&32768;return we=(we&32767)-16446,Q[1].v=(1-xe*2)*(le*Math.pow(2,we+32)+V*Math.pow(2,we)),Q}function N(M,Y,Q,V){var le=Zn(14);if(le.write_shift(2,M),le.write_shift(1,Q),le.write_shift(1,Y),V==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var we=0,xe=0,ie=0,ue=0;return V<0&&(we=1,V=-V),xe=Math.log2(V)|0,V/=Math.pow(2,xe-31),ue=V>>>0,(ue&2147483648)==0&&(V/=2,++xe,ue=V>>>0),V-=ue,ue|=2147483648,ue>>>=0,V*=Math.pow(2,32),ie=V>>>0,le.write_shift(4,ie),le.write_shift(4,ue),xe+=16383+(we?32768:0),le.write_shift(2,xe),le}function R(M,Y){var Q=C(M);return M.l+=Y-14,Q}function L(M,Y){var Q=T(M),V=M.read_shift(4);return Q[1].v=V>>6,Q}function j(M,Y){var Q=T(M),V=M.read_shift(8,"f");return Q[1].v=V,Q}function q(M,Y){var Q=j(M);return M.l+=Y-10,Q}function U(M,Y){return M[M.l+Y-1]==0?M.read_shift(Y,"cstr"):""}function K(M,Y){var Q=M[M.l++];Q>Y-1&&(Q=Y-1);for(var V="";V.length<Q;)V+=String.fromCharCode(M[M.l++]);return V}function ee(M,Y,Q){if(!(!Q.qpro||Y<21)){var V=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var le=M.read_shift(Y-21,"cstr");return[V,le]}}function ne(M,Y){for(var Q={},V=M.l+Y;M.l<V;){var le=M.read_shift(2);if(le==14e3){for(Q[le]=[0,""],Q[le][0]=M.read_shift(2);M[M.l];)Q[le][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return Q}function z(M,Y){var Q=Zn(5+M.length);Q.write_shift(2,14e3),Q.write_shift(2,Y);for(var V=0;V<M.length;++V){var le=M.charCodeAt(V);Q[Q.l++]=le>127?95:le}return Q[Q.l++]=0,Q}var ae={0:{n:"BOF",f:Vn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:U},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:U},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}})();function aFe(e){var t={},n=e.match(fi),r=0,i=!1;if(n)for(;r!=n.length;++r){var a=dt(n[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=Y8[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var sFe=(function(){var e=kg("t"),t=kg("rPr");function n(a){var s=a.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Pt(s[1])},l=a.match(t);return l&&(o.s=aFe(l[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),oFe=(function(){var t=/(\r\n|\n)/g;function n(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function r(i){var a=[[],i.v,[]];return i.v?(i.s&&n(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(r).join("")}})(),lFe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,uFe=/<(?:\w+:)?r>/,cFe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function u6(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Pt(ln(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=ln(e),n&&(r.h=Z8(r.t))):e.match(uFe)&&(r.r=ln(e),r.t=Pt(ln((e.replace(cFe,"").match(lFe)||[]).join("").replace(fi,""))),n&&(r.h=oFe(sFe(r.r)))),r):{t:""}}var fFe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,dFe=/<(?:\w+:)?(?:si|sstItem)>/g,hFe=/<\/(?:\w+:)?(?:si|sstItem)>/;function pFe(e,t){var n=[],r="";if(!e)return n;var i=e.match(fFe);if(i){r=i[2].replace(dFe,"").split(hFe);for(var a=0;a!=r.length;++a){var s=u6(r[a].trim(),t);s!=null&&(n[n.length]=s)}i=dt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function gFe(e){return[e.read_shift(4),e.read_shift(4)]}function mFe(e,t){var n=[],r=!1;return Bl(e,function(a,s,o){switch(o){case 159:n.Count=a[0],n.Unique=a[1];break;case 19:n.push(a);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(s.T,!r||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function LX(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function El(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function xFe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=El(e,4),t.U=El(e,4),t.W=El(e,4),t}function yFe(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=a,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function vFe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(yFe(e));return t}function _Fe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function wFe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=El(e,4),t.U=El(e,4),t.W=El(e,4),t}function EFe(e){var t=wFe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function PX(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function BX(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function kFe(e){var t=El(e);switch(t.Minor){case 2:return[t.Minor,SFe(e)];case 3:return[t.Minor,bFe()];case 4:return[t.Minor,AFe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function SFe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=PX(e,n),i=BX(e,e.length-e.l);return{t:"Std",h:r,v:i}}function bFe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function AFe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(fi,function(a){var s=dt(a);switch(zo(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){r[o]=s[o]});break;case"<dataIntegrity":r.encryptedHmacKey=s.encryptedHmacKey,r.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(s);break;default:throw s[0]}}),r}function CFe(e,t){var n={},r=n.EncryptionVersionInfo=El(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=PX(e,i),t-=i,n.EncryptionVerifier=BX(e,t),n}function TFe(e){var t={},n=t.EncryptionVersionInfo=El(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function FFe(e){var t=0,n,r=LX(e),i=r.length+1,a,s,o,l,u;for(n=Zu(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)s=n[a],o=(t&16384)===0?0:1,l=t<<1&32767,u=o|l,t=u^s;return t^52811}var zX=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(s){return(s/2|s*128)&255},i=function(s,o){return r(s^o)},a=function(s){for(var o=t[s.length-1],l=104,u=s.length-1;u>=0;--u)for(var c=s[u],d=0;d!=7;++d)c&64&&(o^=n[l]),c*=2,--l;return o};return function(s){for(var o=LX(s),l=a(o),u=o.length,c=Zu(16),d=0;d!=16;++d)c[d]=0;var p,g,m;for((u&1)===1&&(p=l>>8,c[u]=i(e[0],p),--u,p=l&255,g=o[o.length-1],c[u]=i(g,p));u>0;)--u,p=l>>8,c[u]=i(o[u],p),--u,p=l&255,c[u]=i(o[u],p);for(u=15,m=15-o.length;m>0;)p=l>>8,c[u]=i(e[m],p),--u,--m,p=l&255,c[u]=i(o[u],p),--u,--m;return c}})(),OFe=function(e,t,n,r,i){i||(i=t),r||(r=zX(e));var a,s;for(a=0;a!=t.length;++a)s=t[a],s^=r[n],s=(s>>5|s<<3)&255,i[a]=s,++n;return[i,n,r]},DFe=function(e){var t=0,n=zX(e);return function(r){var i=OFe("",r,t,n);return t=i[1],i[0]}};function NFe(e,t,n,r){var i={key:Vn(e),verificationBytes:Vn(e)};return n.password&&(i.verifier=FFe(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=DFe(n.password)),i}function MFe(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=TFe(e):r.Data=CFe(e,t),r}function RFe(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?MFe(e,t-2,r):NFe(e,n.biff>=8?t:t-2,n,r),r}var IFe=(function(){function e(i,a){switch(a.type){case"base64":return t(ba(i),a);case"binary":return t(i,a);case"buffer":return t(Ft&&Buffer.isBuffer(i)?i.toString("binary"):u0(i),a);case"array":return t(Uf(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,d){Array.isArray(o)&&(o[d]=[]);for(var p=/\\\w+\b/g,g=0,m,x=-1;m=p.exec(c);){switch(m[0]){case"\\cell":var v=c.slice(g,p.lastIndex-m[0].length);if(v[0]==" "&&(v=v.slice(1)),++x,v.length){var _={v,t:"s"};Array.isArray(o)?o[d][x]=_:o[yt({r:d,c:x})]=_}break}g=p.lastIndex}x>u.e.c&&(u.e.c=x)}),o["!ref"]=It(u),o}function n(i,a){return mc(e(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=Rn(i["!ref"]),o,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var c=s.s.c;c<=s.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),c=s.s.c;c<=s.e.c;++c){var d=yt({r:u,c});o=l?(i[u]||[])[c]:i[d],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Fl(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function $Fe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Ag(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function LFe(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),a=Math.min(t,n,r),s=i-a;if(s===0)return[0,0,t];var o=0,l=0,u=i+a;switch(l=s/(u>1?2-u:u),i){case t:o=((n-r)/s+6)%6;break;case n:o=(r-t)/s+2;break;case r:o=(t-n)/s+4;break}return[o/6,l,u/2]}function PFe(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),a=r-i/2,s=[a,a,a],o=6*t,l;if(n!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function V2(e,t){if(t===0)return e;var n=LFe($Fe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Ag(PFe(n))}var UX=6,BFe=15,zFe=1,Ei=UX;function q2(e){return Math.floor((e+Math.round(128/Ei)/256)*Ei)}function X2(e){return Math.floor((e-5)/Ei*100+.5)/100}function h3(e){return Math.round((e*Ei+5)/Ei*256)/256}function Wb(e){return h3(X2(q2(e)))}function c6(e){var t=Math.abs(e-Wb(e)),n=Ei;if(t>.005)for(Ei=zFe;Ei<BFe;++Ei)Math.abs(e-Wb(e))<=t&&(t=Math.abs(e-Wb(e)),n=Ei);Ei=n}function oh(e){e.width?(e.wpx=q2(e.width),e.wch=X2(e.wpx),e.MDW=Ei):e.wpx?(e.wch=X2(e.wpx),e.width=h3(e.wch),e.MDW=Ei):typeof e.wch=="number"&&(e.width=h3(e.wch),e.wpx=q2(e.width),e.MDW=Ei),e.customWidth&&delete e.customWidth}var UFe=96,WX=UFe;function HX(e){return e*96/WX}function Cg(e){return e*WX/96}var WFe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function HFe(e,t,n,r){t.Borders=[];var i={},a=!1;(e[0].match(fi)||[]).forEach(function(s){var o=dt(s);switch(zo(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=yn(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=yn(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function jFe(e,t,n,r){t.Fills=[];var i={},a=!1;(e[0].match(fi)||[]).forEach(function(s){var o=dt(s);switch(zo(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function GFe(e,t,n,r){t.Fonts=[];var i={},a=!1;(e[0].match(fi)||[]).forEach(function(s){var o=dt(s);switch(zo(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=ln(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?yn(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?yn(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?yn(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?yn(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?yn(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?yn(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?yn(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Y8[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=yn(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=xf[i.color.index];i.color.index==81&&(l=xf[1]),l||(l=xf[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=V2(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function YFe(e,t,n){t.NumberFmt=[];for(var r=Ao(_t),i=0;i<r.length;++i)t.NumberFmt[r[i]]=_t[r[i]];var a=e[0].match(fi);if(a)for(i=0;i<a.length;++i){var s=dt(a[i]);switch(zo(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Pt(ln(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}mf(o,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Dy=["numFmtId","fillId","fontId","borderId","xfId"],Ny=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function VFe(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(fi)||[]).forEach(function(a){var s=dt(a),o=0;switch(zo(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=s,delete r[0],o=0;o<Dy.length;++o)r[Dy[o]]&&(r[Dy[o]]=parseInt(r[Dy[o]],10));for(o=0;o<Ny.length;++o)r[Ny[o]]&&(r[Ny[o]]=yn(r[Ny[o]]));if(t.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=yn(s.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var qFe=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var c={};if(!o)return c;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(t))&&YFe(d,c,u),(d=o.match(i))&&GFe(d,c,l,u),(d=o.match(r))&&jFe(d,c,l,u),(d=o.match(a))&&HFe(d,c,l,u),(d=o.match(n))&&VFe(d,c,u),c}})();function XFe(e,t){var n=e.read_shift(2),r=oi(e);return[n,r]}function KFe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=sTe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=e.read_shift(2);switch(a===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(r.underline=s);var o=e.read_shift(1);o>0&&(r.family=o);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=aTe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=oi(e),r}var JFe=ci;function QFe(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}var ZFe=ci;function e8e(e,t,n){var r={};r.NumberFmt=[];for(var i in _t)r.NumberFmt[i]=_t[i];r.CellXf=[],r.Fonts=[];var a=[],s=!1;return Bl(e,function(l,u,c){switch(c){case 44:r.NumberFmt[l[0]]=l[1],mf(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=V2(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(c),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(c);else if(u.T<0)a.pop();else if(!s||n.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}var t8e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function n8e(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(fi)||[]).forEach(function(i){var a=dt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[t8e.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function r8e(){}function i8e(){}var a8e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,s8e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,o8e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function l8e(e,t,n){t.themeElements={};var r;[["clrScheme",a8e,n8e],["fontScheme",s8e,r8e],["fmtScheme",o8e,i8e]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var u8e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function jX(e,t){(!e||e.length===0)&&(e=c8e());var n,r={};if(!(n=e.match(u8e)))throw new Error("themeElements not found in theme");return l8e(n[0],r,t),r.raw=e,r}function c8e(e,t){var n=[tX];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function f8e(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var a=e.slice(e.l);e.l=r;var s;try{s=eX(a,{type:"array"})}catch{return}var o=ha(s,"theme/theme/theme1.xml",!0);if(o)return jX(o,n)}}function d8e(e){return e.read_shift(4)}function h8e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=p8e(e,4);break;case 2:t.xclrValue=OX(e);break;case 3:t.xclrValue=d8e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function p8e(e,t){return ci(e,t)}function g8e(e,t){return ci(e,t)}function m8e(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=h8e(e);break;case 6:r[1]=g8e(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function x8e(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(m8e(e,n-e.l));return{ixfe:r,ext:a}}function y8e(e,t){t.forEach(function(n){n[0]})}function v8e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:oi(e)}}function _8e(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function w8e(e){return e.l+=4,e.read_shift(4)!=0}function E8e(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},a=[],s=!1,o=2;return Bl(e,function(l,u,c){switch(c){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(d){o==1?r.Cell.push({type:r.Types[d[0]-1].name,index:d[1]}):o==0&&r.Value.push({type:r.Types[d[0]-1].name,index:d[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(c),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function k8e(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,a=2,s;return e.replace(fi,function(o){var l=dt(o);switch(zo(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<r.Types.length;++u)r.Types[u].name==l.name&&(s=r.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):a==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),r}function S8e(e){var t=[];if(!e)return t;var n=1;return(e.match(fi)||[]).forEach(function(r){var i=dt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function b8e(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=yt(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function A8e(e,t,n){var r=[];return Bl(e,function(a,s,o){switch(o){case 63:r.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function C8e(e,t,n,r){if(!e)return e;var i=r||{},a=!1;Bl(e,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function T8e(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function k$(e,t,n,r){var i=Array.isArray(e),a;t.forEach(function(s){var o=Ai(s.ref);if(i?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[s.ref],!a){a={t:"z"},i?e[o.r][o.c]=a:e[s.ref]=a;var l=Rn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=It(l);u!==e["!ref"]&&(e["!ref"]=u)}a.c||(a.c=[]);var c={a:s.author,t:s.t,r:s.r,T:n};s.h&&(c.h=s.h);for(var d=a.c.length-1;d>=0;--d){if(!n&&a.c[d].T)return;n&&!a.c[d].T&&a.c.splice(d,1)}if(n&&r){for(d=0;d<r.length;++d)if(c.a==r[d].id){c.a=r[d].name||c.a;break}}a.c.push(c)})}function F8e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=dt(o[0]),u={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=Ai(l.ref);if(!(t.sheetRows&&t.sheetRows<=c.r)){var d=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!d&&!!d[1]&&u6(d[1])||{r:"",t:"",h:""};u.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),u.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=p.h),r.push(u)}}}}),r}function O8e(e,t){var n=[],r=!1,i={},a=0;return e.replace(fi,function(o,l){var u=dt(o);switch(zo(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=e.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),n}function D8e(e,t){var n=[],r=!1;return e.replace(fi,function(a){var s=dt(a);switch(zo(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),n}function N8e(e){var t={};t.iauthor=e.read_shift(4);var n=f0(e);return t.rfx=n.s,t.ref=yt(n.s),e.l+=16,t}var M8e=oi;function R8e(e,t){var n=[],r=[],i={},a=!1;return Bl(e,function(o,l,u){switch(u){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}var I8e="application/vnd.ms-office.vbaProject";function $8e(e){var t=Rt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Rt.utils.cfb_add(t,i,e.FileIndex[r].content)}}),Rt.write(t)}function L8e(){return{"!type":"dialog"}}function P8e(){return{"!type":"dialog"}}function B8e(){return{"!type":"macro"}}function z8e(){return{"!type":"macro"}}var Ed=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return o?c+=t.c:--c,l?u+=t.r:--u,i+(o?"":"$")+ir(c)+(l?"":"$")+Pr(u)}return function(i,a){return t=a,i.replace(e,n)}})(),GX=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,U8e=(function(){return function(t,n){return t.replace(GX,function(r,i,a,s,o,l){var u=r6(s)-(a?0:n.c),c=n6(l)-(o?0:n.r),d=c==0?"":o?c+1:"["+c+"]",p=u==0?"":a?u+1:"["+u+"]";return i+"R"+d+"C"+p})}})();function YX(e,t){return e.replace(GX,function(n,r,i,a,s,o){return r+(i=="$"?i+a:ir(r6(a)+t.c))+(s=="$"?s+o:Pr(n6(o)+t.r))})}function W8e(e,t,n){var r=$h(t),i=r.s,a=Ai(n),s={r:a.r-i.r,c:a.c-i.c};return YX(e,s)}function H8e(e){return e.length!=1}function S$(e){return e.replace(/_xlfn\./g,"")}function Gn(e){e.l+=1}function ec(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function VX(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return qX(e);n.biff==12&&(r=4)}var i=e.read_shift(r),a=e.read_shift(r),s=ec(e),o=ec(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function qX(e){var t=ec(e),n=ec(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function j8e(e,t,n){if(n.biff<8)return qX(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),a=ec(e),s=ec(e);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function XX(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return G8e(e);var r=e.read_shift(n&&n.biff==12?4:2),i=ec(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function G8e(e){var t=ec(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function Y8e(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function V8e(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return q8e(e);var i=e.read_shift(r>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function q8e(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function X8e(e,t,n){var r=(e[e.l++]&96)>>5,i=VX(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function K8e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=VX(e,a,n);return[r,i,s]}function J8e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Q8e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[r,i]}function Z8e(e,t,n){var r=(e[e.l++]&96)>>5,i=j8e(e,t-1,n);return[r,i]}function e6e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function b$(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function t6e(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function n6e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function r6e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function i6e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function a6e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function KX(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function s6e(e){return e.read_shift(2),KX(e)}function o6e(e){return e.read_shift(2),KX(e)}function l6e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=XX(e,0,n);return[r,i]}function u6e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=V8e(e,0,n);return[r,i]}function c6e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var a=XX(e,0,n);return[r,i,a]}function f6e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[dOe[i],ZX[i],r]}function d6e(e,t,n){var r=e[e.l++],i=e.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:h6e(e);return[i,(a[0]===0?ZX:fOe)[a[1]]]}function h6e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function p6e(e,t,n){e.l+=n&&n.biff==2?3:4}function g6e(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function m6e(e){return e.l++,d0[e.read_shift(1)]}function x6e(e){return e.l++,e.read_shift(2)}function y6e(e){return e.l++,e.read_shift(1)!==0}function v6e(e){return e.l++,Zr(e)}function _6e(e,t,n){return e.l++,km(e,t-1,n)}function w6e(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Pn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=d0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Zr(e);break;case 2:n[1]=h0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function E6e(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?f0:aE)(e));return i}function k6e(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=w6e(e,n.biff);return s}function S6e(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,a]}function b6e(e,t,n){if(n.biff==5)return A6e(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[r,i,a]}function A6e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function C6e(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function T6e(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function F6e(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function O6e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[r,i]}var D6e=ci,N6e=ci,M6e=ci;function bm(e,t,n){return e.l+=2,[Y8e(e)]}function f6(e){return e.l+=6,[]}var R6e=bm,I6e=f6,$6e=f6,L6e=bm;function JX(e){return e.l+=2,[Vn(e),e.read_shift(2)&1]}var P6e=bm,B6e=JX,z6e=f6,U6e=bm,W6e=bm,H6e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function j6e(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=H6e[n>>2&31];return{ixti:t,coltype:n&3,rt:s,idx:r,c:i,C:a}}function G6e(e){return e.l+=2,[e.read_shift(4)]}function Y6e(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function V6e(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function q6e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function X6e(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function K6e(e){return e.l+=4,[0,0]}var A$={1:{n:"PtgExp",f:g6e},2:{n:"PtgTbl",f:M6e},3:{n:"PtgAdd",f:Gn},4:{n:"PtgSub",f:Gn},5:{n:"PtgMul",f:Gn},6:{n:"PtgDiv",f:Gn},7:{n:"PtgPower",f:Gn},8:{n:"PtgConcat",f:Gn},9:{n:"PtgLt",f:Gn},10:{n:"PtgLe",f:Gn},11:{n:"PtgEq",f:Gn},12:{n:"PtgGe",f:Gn},13:{n:"PtgGt",f:Gn},14:{n:"PtgNe",f:Gn},15:{n:"PtgIsect",f:Gn},16:{n:"PtgUnion",f:Gn},17:{n:"PtgRange",f:Gn},18:{n:"PtgUplus",f:Gn},19:{n:"PtgUminus",f:Gn},20:{n:"PtgPercent",f:Gn},21:{n:"PtgParen",f:Gn},22:{n:"PtgMissArg",f:Gn},23:{n:"PtgStr",f:_6e},26:{n:"PtgSheet",f:Y6e},27:{n:"PtgEndSheet",f:V6e},28:{n:"PtgErr",f:m6e},29:{n:"PtgBool",f:y6e},30:{n:"PtgInt",f:x6e},31:{n:"PtgNum",f:v6e},32:{n:"PtgArray",f:e6e},33:{n:"PtgFunc",f:f6e},34:{n:"PtgFuncVar",f:d6e},35:{n:"PtgName",f:S6e},36:{n:"PtgRef",f:l6e},37:{n:"PtgArea",f:X8e},38:{n:"PtgMemArea",f:C6e},39:{n:"PtgMemErr",f:D6e},40:{n:"PtgMemNoMem",f:N6e},41:{n:"PtgMemFunc",f:T6e},42:{n:"PtgRefErr",f:F6e},43:{n:"PtgAreaErr",f:J8e},44:{n:"PtgRefN",f:u6e},45:{n:"PtgAreaN",f:Z8e},46:{n:"PtgMemAreaN",f:q6e},47:{n:"PtgMemNoMemN",f:X6e},57:{n:"PtgNameX",f:b6e},58:{n:"PtgRef3d",f:c6e},59:{n:"PtgArea3d",f:K8e},60:{n:"PtgRefErr3d",f:O6e},61:{n:"PtgAreaErr3d",f:Q8e},255:{}},J6e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Q6e={1:{n:"PtgElfLel",f:JX},2:{n:"PtgElfRw",f:U6e},3:{n:"PtgElfCol",f:R6e},6:{n:"PtgElfRwV",f:W6e},7:{n:"PtgElfColV",f:L6e},10:{n:"PtgElfRadical",f:P6e},11:{n:"PtgElfRadicalS",f:z6e},13:{n:"PtgElfColS",f:I6e},15:{n:"PtgElfColSV",f:$6e},16:{n:"PtgElfRadicalLel",f:B6e},25:{n:"PtgList",f:j6e},29:{n:"PtgSxName",f:G6e},255:{}},Z6e={0:{n:"PtgAttrNoop",f:K6e},1:{n:"PtgAttrSemi",f:a6e},2:{n:"PtgAttrIf",f:r6e},4:{n:"PtgAttrChoose",f:t6e},8:{n:"PtgAttrGoto",f:n6e},16:{n:"PtgAttrSum",f:p6e},32:{n:"PtgAttrBaxcel",f:b$},33:{n:"PtgAttrBaxcel",f:b$},64:{n:"PtgAttrSpace",f:s6e},65:{n:"PtgAttrSpaceSemi",f:o6e},128:{n:"PtgAttrIfError",f:i6e},255:{}};function Am(e,t,n,r){if(r.biff<8)return ci(e,t);for(var i=e.l+t,a=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=k6e(e,0,r),a.push(n[s][1]);break;case"PtgMemArea":n[s][2]=E6e(e,n[s][1],r),a.push(n[s][2]);break;case"PtgExp":r&&r.biff==12&&(n[s][1][1]=e.read_shift(4),a.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return t=i-e.l,t!==0&&a.push(ci(e,t)),a}function Cm(e,t,n){for(var r=e.l+t,i,a,s=[];r!=e.l;)t=r-e.l,a=e[e.l],i=A$[a]||A$[J6e[a]],(a===24||a===25)&&(i=(a===24?Q6e:Z6e)[e[e.l+1]]),!i||!i.f?ci(e,t):s.push([i.n,i.f(e,t,n)]);return s}function eOe(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var tOe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function nOe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function QX(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function C$(e,t,n){var r=QX(e,t,n);return r=="#REF"?r:nOe(r,n)}function Jr(e,t,n,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,u,c,d=0,p=0,g,m="";if(!e[0]||!e[0][0])return"";for(var x=-1,v="",_=0,E=e[0].length;_<E;++_){var k=e[0][_];switch(k[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),x>=0){switch(e[0][x][1][0]){case 0:v=Dn(" ",e[0][x][1][1]);break;case 1:v=Dn("\r",e[0][x][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+v,x=-1}o.push(u+tOe[k[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=$1(k[1][1],s,i),o.push(L1(c,a));break;case"PtgRefN":c=n?$1(k[1][1],n,i):k[1][1],o.push(L1(c,a));break;case"PtgRef3d":d=k[1][1],c=$1(k[1][2],s,i),m=C$(r,d,i),o.push(m+"!"+L1(c,a));break;case"PtgFunc":case"PtgFuncVar":var A=k[1][0],T=k[1][1];A||(A=0),A&=127;var D=A==0?[]:o.slice(-A);o.length-=A,T==="User"&&(T=D.shift()),o.push(T+"("+D.join(",")+")");break;case"PtgBool":o.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(k[1]);break;case"PtgNum":o.push(String(k[1]));break;case"PtgStr":o.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(k[1]);break;case"PtgAreaN":g=o$(k[1][1],n?{s:n}:s,i),o.push(zb(g,i));break;case"PtgArea":g=o$(k[1][1],s,i),o.push(zb(g,i));break;case"PtgArea3d":d=k[1][1],g=k[1][2],m=C$(r,d,i),o.push(m+"!"+zb(g,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=k[1][2];var b=(r.names||[])[p-1]||(r[0]||[])[p],F=b?b.Name:"SH33TJSNAME"+String(p);F&&F.slice(0,6)=="_xlfn."&&!i.xlfn&&(F=F.slice(6)),o.push(F);break;case"PtgNameX":var C=k[1][1];p=k[1][2];var N;if(i.biff<=5)C<0&&(C=-C),r[C]&&(N=r[C][p]);else{var R="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][p]&&r[C][p].itab>0&&(R=r.SheetNames[r[C][p].itab-1]+"!"):R=r.SheetNames[p-1]+"!"),r[C]&&r[C][p])R+=r[C][p].Name;else if(r[0]&&r[0][p])R+=r[0][p].Name;else{var L=(QX(r,C,i)||"").split(";;");L[p-1]?R=L[p-1]:R+="SH33TJSERRX"}o.push(R);break}N||(N={Name:"SH33TJSERRY"}),o.push(N.Name);break;case"PtgParen":var j="(",q=")";if(x>=0){switch(v="",e[0][x][1][0]){case 2:j=Dn(" ",e[0][x][1][1])+j;break;case 3:j=Dn("\r",e[0][x][1][1])+j;break;case 4:q=Dn(" ",e[0][x][1][1])+q;break;case 5:q=Dn("\r",e[0][x][1][1])+q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}o.push(j+o.pop()+q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:k[1][1],r:k[1][0]};var U={c:n.c,r:n.r};if(r.sharedf[yt(c)]){var K=r.sharedf[yt(c)];o.push(Jr(K,s,U,r,i))}else{var ee=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(Jr(u[1],s,U,r,i)),ee=!0;break}ee||o.push(k[1])}break;case"PtgArray":o.push("{"+eOe(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&x>=0&&ne.indexOf(e[0][_][0])==-1){k=e[0][x];var z=!0;switch(k[1][0]){case 4:z=!1;case 0:v=Dn(" ",k[1][1]);break;case 5:z=!1;case 1:v=Dn("\r",k[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}o.push((z?v:"")+o.pop()+(z?"":v)),x=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function rOe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],ci(e,t-2)];var o=Cm(e,s,n);return t!==s+i&&(a=Am(e,t-s-i,o,n)),e.l=r,[o,a]}function iOe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],ci(e,t-2)];var o=Cm(e,s,n);return t!==s+i&&(a=Am(e,t-s-i,o,n)),e.l=r,[o,a]}function aOe(e,t,n,r){var i=e.l+t,a=Cm(e,r,n),s;return i!==e.l&&(s=Am(e,i-e.l,a,n)),[a,s]}function sOe(e,t,n){var r=e.l+t,i,a=e.read_shift(2),s=Cm(e,a,n);return a==65535?[[],ci(e,t-2)]:(t!==a+2&&(i=Am(e,r-a-2,s,n)),[s,i])}function oOe(e){var t;if(dl(e,e.l+6)!==65535)return[Zr(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Hb(e,t,n){var r=e.l+t,i=Uo(e);n.biff==2&&++e.l;var a=oOe(e),s=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=iOe(e,r-e.l,n);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function sE(e,t,n){var r=e.read_shift(4),i=Cm(e,r,n),a=e.read_shift(4),s=a>0?Am(e,a,i,n):null;return[i,s]}var lOe=sE,oE=sE,uOe=sE,cOe=sE,fOe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ZX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},dOe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function T$(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function jb(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var U1={},kd={};function W1(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function eK(e,t,n,r,i,a){try{r.cellNF&&(e.z=_t[t])}catch(o){if(r.WTF)throw o}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=wr(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(_t[t]==null&&mf(hCe[t]||"General",t),e.t==="e")e.w=e.w||d0[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Eg(e.v);else if(e.t==="d"){var s=Mi(e.v);(s|0)===s?e.w=s.toString(10):e.w=Eg(s)}else{if(e.v===void 0)return"";e.w=zf(e.v,kd)}else e.t==="d"?e.w=Qa(t,Mi(e.v),kd):e.w=Qa(t,e.v,kd)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{e.s=a.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=V2(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=V2(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&a.Fills)throw o}}}function hOe(e,t){var n=Rn(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=It(n))}var pOe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,gOe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,mOe=/<(?:\w:)?hyperlink [^>]*>/mg,xOe=/"(\w*:\w*)"/,yOe=/<(?:\w:)?col\b[^>]*[\/]?>/g,vOe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,_Oe=/<(?:\w:)?pageMargins[^>]*\/>/g,tK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,wOe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,EOe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function kOe(e,t,n,r,i,a,s){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",d=e.match(gOe);d?(u=e.slice(0,d.index),c=e.slice(d.index+d[0].length)):u=c=e;var p=u.match(tK);p?d6(p[0],o,i,n):(p=u.match(wOe))&&SOe(p[0],p[1]||"",o,i,n);var g=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var m=u.slice(g,g+50).match(xOe);m&&hOe(o,m[1])}var x=u.match(EOe);x&&x[1]&&OOe(x[1],i);var v=[];if(t.cellStyles){var _=u.match(yOe);_&&COe(v,_)}d&&DOe(d[1],o,t,l,a,s);var E=c.match(vOe);E&&(o["!autofilter"]=TOe(E[0]));var k=[],A=c.match(pOe);if(A)for(g=0;g!=A.length;++g)k[g]=Rn(A[g].slice(A[g].indexOf('"')+1));var T=c.match(mOe);T&&bOe(o,T,r);var D=c.match(_Oe);if(D&&(o["!margins"]=AOe(dt(D[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=It(l)),t.sheetRows>0&&o["!ref"]){var b=Rn(o["!ref"]);t.sheetRows<=+b.e.r&&(b.e.r=t.sheetRows-1,b.e.r>l.e.r&&(b.e.r=l.e.r),b.e.r<b.s.r&&(b.s.r=b.e.r),b.e.c>l.e.c&&(b.e.c=l.e.c),b.e.c<b.s.c&&(b.s.c=b.e.c),o["!fullref"]=o["!ref"],o["!ref"]=It(b))}return v.length>0&&(o["!cols"]=v),k.length>0&&(o["!merges"]=k),o}function d6(e,t,n,r){var i=dt(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Pt(ln(i.codeName)))}function SOe(e,t,n,r,i){d6(e.slice(0,e.indexOf(">")),n,r,i)}function bOe(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var a=dt(ln(t[i]),!0);if(!a.ref)return;var s=((n||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Pt(a.location))):(a.Target="#"+Pt(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Rn(a.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var c=yt({c:u,r:l});r?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=a):(e[c]||(e[c]={t:"z",v:void 0}),e[c].l=a)}}}function AOe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function COe(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=dt(t[r],!0);i.hidden&&(i.hidden=yn(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,c6(i.width)),oh(i);a<=s;)e[a++]=Lr(i)}}function TOe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var FOe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function OOe(e,t){t.Views||(t.Views=[{}]),(e.match(FOe)||[]).forEach(function(n,r){var i=dt(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),yn(i.rightToLeft)&&(t.Views[r].RTL=!0)})}var DOe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=kg("v"),s=kg("f");return function(l,u,c,d,p,g){for(var m=0,x="",v=[],_=[],E=0,k=0,A=0,T="",D,b,F=0,C=0,N,R,L=0,j=0,q=Array.isArray(g.CellXf),U,K=[],ee=[],ne=Array.isArray(u),z=[],ae={},W=!1,M=!!c.sheetStubs,Y=l.split(t),Q=0,V=Y.length;Q!=V;++Q){x=Y[Q].trim();var le=x.length;if(le!==0){var we=0;e:for(m=0;m<le;++m)switch(x[m]){case">":if(x[m-1]!="/"){++m;break e}if(c&&c.cellStyles){if(b=dt(x.slice(we,m),!0),F=b.r!=null?parseInt(b.r,10):F+1,C=-1,c.sheetRows&&c.sheetRows<F)continue;ae={},W=!1,b.ht&&(W=!0,ae.hpt=parseFloat(b.ht),ae.hpx=Cg(ae.hpt)),b.hidden=="1"&&(W=!0,ae.hidden=!0),b.outlineLevel!=null&&(W=!0,ae.level=+b.outlineLevel),W&&(z[F-1]=ae)}break;case"<":we=m;break}if(we>=m)break;if(b=dt(x.slice(we,m),!0),F=b.r!=null?parseInt(b.r,10):F+1,C=-1,!(c.sheetRows&&c.sheetRows<F)){d.s.r>F-1&&(d.s.r=F-1),d.e.r<F-1&&(d.e.r=F-1),c&&c.cellStyles&&(ae={},W=!1,b.ht&&(W=!0,ae.hpt=parseFloat(b.ht),ae.hpx=Cg(ae.hpt)),b.hidden=="1"&&(W=!0,ae.hidden=!0),b.outlineLevel!=null&&(W=!0,ae.level=+b.outlineLevel),W&&(z[F-1]=ae)),v=x.slice(m).split(e);for(var xe=0;xe!=v.length&&v[xe].trim().charAt(0)=="<";++xe);for(v=v.slice(xe),m=0;m!=v.length;++m)if(x=v[m].trim(),x.length!==0){if(_=x.match(n),E=m,k=0,A=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,_!=null&&_.length===2){for(E=0,T=_[1],k=0;k!=T.length&&!((A=T.charCodeAt(k)-64)<1||A>26);++k)E=26*E+A;--E,C=E}else++C;for(k=0;k!=x.length&&x.charCodeAt(k)!==62;++k);if(++k,b=dt(x.slice(0,k),!0),b.r||(b.r=yt({r:F-1,c:C})),T=x.slice(k),D={t:""},(_=T.match(a))!=null&&_[1]!==""&&(D.v=Pt(_[1])),c.cellFormula){if((_=T.match(s))!=null&&_[1]!==""){if(D.f=Pt(ln(_[1])).replace(/\r\n/g,`
`),c.xlfn||(D.f=S$(D.f)),_[0].indexOf('t="array"')>-1)D.F=(T.match(i)||[])[1],D.F.indexOf(":")>-1&&K.push([Rn(D.F),D.F]);else if(_[0].indexOf('t="shared"')>-1){R=dt(_[0]);var ie=Pt(ln(_[1]));c.xlfn||(ie=S$(ie)),ee[parseInt(R.si,10)]=[R,ie,b.r]}}else(_=T.match(/<f[^>]*\/>/))&&(R=dt(_[0]),ee[R.si]&&(D.f=W8e(ee[R.si][1],ee[R.si][2],b.r)));var ue=Ai(b.r);for(k=0;k<K.length;++k)ue.r>=K[k][0].s.r&&ue.r<=K[k][0].e.r&&ue.c>=K[k][0].s.c&&ue.c<=K[k][0].e.c&&(D.F=K[k][1])}if(b.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(M)D.t="z";else continue;else D.t=b.t||"n";switch(d.s.c>C&&(d.s.c=C),d.e.c<C&&(d.e.c=C),D.t){case"n":if(D.v==""||D.v==null){if(!M)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!M)continue;D.t="z"}else N=U1[parseInt(D.v,10)],D.v=N.t,D.r=N.r,c.cellHTML&&(D.h=N.h);break;case"str":D.t="s",D.v=D.v!=null?ln(D.v):"",c.cellHTML&&(D.h=Z8(D.v));break;case"inlineStr":_=T.match(r),D.t="s",_!=null&&(N=u6(_[1]))?(D.v=N.t,c.cellHTML&&(D.h=N.h)):D.v="";break;case"b":D.v=yn(D.v);break;case"d":c.cellDates?D.v=wr(D.v,1):(D.v=Mi(wr(D.v,1)),D.t="n");break;case"e":(!c||c.cellText!==!1)&&(D.w=D.v),D.v=EX[D.v];break}if(L=j=0,U=null,q&&b.s!==void 0&&(U=g.CellXf[b.s],U!=null&&(U.numFmtId!=null&&(L=U.numFmtId),c.cellStyles&&U.fillId!=null&&(j=U.fillId))),eK(D,L,j,c,p,g),c.cellDates&&q&&D.t=="n"&&Ih(_t[L])&&(D.t="d",D.v=iE(D.v)),b.cm&&c.xlmeta){var Se=(c.xlmeta.Cell||[])[+b.cm-1];Se&&Se.type=="XLDAPR"&&(D.D=!0)}if(ne){var B=Ai(b.r);u[B.r]||(u[B.r]=[]),u[B.r][B.c]=D}else u[b.r]=D}}}}z.length>0&&(u["!rows"]=z)}})();function NOe(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}var MOe=f0;function ROe(){}function IOe(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=rTe(e),n}function $Oe(e){var t=ns(e);return[t]}function LOe(e){var t=c0(e);return[t]}function POe(e){var t=ns(e),n=e.read_shift(1);return[t,n,"b"]}function BOe(e){var t=c0(e),n=e.read_shift(1);return[t,n,"b"]}function zOe(e){var t=ns(e),n=e.read_shift(1);return[t,n,"e"]}function UOe(e){var t=c0(e),n=e.read_shift(1);return[t,n,"e"]}function WOe(e){var t=ns(e),n=e.read_shift(4);return[t,n,"s"]}function HOe(e){var t=c0(e),n=e.read_shift(4);return[t,n,"s"]}function jOe(e){var t=ns(e),n=Zr(e);return[t,n,"n"]}function nK(e){var t=c0(e),n=Zr(e);return[t,n,"n"]}function GOe(e){var t=ns(e),n=s6(e);return[t,n,"n"]}function YOe(e){var t=c0(e),n=s6(e);return[t,n,"n"]}function VOe(e){var t=ns(e),n=i6(e);return[t,n,"is"]}function qOe(e){var t=ns(e),n=oi(e);return[t,n,"str"]}function XOe(e){var t=c0(e),n=oi(e);return[t,n,"str"]}function KOe(e,t,n){var r=e.l+t,i=ns(e);i.r=n["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(n.cellFormula){e.l+=2;var o=oE(e,r-e.l,n);s[3]=Jr(o,null,i,n.supbooks,n)}else e.l=r;return s}function JOe(e,t,n){var r=e.l+t,i=ns(e);i.r=n["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(n.cellFormula){e.l+=2;var o=oE(e,r-e.l,n);s[3]=Jr(o,null,i,n.supbooks,n)}else e.l=r;return s}function QOe(e,t,n){var r=e.l+t,i=ns(e);i.r=n["!row"];var a=Zr(e),s=[i,a,"n"];if(n.cellFormula){e.l+=2;var o=oE(e,r-e.l,n);s[3]=Jr(o,null,i,n.supbooks,n)}else e.l=r;return s}function ZOe(e,t,n){var r=e.l+t,i=ns(e);i.r=n["!row"];var a=oi(e),s=[i,a,"str"];if(n.cellFormula){e.l+=2;var o=oE(e,r-e.l,n);s[3]=Jr(o,null,i,n.supbooks,n)}else e.l=r;return s}var eDe=f0;function tDe(e,t){var n=e.l+t,r=f0(e),i=a6(e),a=oi(e),s=oi(e),o=oi(e);e.l=n;var l={rfx:r,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function nDe(){}function rDe(e,t,n){var r=e.l+t,i=vX(e),a=e.read_shift(1),s=[i];if(s[2]=a,n.cellFormula){var o=lOe(e,r-e.l,n);s[1]=o}else e.l=r;return s}function iDe(e,t,n){var r=e.l+t,i=f0(e),a=[i];if(n.cellFormula){var s=cOe(e,r-e.l,n);a[1]=s,e.l=r}else e.l=r;return a}var aDe=["left","right","top","bottom","header","footer"];function sDe(e){var t={};return aDe.forEach(function(n){t[n]=Zr(e)}),t}function oDe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function lDe(){}function uDe(){}function cDe(e,t,n,r,i,a,s){if(!e)return e;var o=t||{};r||(r={"!id":{}});var l=o.dense?[]:{},u,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,p=!1,g,m,x,v,_,E,k,A,T,D=[];o.biff=12,o["!row"]=0;var b=0,F=!1,C=[],N={},R=o.supbooks||i.supbooks||[[]];if(R.sharedf=N,R.arrayf=C,R.SheetNames=i.SheetNames||i.Sheets.map(function(ne){return ne.name}),!o.supbooks&&(o.supbooks=R,i.Names))for(var L=0;L<i.Names.length;++L)R[0][L+1]=i.Names[L];var j=[],q=[],U=!1;K2[16]={n:"BrtShortReal",f:nK};var K;if(Bl(e,function(z,ae,W){if(!p)switch(W){case 148:u=z;break;case 0:g=z,o.sheetRows&&o.sheetRows<=g.r&&(p=!0),A=Pr(v=g.r),o["!row"]=g.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=Cg(z.hpt)),q[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:z[2]},z[2]){case"n":m.v=z[1];break;case"s":k=U1[z[1]],m.v=k.t,m.r=k.r;break;case"b":m.v=!!z[1];break;case"e":m.v=z[1],o.cellText!==!1&&(m.w=d0[m.v]);break;case"str":m.t="s",m.v=z[1];break;case"is":m.t="s",m.v=z[1].t;break}if((x=s.CellXf[z[0].iStyleRef])&&eK(m,x.numFmtId,null,o,a,s),_=z[0].c==-1?_+1:z[0].c,o.dense?(l[v]||(l[v]=[]),l[v][_]=m):l[ir(_)+A]=m,o.cellFormula){for(F=!1,b=0;b<C.length;++b){var M=C[b];g.r>=M[0].s.r&&g.r<=M[0].e.r&&_>=M[0].s.c&&_<=M[0].e.c&&(m.F=It(M[0]),F=!0)}!F&&z.length>3&&(m.f=z[3])}if(c.s.r>g.r&&(c.s.r=g.r),c.s.c>_&&(c.s.c=_),c.e.r<g.r&&(c.e.r=g.r),c.e.c<_&&(c.e.c=_),o.cellDates&&x&&m.t=="n"&&Ih(_t[x.numFmtId])){var Y=af(m.v);Y&&(m.t="d",m.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}K&&(K.type=="XLDAPR"&&(m.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;m={t:"z",v:void 0},_=z[0].c==-1?_+1:z[0].c,o.dense?(l[v]||(l[v]=[]),l[v][_]=m):l[ir(_)+A]=m,c.s.r>g.r&&(c.s.r=g.r),c.s.c>_&&(c.s.c=_),c.e.r<g.r&&(c.e.r=g.r),c.e.c<_&&(c.e.c=_),K&&(K.type=="XLDAPR"&&(m.D=!0),K=void 0);break;case 176:D.push(z);break;case 49:K=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var Q=r["!id"][z.relId];for(Q?(z.Target=Q.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=Q):z.relId==""&&(z.Target="#"+z.loc),v=z.rfx.s.r;v<=z.rfx.e.r;++v)for(_=z.rfx.s.c;_<=z.rfx.e.c;++_)o.dense?(l[v]||(l[v]=[]),l[v][_]||(l[v][_]={t:"z",v:void 0}),l[v][_].l=z):(E=yt({c:_,r:v}),l[E]||(l[E]={t:"z",v:void 0}),l[E].l=z);break;case 426:if(!o.cellFormula)break;C.push(z),T=o.dense?l[v][_]:l[ir(_)+A],T.f=Jr(z[1],c,{r:g.r,c:_},R,o),T.F=It(z[0]);break;case 427:if(!o.cellFormula)break;N[yt(z[0].s)]=z[1],T=o.dense?l[v][_]:l[ir(_)+A],T.f=Jr(z[1],c,{r:g.r,c:_},R,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)j[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},U||(U=!0,c6(z.w/256)),oh(j[z.e+1]);break;case 161:l["!autofilter"]={ref:It(z)};break;case 476:l["!margins"]=z;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),z.name&&(i.Sheets[n].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!ae.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(c.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=It(u||c)),o.sheetRows&&l["!ref"]){var ee=Rn(l["!ref"]);o.sheetRows<=+ee.e.r&&(ee.e.r=o.sheetRows-1,ee.e.r>c.e.r&&(ee.e.r=c.e.r),ee.e.r<ee.s.r&&(ee.s.r=ee.e.r),ee.e.c>c.e.c&&(ee.e.c=c.e.c),ee.e.c<ee.s.c&&(ee.s.c=ee.e.c),l["!fullref"]=l["!ref"],l["!ref"]=It(ee))}return D.length>0&&(l["!merges"]=D),j.length>0&&(l["!cols"]=j),q.length>0&&(l["!rows"]=q),l}function fDe(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=n?+s[2]:s[2])});var i=Pt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){r=a.replace(/<.*?>/g,"")}),[t,i,r]}function dDe(e,t,n,r,i,a){var s=a||{"!type":"chart"};if(!e)return a;var o=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var p=fDe(d);c.s.r=c.s.c=0,c.e.c=o,u=ir(o),p[0].forEach(function(g,m){s[u+Pr(m)]={t:"n",v:g,z:p[1]},l=m}),c.e.r<l&&(c.e.r=l),++o}),o>0&&(s["!ref"]=It(c)),s}function hDe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(tK);return o&&d6(o[0],a,i,n),(s=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}function pDe(e,t){e.l+=10;var n=oi(e);return{name:n}}function gDe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Bl(e,function(l,u,c){switch(c){case 550:a["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},t),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}var rK=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],mDe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],xDe=[],yDe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function F$(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var a=t[i];if(r[a[0]]==null)r[a[0]]=a[1];else switch(a[2]){case"bool":typeof r[a[0]]=="string"&&(r[a[0]]=yn(r[a[0]]));break;case"int":typeof r[a[0]]=="string"&&(r[a[0]]=parseInt(r[a[0]],10));break}}}function O$(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=yn(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function iK(e){O$(e.WBProps,rK),O$(e.CalcPr,yDe),F$(e.WBView,mDe),F$(e.Sheets,xDe),kd.date1904=yn(e.WBProps.date1904)}var vDe="][*?/\\".split("");function _De(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return vDe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var wDe=/<\w+:workbook/;function EDe(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",a={},s=0;if(e.replace(fi,function(l,u){var c=dt(l);switch(zo(c[0])){case"<?xml":break;case"<workbook":l.match(wDe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],n.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":rK.forEach(function(d){if(c[d[0]]!=null)switch(d[2]){case"bool":n.WBProps[d[0]]=yn(c[d[0]]);break;case"int":n.WBProps[d[0]]=parseInt(c[d[0]],10);break;default:n.WBProps[d[0]]=c[d[0]]}}),c.codeName&&(n.WBProps.CodeName=ln(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],n.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Pt(ln(c.name)),delete c[0],n.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":a={},a.Name=ln(c.name),c.comment&&(a.Comment=c.comment),c.localSheetId&&(a.Sheet=+c.localSheetId),yn(c.hidden||"0")&&(a.Hidden=!0),s=u+l.length;break;case"</definedName>":a.Ref=Pt(ln(e.slice(s,u))),n.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete c[0],n.CalcPr=c;break;case"<calcPr/>":delete c[0],n.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),zCe.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return iK(n),n}function kDe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=c3(e),n.name=oi(e),n}function SDe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?oi(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function bDe(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function ADe(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=iTe(e),s=uOe(e,0,n),o=a6(e);e.l=r;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function CDe(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],K2[16]={n:"BrtFRTArchID$",f:bDe},Bl(e,function(l,u,c){switch(c){case 156:s.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Jr(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([c,l]):s[0]=[c,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(c),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(c),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},t),iK(n),n.Names=a,n.supbooks=s,n}function TDe(e,t,n){return t.slice(-4)===".bin"?CDe(e,n):EDe(e,n)}function FDe(e,t,n,r,i,a,s,o){return t.slice(-4)===".bin"?cDe(e,r,n,i,a,s,o):kOe(e,r,n,i,a,s,o)}function ODe(e,t,n,r,i,a,s,o){return t.slice(-4)===".bin"?gDe(e,r,n,i,a):hDe(e,r,n,i,a)}function DDe(e,t,n,r,i,a,s,o){return t.slice(-4)===".bin"?B8e():z8e()}function NDe(e,t,n,r,i,a,s,o){return t.slice(-4)===".bin"?L8e():P8e()}function MDe(e,t,n,r){return t.slice(-4)===".bin"?e8e(e,n,r):qFe(e,n,r)}function RDe(e,t,n){return jX(e,n)}function IDe(e,t,n){return t.slice(-4)===".bin"?mFe(e,n):pFe(e,n)}function $De(e,t,n){return t.slice(-4)===".bin"?R8e(e,n):F8e(e,n)}function LDe(e,t,n){return t.slice(-4)===".bin"?A8e(e):S8e(e)}function PDe(e,t,n,r){return n.slice(-4)===".bin"?C8e(e,t,n,r):void 0}function BDe(e,t,n){return t.slice(-4)===".bin"?E8e(e,t,n):k8e(e,t,n)}var aK=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,sK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function cs(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(aK),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(sK),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}function zDe(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(aK),i,a,s,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(sK),(a=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),n[s]=i[2].slice(1,i[2].length-1));return n}var H1;function UDe(e,t){var n=H1[e]||Pt(e);return n==="General"?zf(t):Qa(n,t)}function WDe(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=yn(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=wr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Pt(t)]=i}function HDe(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||d0[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Eg(e.v):e.w=zf(e.v):e.w=UDe(t||"General",e.v)}catch(a){if(n.WTF)throw a}try{var r=H1[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&Ih(r)){var i=af(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(n.WTF)throw a}}}function jDe(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=WFe[r.Pattern]||r.Pattern)}e[t.ID]=t}function GDe(e,t,n,r,i,a,s,o,l,u){var c="General",d=r.StyleID,p={};u=u||{};var g=[],m=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&s&&(d=s.StyleID);a[d]!==void 0&&(a[d].nf&&(c=a[d].nf),a[d].Interior&&g.push(a[d].Interior),!!a[d].Parent);)d=a[d].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=yn(e);break;case"String":r.t="s",r.r=QI(Pt(e)),r.v=e.indexOf("<")>-1?Pt(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(wr(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Pt(e):r.v<60&&(r.v=r.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=EX[e],u.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=QI(t||e));break}if(HDe(r,c,u),u.cellFormula!==!1)if(r.Formula){var x=Pt(r.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),r.f=Ed(x,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Ed("RC:RC",i):r.ArrayRange&&(r.F=Ed(r.ArrayRange,i),l.push([Rn(r.F),r.F]))}else for(m=0;m<l.length;++m)i.r>=l[m][0].s.r&&i.r<=l[m][0].e.r&&i.c>=l[m][0].s.c&&i.c<=l[m][0].e.c&&(r.F=l[m][1]);u.cellStyles&&(g.forEach(function(v){!p.patternType&&v.patternType&&(p.patternType=v.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function YDe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Gb(e,t){var n=t||{};qq();var r=x1(e6(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=ln(r));var i=r.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=Lr(n);return s.type="string",bg.to_workbook(r,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(it){i.indexOf("<"+it)>=0&&(a=!0)}),a)return tNe(r,n);H1={"General Number":"General","General Date":_t[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":_t[15],"Short Date":_t[14],"Long Time":_t[19],"Medium Time":_t[18],"Short Time":_t[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:_t[2],Standard:_t[4],Percent:_t[10],Scientific:_t[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,c={},d=[],p=n.dense?[]:{},g="",m={},x={},v=cs('<Data ss:Type="String">'),_=0,E=0,k=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},T={},D={},b="",F=0,C=[],N={},R={},L=0,j=[],q=[],U={},K=[],ee,ne=!1,z=[],ae=[],W={},M=0,Y=0,Q={Sheets:[],WBProps:{date1904:!1}},V={};Sg.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var le="";o=Sg.exec(r);)switch(o[3]=(le=o[3]).toLowerCase()){case"data":if(le=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?GDe(r.slice(_,o.index),b,v,l[l.length-1][0]=="comment"?U:m,{c:E,r:k},T,K[E],x,z,n):(b="",v=cs(o[0]),_=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(q.length>0&&(m.c=q),(!n.sheetRows||n.sheetRows>k)&&m.v!==void 0&&(n.dense?(p[k]||(p[k]=[]),p[k][E]=m):p[ir(E)+Pr(k)]=m),m.HRef&&(m.l={Target:Pt(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(M=E+(parseInt(m.MergeAcross,10)|0),Y=k+(parseInt(m.MergeDown,10)|0),C.push({s:{c:E,r:k},e:{c:M,r:Y}})),!n.sheetStubs)m.MergeAcross?E=M+1:++E;else if(m.MergeAcross||m.MergeDown){for(var we=E;we<=M;++we)for(var xe=k;xe<=Y;++xe)(we>E||xe>k)&&(n.dense?(p[xe]||(p[xe]=[]),p[xe][we]={t:"z"}):p[ir(we)+Pr(xe)]={t:"z"});E=M+1}else++E;else m=zDe(o[0]),m.Index&&(E=+m.Index-1),E<A.s.c&&(A.s.c=E),E>A.e.c&&(A.e.c=E),o[0].slice(-2)==="/>"&&++E,q=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(k<A.s.r&&(A.s.r=k),k>A.e.r&&(A.e.r=k),o[0].slice(-2)==="/>"&&(x=cs(o[0]),x.Index&&(k=+x.Index-1)),E=0,++k):(x=cs(o[0]),x.Index&&(k=+x.Index-1),W={},(x.AutoFitHeight=="0"||x.Height)&&(W.hpx=parseInt(x.Height,10),W.hpt=HX(W.hpx),ae[k]=W),x.Hidden=="1"&&(W.hidden=!0,ae[k]=W));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));d.push(g),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(p["!ref"]=It(A),n.sheetRows&&n.sheetRows<=A.e.r&&(p["!fullref"]=p["!ref"],A.e.r=n.sheetRows-1,p["!ref"]=It(A))),C.length&&(p["!merges"]=C),K.length>0&&(p["!cols"]=K),ae.length>0&&(p["!rows"]=ae),c[g]=p}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=E=0,l.push([o[3],!1]),u=cs(o[0]),g=Pt(u.Name),p=n.dense?[]:{},C=[],z=[],ae=[],V={name:g,Hidden:0},Q.Sheets.push(V);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),K=[],ne=!1}break;case"style":o[1]==="/"?jDe(T,D,n):D=cs(o[0]);break;case"numberformat":D.nf=Pt(cs(o[0]).Format||"General"),H1[D.nf]&&(D.nf=H1[D.nf]);for(var ie=0;ie!=392&&_t[ie]!=D.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(_t[ie]==null){mf(D.nf,ie);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(ee=cs(o[0]),ee.Hidden&&(ee.hidden=!0,delete ee.Hidden),ee.Width&&(ee.wpx=parseInt(ee.Width,10)),!ne&&ee.wpx>10){ne=!0,Ei=UX;for(var ue=0;ue<K.length;++ue)K[ue]&&oh(K[ue])}ne&&oh(ee),K[ee.Index-1||K.length]=ee;for(var Se=0;Se<+ee.Span;++Se)K[K.length]=Lr(ee);break;case"namedrange":if(o[1]==="/")break;Q.Names||(Q.Names=[]);var B=dt(o[0]),Ze={Name:B.Name,Ref:Ed(B.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(Ze.Sheet=Q.Sheets.length-1),Q.Names.push(Ze);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?b+=r.slice(F,o.index):F=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;D.Interior=cs(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?FTe(N,le,r.slice(L,o.index)):L=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));YDe(U),q.push(U)}else l.push([o[3],!1]),u=cs(o[0]),U={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Pe=cs(o[0]);p["!autofilter"]={ref:Ed(Pe.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return $$(r,n);var je=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:je=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:je=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:je=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:je=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(L,o.index)){case"SheetHidden":V.Hidden=1;break;case"SheetVeryHidden":V.Hidden=2;break}else L=o.index+o[0].length;break;case"header":p["!margins"]||W1(p["!margins"]={},"xlml"),isNaN(+dt(o[0]).Margin)||(p["!margins"].header=+dt(o[0]).Margin);break;case"footer":p["!margins"]||W1(p["!margins"]={},"xlml"),isNaN(+dt(o[0]).Margin)||(p["!margins"].footer=+dt(o[0]).Margin);break;case"pagemargins":var Ie=dt(o[0]);p["!margins"]||W1(p["!margins"]={},"xlml"),isNaN(+Ie.Top)||(p["!margins"].top=+Ie.Top),isNaN(+Ie.Left)||(p["!margins"].left=+Ie.Left),isNaN(+Ie.Right)||(p["!margins"].right=+Ie.Right),isNaN(+Ie.Bottom)||(p["!margins"].bottom=+Ie.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:je=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:je=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:je=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:je=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:je=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:je=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:je=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:je=!1}break;case"smarttags":break;default:je=!1;break}if(je||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?WDe(R,le,j,r.slice(L,o.index)):(j=o,L=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ae={};return!n.bookSheets&&!n.bookProps&&(Ae.Sheets=c),Ae.SheetNames=d,Ae.Workbook=Q,Ae.SSF=Lr(_t),Ae.Props=N,Ae.Custprops=R,Ae}function p3(e,t){switch(g6(t=t||{}),t.type||"base64"){case"base64":return Gb(ba(e),t);case"binary":case"buffer":case"file":return Gb(e,t);case"array":return Gb(u0(e),t)}}function VDe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=oTe(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=lTe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var qDe=[60,1084,2066,2165,2175];function XDe(e,t,n,r,i){var a=r,s=[],o=n.slice(n.l,n.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),n.l+=a;for(var l=dl(n,n.l),u=g3[l],c=0;u!=null&&qDe.indexOf(l)>-1;)a=dl(n,n.l+2),c=n.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),o=n.slice(c,n.l+4+a),s.push(o),n.l+=4+a,u=g3[l=dl(n,n.l)];var d=vu(s);Dr(d,0);var p=0;d.lens=[];for(var g=0;g<s.length;++g)d.lens.push(p),p+=s[g].length;if(d.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+r;return t.f(d,d.length,i)}function Qs(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=_t[r])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||d0[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Eg(e.v):e.w=zf(e.v):e.w=Qa(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&r&&e.t=="n"&&Ih(_t[r]||String(r))){var i=af(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function My(e,t,n){return{v:e,ixfe:t,t:n}}function KDe(e,t){var n={opts:{}},r={},i=t.dense?[]:{},a={},s={},o=null,l=[],u="",c={},d,p="",g,m,x,v,_={},E=[],k,A,T=[],D=[],b={Sheets:[],WBProps:{date1904:!1},Views:[{}]},F={},C=function(ht){return ht<8?xf[ht]:ht<64&&D[ht-8]||xf[ht]},N=function(ht,Nt,cn){var en=Nt.XF.data;if(!(!en||!en.patternType||!cn||!cn.cellStyles)){Nt.s={},Nt.s.patternType=en.patternType;var ra;(ra=Ag(C(en.icvFore)))&&(Nt.s.fgColor={rgb:ra}),(ra=Ag(C(en.icvBack)))&&(Nt.s.bgColor={rgb:ra})}},R=function(ht,Nt,cn){if(!(W>1)&&!(cn.sheetRows&&ht.r>=cn.sheetRows)){if(cn.cellStyles&&Nt.XF&&Nt.XF.data&&N(ht,Nt,cn),delete Nt.ixfe,delete Nt.XF,d=ht,p=yt(ht),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),ht.r<s.s.r&&(s.s.r=ht.r),ht.c<s.s.c&&(s.s.c=ht.c),ht.r+1>s.e.r&&(s.e.r=ht.r+1),ht.c+1>s.e.c&&(s.e.c=ht.c+1),cn.cellFormula&&Nt.f){for(var en=0;en<E.length;++en)if(!(E[en][0].s.c>ht.c||E[en][0].s.r>ht.r)&&!(E[en][0].e.c<ht.c||E[en][0].e.r<ht.r)){Nt.F=It(E[en][0]),(E[en][0].s.c!=ht.c||E[en][0].s.r!=ht.r)&&delete Nt.f,Nt.f&&(Nt.f=""+Jr(E[en][1],s,ht,z,L));break}}cn.dense?(i[ht.r]||(i[ht.r]=[]),i[ht.r][ht.c]=Nt):i[p]=Nt}},L={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(L.password=t.password);var j,q=[],U=[],K=[],ee=[],ne=!1,z=[];z.SheetNames=L.snames,z.sharedf=L.sharedf,z.arrayf=L.arrayf,z.names=[],z.XTI=[];var ae=0,W=0,M=0,Y=[],Q=[],V;L.codepage=1200,bs(1200);for(var le=!1;e.l<e.length-1;){var we=e.l,xe=e.read_shift(2);if(xe===0&&ae===10)break;var ie=e.l===e.length?0:e.read_shift(2),ue=g3[xe];if(ue&&ue.f){if(t.bookSheets&&ae===133&&xe!==133)break;if(ae=xe,ue.r===2||ue.r==12){var Se=e.read_shift(2);if(ie-=2,!L.enc&&Se!==xe&&((Se&255)<<8|Se>>8)!==xe)throw new Error("rt mismatch: "+Se+"!="+xe);ue.r==12&&(e.l+=10,ie-=10)}var B={};if(xe===10?B=ue.f(e,ie,L):B=XDe(xe,ue,e,ie,L),W==0&&[9,521,1033,2057].indexOf(ae)===-1)continue;switch(xe){case 34:n.opts.Date1904=b.WBProps.date1904=B;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(L.enc||(e.l=0),L.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=B;break;case 66:var Ze=Number(B);switch(Ze){case 21010:Ze=1200;break;case 32768:Ze=1e4;break;case 32769:Ze=1252;break}bs(L.codepage=Ze),le=!0;break;case 317:L.rrtabid=B;break;case 25:L.winlocked=B;break;case 439:n.opts.RefreshAll=B;break;case 12:n.opts.CalcCount=B;break;case 16:n.opts.CalcDelta=B;break;case 17:n.opts.CalcIter=B;break;case 13:n.opts.CalcMode=B;break;case 14:n.opts.CalcPrecision=B;break;case 95:n.opts.CalcSaveRecalc=B;break;case 15:L.CalcRefMode=B;break;case 2211:n.opts.FullCalc=B;break;case 129:B.fDialog&&(i["!type"]="dialog"),B.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),B.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:T.push(B);break;case 430:z.push([B]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(B);break;case 24:case 536:V={Name:B.Name,Ref:Jr(B.rgce,s,null,z,L)},B.itab>0&&(V.Sheet=B.itab-1),z.names.push(V),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(Q[B.itab-1]={ref:It(B.rgce[0][0][1][2])});break;case 22:L.ExternCount=B;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(B),z.XTI=z.XTI.concat(B);break;case 2196:if(L.biff<8)break;V!=null&&(V.Comment=B[1]);break;case 18:i["!protect"]=B;break;case 19:B!==0&&L.WTF&&console.error("Password verifier: "+B);break;case 133:a[B.pos]=B,L.snames.push(B.name);break;case 10:{if(--W)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=It(s),t.sheetRows&&t.sheetRows<=s.e.r){var Pe=s.e.r;s.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=It(s),s.e.r=Pe}s.e.r++,s.e.c++}q.length>0&&(i["!merges"]=q),U.length>0&&(i["!objects"]=U),K.length>0&&(i["!cols"]=K),ee.length>0&&(i["!rows"]=ee),b.Sheets.push(F)}u===""?c=i:r[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),L.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(L.biff=5,le=!0,bs(L.codepage=28591)),L.biff==8&&B.BIFFVer==0&&B.dt==16&&(L.biff=2),W++)break;if(i=t.dense?[]:{},L.biff<8&&!le&&(le=!0,bs(L.codepage=t.codepage||1252)),L.biff<5||B.BIFFVer==0&&B.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var je={pos:e.l-ie,name:u};a[je.pos]=je,L.snames.push(u)}else u=(a[we]||{name:""}).name;B.dt==32&&(i["!type"]="chart"),B.dt==64&&(i["!type"]="macro"),q=[],U=[],L.arrayf=E=[],K=[],ee=[],ne=!1,F={Hidden:(a[we]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[B.r]||[])[B.c]:i[yt({c:B.c,r:B.r})])&&++B.c,k={ixfe:B.ixfe,XF:T[B.ixfe]||{},v:B.val,t:"n"},M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R({c:B.c,r:B.r},k,t);break;case 5:case 517:k={ixfe:B.ixfe,XF:T[B.ixfe],v:B.val,t:B.t},M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R({c:B.c,r:B.r},k,t);break;case 638:k={ixfe:B.ixfe,XF:T[B.ixfe],v:B.rknum,t:"n"},M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R({c:B.c,r:B.r},k,t);break;case 189:for(var Ie=B.c;Ie<=B.C;++Ie){var Ae=B.rkrec[Ie-B.c][0];k={ixfe:Ae,XF:T[Ae],v:B.rkrec[Ie-B.c][1],t:"n"},M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R({c:Ie,r:B.r},k,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){o=B;break}if(k=My(B.val,B.cell.ixfe,B.tt),k.XF=T[k.ixfe],t.cellFormula){var it=B.formula;if(it&&it[0]&&it[0][0]&&it[0][0][0]=="PtgExp"){var Et=it[0][0][1][0],Ct=it[0][0][1][1],wn=yt({r:Et,c:Ct});_[wn]?k.f=""+Jr(B.formula,s,B.cell,z,L):k.F=((t.dense?(i[Et]||[])[Ct]:i[wn])||{}).F}else k.f=""+Jr(B.formula,s,B.cell,z,L)}M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R(B.cell,k,t),o=B}break;case 7:case 519:if(o)o.val=B,k=My(B,o.cell.ixfe,"s"),k.XF=T[k.ixfe],t.cellFormula&&(k.f=""+Jr(o.formula,s,o.cell,z,L)),M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R(o.cell,k,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(B);var Hn=yt(B[0].s);if(g=t.dense?(i[B[0].s.r]||[])[B[0].s.c]:i[Hn],t.cellFormula&&g){if(!o||!Hn||!g)break;g.f=""+Jr(B[1],s,B[0],z,L),g.F=It(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;_[yt(o.cell)]=B[0],g=t.dense?(i[o.cell.r]||[])[o.cell.c]:i[yt(o.cell)],(g||{}).f=""+Jr(B[0],s,d,z,L)}}break;case 253:k=My(l[B.isst].t,B.ixfe,"s"),l[B.isst].h&&(k.h=l[B.isst].h),k.XF=T[k.ixfe],M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R({c:B.c,r:B.r},k,t);break;case 513:t.sheetStubs&&(k={ixfe:B.ixfe,XF:T[B.ixfe],t:"z"},M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R({c:B.c,r:B.r},k,t));break;case 190:if(t.sheetStubs)for(var br=B.c;br<=B.C;++br){var $t=B.ixfe[br-B.c];k={ixfe:$t,XF:T[$t],t:"z"},M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R({c:br,r:B.r},k,t)}break;case 214:case 516:case 4:k=My(B.val,B.ixfe,"s"),k.XF=T[k.ixfe],M>0&&(k.z=Y[k.ixfe>>8&63]),Qs(k,t,n.opts.Date1904),R({c:B.c,r:B.r},k,t);break;case 0:case 512:W===1&&(s=B);break;case 252:l=B;break;case 1054:if(L.biff==4){Y[M++]=B[1];for(var En=0;En<M+163&&_t[En]!=B[1];++En);En>=163&&mf(B[1],M+163)}else mf(B[1],B[0]);break;case 30:{Y[M++]=B;for(var Gt=0;Gt<M+163&&_t[Gt]!=B;++Gt);Gt>=163&&mf(B,M+163)}break;case 229:q=q.concat(B);break;case 93:U[B.cmo[0]]=L.lastobj=B;break;case 438:L.lastobj.TxO=B;break;case 127:L.lastobj.ImData=B;break;case 440:for(v=B[0].s.r;v<=B[0].e.r;++v)for(x=B[0].s.c;x<=B[0].e.c;++x)g=t.dense?(i[v]||[])[x]:i[yt({c:x,r:v})],g&&(g.l=B[1]);break;case 2048:for(v=B[0].s.r;v<=B[0].e.r;++v)for(x=B[0].s.c;x<=B[0].e.c;++x)g=t.dense?(i[v]||[])[x]:i[yt({c:x,r:v})],g&&g.l&&(g.l.Tooltip=B[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;g=t.dense?(i[B[0].r]||[])[B[0].c]:i[yt(B[0])];var gn=U[B[2]];g||(t.dense?(i[B[0].r]||(i[B[0].r]=[]),g=i[B[0].r][B[0].c]={t:"z"}):g=i[yt(B[0])]={t:"z"},s.e.r=Math.max(s.e.r,B[0].r),s.s.r=Math.min(s.s.r,B[0].r),s.e.c=Math.max(s.e.c,B[0].c),s.s.c=Math.min(s.s.c,B[0].c)),g.c||(g.c=[]),m={a:B[1],t:gn.TxO.t},g.c.push(m)}break;case 2173:y8e(T[B.ixfe],B.ext);break;case 125:{if(!L.cellStyles)break;for(;B.e>=B.s;)K[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},ne||(ne=!0,c6(B.w/256)),oh(K[B.e+1])}break;case 520:{var Yt={};B.level!=null&&(ee[B.r]=Yt,Yt.level=B.level),B.hidden&&(ee[B.r]=Yt,Yt.hidden=!0),B.hpt&&(ee[B.r]=Yt,Yt.hpt=B.hpt,Yt.hpx=Cg(B.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||W1(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=B;break;case 161:i["!margins"]||W1(i["!margins"]={}),i["!margins"].header=B.header,i["!margins"].footer=B.footer;break;case 574:B.RTL&&(b.Views[0].RTL=!0);break;case 146:D=B;break;case 2198:j=B;break;case 140:A=B;break;case 442:u?F.CodeName=B||F.name:b.WBProps.CodeName=B||"ThisWorkbook";break}}else ue||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),e.l+=ie}return n.SheetNames=Ao(a).sort(function(Ar,ht){return Number(Ar)-Number(ht)}).map(function(Ar){return a[Ar].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&c["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=c)):n.Preamble=c,n.Sheets&&Q.forEach(function(Ar,ht){n.Sheets[n.SheetNames[ht]]["!autofilter"]=Ar}),n.Strings=l,n.SSF=Lr(_t),L.enc&&(n.Encryption=L.enc),j&&(n.Themes=j),n.Metadata={},A!==void 0&&(n.Metadata.Country=A),z.names.length>0&&(b.Names=z.names),n.Workbook=b,n}var D$={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function JDe(e,t,n){var r=Rt.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=p$(r,pTe,D$.DSI);for(var a in i)t[a]=i[a]}catch(u){if(n.WTF)throw u}var s=Rt.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=p$(s,gTe,D$.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(u){if(n.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(SX(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function oK(e,t){t||(t={}),g6(t),$q(),t.codepage&&V8(t.codepage);var n,r;if(e.FullPaths){if(Rt.find(e,"/encryption"))throw new Error("File is password-protected");n=Rt.find(e,"!CompObj"),r=Rt.find(e,"/Workbook")||Rt.find(e,"/Book")}else{switch(t.type){case"base64":e=_s(ba(e));break;case"binary":e=_s(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Dr(e,0),r={content:e}}var i,a;if(n&&VDe(n),t.bookProps&&!t.bookSheets)i={};else{var s=Ft?"buffer":"array";if(r&&r.content)i=KDe(r.content,t);else if((a=Rt.find(e,"PerfectOffice_MAIN"))&&a.content)i=z1.to_workbook(a.content,(t.type=s,t));else if((a=Rt.find(e,"NativeContent_MAIN"))&&a.content)i=z1.to_workbook(a.content,(t.type=s,t));else throw(a=Rt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Rt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=$8e(e))}var o={};return e.FullPaths&&JDe(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}var K2={0:{f:NOe},1:{f:$Oe},2:{f:GOe},3:{f:zOe},4:{f:POe},5:{f:jOe},6:{f:qOe},7:{f:WOe},8:{f:ZOe},9:{f:QOe},10:{f:KOe},11:{f:JOe},12:{f:LOe},13:{f:YOe},14:{f:UOe},15:{f:BOe},16:{f:nK},17:{f:XOe},18:{f:HOe},19:{f:i6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ADe},40:{},42:{},43:{f:KFe},44:{f:XFe},45:{f:JFe},46:{f:ZFe},47:{f:QFe},48:{},49:{f:eTe},50:{},51:{f:_8e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:$X},62:{f:VOe},63:{f:b8e},64:{f:lDe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ci,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:oDe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:IOe},148:{f:MOe,p:16},151:{f:nDe},152:{},153:{f:SDe},154:{},155:{},156:{f:kDe},157:{},158:{},159:{T:1,f:gFe},160:{T:-1},161:{T:1,f:f0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:eDe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:v8e},336:{T:-1},337:{f:w8e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:c3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:IX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:rDe},427:{f:iDe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:sDe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ROe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:tDe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:c3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:M8e},633:{T:1},634:{T:-1},635:{T:1,f:N8e},636:{T:-1},637:{f:nTe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pDe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:uDe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},g3={6:{f:Hb},10:{f:uu},12:{f:Vn},13:{f:Vn},14:{f:Pn},15:{f:Pn},16:{f:Zr},17:{f:Pn},18:{f:Pn},19:{f:Vn},20:{f:y$},21:{f:y$},23:{f:IX},24:{f:_$},25:{f:Pn},26:{},27:{},28:{f:O5e},29:{},34:{f:Pn},35:{f:v$},38:{f:Zr},39:{f:Zr},40:{f:Zr},41:{f:Zr},42:{f:Pn},43:{f:Pn},47:{f:RFe},49:{f:f5e},51:{f:Vn},60:{},61:{f:l5e},64:{f:Pn},65:{f:c5e},66:{f:Vn},77:{},80:{},81:{},82:{},85:{f:Vn},89:{},90:{},91:{},92:{f:e5e},93:{f:N5e},94:{},95:{f:Pn},96:{},97:{},99:{f:Pn},125:{f:$X},128:{f:w5e},129:{f:t5e},130:{f:Vn},131:{f:Pn},132:{f:Pn},133:{f:n5e},134:{},140:{f:P5e},141:{f:Vn},144:{},146:{f:z5e},151:{},152:{},153:{},154:{},155:{},156:{f:Vn},157:{},158:{},160:{f:G5e},161:{f:W5e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:x5e},190:{f:y5e},193:{f:uu},197:{},198:{},199:{},200:{},201:{},202:{f:Pn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Vn},220:{},221:{f:Pn},222:{},224:{f:_5e},225:{f:ZTe},226:{f:uu},227:{},229:{f:D5e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:r5e},253:{f:d5e},255:{f:i5e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:FX},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Pn},353:{f:uu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:k5e},431:{f:Pn},432:{},433:{},434:{},437:{},438:{f:I5e},439:{f:Pn},440:{f:$5e},441:{},442:{f:Sm},443:{},444:{f:Vn},445:{},446:{},448:{f:uu},449:{f:o5e,r:2},450:{f:uu},512:{f:m$},513:{f:j5e},515:{f:E5e},516:{f:h5e},517:{f:x$},519:{f:Y5e},520:{f:a5e},523:{},545:{f:w$},549:{f:g$},566:{},574:{f:u5e},638:{f:m5e},659:{},1048:{},1054:{f:p5e},1084:{},1212:{f:C5e},2048:{f:L5e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Oy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:uu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:U5e,r:12},2173:{f:x8e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Pn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:A5e,r:12},2197:{},2198:{f:f8e,r:12},2199:{},2200:{},2201:{},2202:{f:T5e,r:12},2203:{f:uu},2204:{},2205:{},2206:{},2207:{},2211:{f:s5e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Vn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:H5e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:B5e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:m$},1:{},2:{f:K5e},3:{f:X5e},4:{f:q5e},5:{f:x$},7:{f:J5e},8:{},9:{f:Oy},11:{},22:{f:Vn},30:{f:g5e},31:{},32:{},33:{f:w$},36:{},37:{f:g$},50:{f:Q5e},62:{},52:{},67:{},68:{f:Vn},69:{},86:{},126:{},127:{f:V5e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Z5e},223:{},234:{},354:{},421:{},518:{f:Hb},521:{f:Oy},536:{f:_$},547:{f:v$},561:{},579:{},1030:{f:Hb},1033:{f:Oy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function fs(e,t,n,r){var i=t;if(!isNaN(i)){var a=(n||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&mX(n)&&e.push(n)}}function N$(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),s=i.index,o=a&&a.index||e.length,l=ECe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,d=0,p=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<l.length;++s){var x=l[s].trim(),v=x.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,n.sheetRows&&n.sheetRows<=u){--u;break}c=0;continue}if(!(v!="<td"&&v!="<th")){var _=x.split(/<\/t[dh]>/i);for(o=0;o<_.length;++o){var E=_[o].trim();if(E.match(/<t[dh]/i)){for(var k=E,A=0;k.charAt(0)=="<"&&(A=k.indexOf(">"))>-1;)k=k.slice(A+1);for(var T=0;T<m.length;++T){var D=m[T];D.s.c==c&&D.s.r<u&&u<=D.e.r&&(c=D.e.c+1,T=-1)}var b=dt(E.slice(0,E.indexOf(">")));p=b.colspan?+b.colspan:1,((d=+b.rowspan)>1||p>1)&&m.push({s:{r:u,c},e:{r:u+(d||1)-1,c:c+p-1}});var F=b.t||b["data-t"]||"";if(!k.length){c+=p;continue}if(k=rX(k),g.s.r>u&&(g.s.r=u),g.e.r<u&&(g.e.r=u),g.s.c>c&&(g.s.c=c),g.e.c<c&&(g.e.c=c),!k.length){c+=p;continue}var C={t:"s",v:k};n.raw||!k.trim().length||F=="s"||(k==="TRUE"?C={t:"b",v:!0}:k==="FALSE"?C={t:"b",v:!1}:isNaN(Fs(k))?isNaN(sh(k).getDate())||(C={t:"d",v:wr(k)},n.cellDates||(C={t:"n",v:Mi(C.v)}),C.z=n.dateNF||_t[14]):C={t:"n",v:Fs(k)}),n.dense?(r[u]||(r[u]=[]),r[u][c]=C):r[yt({r:u,c})]=C,c+=p}}}}return r["!ref"]=It(g),m.length&&(r["!merges"]=m),r}function QDe(e,t,n,r){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>n||i[u].s.c>s)&&!(i[u].e.r<n||i[u].e.c<s)){if(i[u].s.r<n||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=yt({r:n,c:s}),d=r.dense?(e[n]||[])[s]:e[c],p=d&&d.v!=null&&(d.h||Z8(d.w||(Fl(d),d.w)||""))||"",g={};o>1&&(g.rowspan=o),l>1&&(g.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":d&&(g["data-t"]=d&&d.t||"z",d.v!=null&&(g["data-v"]=d.v),d.z!=null&&(g["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),g.id=(r.id||"sjs")+"-"+c,a.push(PCe("td",p,g))}}var m="<tr>";return m+a.join("")+"</tr>"}var ZDe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',eNe="</body></html>";function tNe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return mc(N$(n[0],t),t);var r=x6();return n.forEach(function(i,a){y6(r,N$(i,t),"Sheet"+(a+1))}),r}function nNe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function rNe(e,t){var n=t||{},r=n.header!=null?n.header:ZDe,i=n.footer!=null?n.footer:eNe,a=[r],s=$h(e["!ref"]);n.dense=Array.isArray(e),a.push(nNe(e,s,n));for(var o=s.s.r;o<=s.e.r;++o)a.push(QDe(e,s,o,n));return a.push("</table>"+i),a.join("")}function lK(e,t,n){var r=n||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?Ai(r.origin):r.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var c=$h(e["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var d=[],p=0,g=e["!rows"]||(e["!rows"]=[]),m=0,x=0,v=0,_=0,E=0,k=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&x<l;++m){var A=o[m];if(M$(A)){if(r.display)continue;g[x]={hidden:!0}}var T=A.children;for(v=_=0;v<T.length;++v){var D=T[v];if(!(r.display&&M$(D))){var b=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):rX(D.innerHTML),F=D.getAttribute("data-z")||D.getAttribute("z");for(p=0;p<d.length;++p){var C=d[p];C.s.c==_+a&&C.s.r<x+i&&x+i<=C.e.r&&(_=C.e.c+1-a,p=-1)}k=+D.getAttribute("colspan")||1,((E=+D.getAttribute("rowspan")||1)>1||k>1)&&d.push({s:{r:x+i,c:_+a},e:{r:x+i+(E||1)-1,c:_+a+(k||1)-1}});var N={t:"s",v:b},R=D.getAttribute("data-t")||D.getAttribute("t")||"";b!=null&&(b.length==0?N.t=R||"z":r.raw||b.trim().length==0||R=="s"||(b==="TRUE"?N={t:"b",v:!0}:b==="FALSE"?N={t:"b",v:!1}:isNaN(Fs(b))?isNaN(sh(b).getDate())||(N={t:"d",v:wr(b)},r.cellDates||(N={t:"n",v:Mi(N.v)}),N.z=r.dateNF||_t[14]):N={t:"n",v:Fs(b)})),N.z===void 0&&F!=null&&(N.z=F);var L="",j=D.getElementsByTagName("A");if(j&&j.length)for(var q=0;q<j.length&&!(j[q].hasAttribute("href")&&(L=j[q].getAttribute("href"),L.charAt(0)!="#"));++q);L&&L.charAt(0)!="#"&&(N.l={Target:L}),r.dense?(e[x+i]||(e[x+i]=[]),e[x+i][_+a]=N):e[yt({c:_+a,r:x+i})]=N,u.e.c<_+a&&(u.e.c=_+a),_+=k}}++x}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,x-1+i),e["!ref"]=It(u),x>=l&&(e["!fullref"]=It((u.e.r=o.length-m+x-1+i,u))),e}function uK(e,t){var n=t||{},r=n.dense?[]:{};return lK(r,e,t)}function iNe(e,t){return mc(uK(e,t),t)}function M$(e){var t="",n=aNe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function aNe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function sNe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Pt(t.replace(/<[^>]*>/g,""));return[n]}var R$={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function cK(e,t){var n=t||{},r=e6(e),i=[],a,s,o={name:""},l="",u=0,c,d,p={},g=[],m=n.dense?[]:{},x,v,_={value:""},E="",k=0,A=[],T=-1,D=-1,b={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,C={},N=[],R={},L=0,j=0,q=[],U=1,K=1,ee=[],ne={Names:[]},z={},ae=["",""],W=[],M={},Y="",Q=0,V=!1,le=!1,we=0;for(Sg.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=Sg.exec(r);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(b.e.c>=b.s.c&&b.e.r>=b.s.r?m["!ref"]=It(b):m["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=b.e.r&&(m["!fullref"]=m["!ref"],b.e.r=n.sheetRows-1,m["!ref"]=It(b)),N.length&&(m["!merges"]=N),q.length&&(m["!rows"]=q),c.name=c.||c.name,typeof JSON<"u"&&JSON.stringify(c),g.push(c.name),p[c.name]=m,le=!1):x[0].charAt(x[0].length-2)!=="/"&&(c=dt(x[0],!1),T=D=-1,b.s.r=b.s.c=1e7,b.e.r=b.e.c=0,m=n.dense?[]:{},N=[],q=[],le=!0);break;case"table-row-group":x[1]==="/"?--F:++F;break;case"table-row":case"":if(x[1]==="/"){T+=U,U=1;break}if(d=dt(x[0],!1),d.?T=d.-1:T==-1&&(T=0),U=+d["number-rows-repeated"]||1,U<10)for(we=0;we<U;++we)F>0&&(q[T+we]={level:F});D=-1;break;case"covered-table-cell":x[1]!=="/"&&++D,n.sheetStubs&&(n.dense?(m[T]||(m[T]=[]),m[T][D]={t:"z"}):m[yt({r:T,c:D})]={t:"z"}),E="",A=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++D,_=dt(x[0],!1),K=parseInt(_["number-columns-repeated"]||"1",10),v={t:"z",v:null},_.formula&&n.cellFormula!=!1&&(v.f=T$(Pt(_.formula))),(_.||_["value-type"])=="string"&&(v.t="s",v.v=Pt(_["string-value"]||""),n.dense?(m[T]||(m[T]=[]),m[T][D]=v):m[yt({r:T,c:D})]=v),D+=K-1;else if(x[1]!=="/"){++D,E="",k=0,A=[],K=1;var xe=U?T+U-1:T;if(D>b.e.c&&(b.e.c=D),D<b.s.c&&(b.s.c=D),T<b.s.r&&(b.s.r=T),xe>b.e.r&&(b.e.r=xe),_=dt(x[0],!1),W=[],M={},v={t:_.||_["value-type"],v:null},n.cellFormula)if(_.formula&&(_.formula=Pt(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(L=parseInt(_["number-matrix-rows-spanned"],10)||0,j=parseInt(_["number-matrix-columns-spanned"],10)||0,R={s:{r:T,c:D},e:{r:T+L-1,c:D+j-1}},v.F=It(R),ee.push([R,v.F])),_.formula)v.f=T$(_.formula);else for(we=0;we<ee.length;++we)T>=ee[we][0].s.r&&T<=ee[we][0].e.r&&D>=ee[we][0].s.c&&D<=ee[we][0].e.c&&(v.F=ee[we][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(L=parseInt(_["number-rows-spanned"],10)||0,j=parseInt(_["number-columns-spanned"],10)||0,R={s:{r:T,c:D},e:{r:T+L-1,c:D+j-1}},N.push(R)),_["number-columns-repeated"]&&(K=parseInt(_["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=yn(_["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(_.value);break;case"percentage":v.t="n",v.v=parseFloat(_.value);break;case"currency":v.t="n",v.v=parseFloat(_.value);break;case"date":v.t="d",v.v=wr(_["date-value"]),n.cellDates||(v.t="n",v.v=Mi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=vCe(_["time-value"])/86400,n.cellDates&&(v.t="d",v.v=iE(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(_.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",_["string-value"]!=null&&(E=Pt(_["string-value"]),A=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(V=!1,v.t==="s"&&(v.v=E||"",A.length&&(v.R=A),V=k==0),z.Target&&(v.l=z),W.length>0&&(v.c=W,W=[]),E&&n.cellText!==!1&&(v.w=E),V&&(v.t="z",delete v.v),(!V||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=T))for(var ie=0;ie<U;++ie){if(K=parseInt(_["number-columns-repeated"]||"1",10),n.dense)for(m[T+ie]||(m[T+ie]=[]),m[T+ie][D]=ie==0?v:Lr(v);--K>0;)m[T+ie][D+K]=Lr(v);else for(m[yt({r:T+ie,c:D})]=v;--K>0;)m[yt({r:T+ie,c:D+K})]=Lr(v);b.e.c<=D&&(b.e.c=D)}K=parseInt(_["number-columns-repeated"]||"1",10),D+=K-1,K=0,v={},E="",A=[]}z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((a=i.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((a=i.pop())[0]!==x[3])throw"Bad state: "+a;M.t=E,A.length&&(M.R=A),M.a=Y,W.push(M)}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);Y="",Q=0,E="",k=0,A=[];break;case"creator":x[1]==="/"?Y=r.slice(Q,x.index):Q=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((a=i.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&i.push([x[3],!1]);E="",k=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(C[o.name]=l,(a=i.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&(l="",o=dt(x[0],!1),i.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=dt(x[0],!1),l+=R$[x[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=dt(x[0],!1),l+=R$[x[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":s=dt(x[0],!1),ae=jb(s["cell-range-address"]);var ue={Name:s.name,Ref:ae[0]+"!"+ae[1]};le&&(ue.Sheet=g.length),ne.Names.push(ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(x[1]==="/"&&(!_||!_["string-value"])){var Se=sNe(r.slice(k,x.index));E=(E.length>0?E+`
`:"")+Se[0]}else dt(x[0],!1),k=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{ae=jb(dt(x[0])["target-range-address"]),p[ae[0]]["!autofilter"]={ref:ae[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(z=dt(x[0],!1),!z.href)break;z.Target=Pt(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(ae=jb(z.Target.slice(1)),z.Target="#"+ae[0]+"!"+ae[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(x)}}var B={Sheets:p,SheetNames:g,Workbook:ne};return n.bookSheets&&delete B.Sheets,B}function I$(e,t){t=t||{},$a(e,"META-INF/manifest.xml")&&ETe(Yn(e,"META-INF/manifest.xml"),t);var n=ha(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=cK(ln(n),t);return $a(e,"meta.xml")&&(r.Props=kX(Yn(e,"meta.xml"))),r}function $$(e,t){return cK(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function h6(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function m3(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ln(u0(e))}function x3(e){var t=e.reduce(function(i,a){return i+a.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function L$(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function oNe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function Tg(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function sr(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function ni(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=Tg(e,n),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=n[0];e[n[0]++]>=128;);o=e.slice(l,n[0])}break;case 5:s=4,o=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,o=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=Tg(e,n),o=e.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var u={data:o,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function p6(e,t){return(e==null?void 0:e.map(function(n){return t(n.data)}))||[]}function lNe(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=Tg(e,r),a=ni(e.slice(r[0],r[0]+i));r[0]+=i;var s={id:sr(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=ni(o.data),u=sr(l[3][0].data);s.messages.push({meta:l,data:e.slice(r[0],r[0]+u)}),r[0]+=u}),(t=a[3])!=null&&t[0]&&(s.merge=sr(a[3][0].data)>>>0>0),n.push(s)}return n}function uNe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Tg(t,n),i=[];n[0]<t.length;){var a=t[n[0]]&3;if(a==0){var s=t[n[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[n[0]],o>1&&(s|=t[n[0]+1]<<8),o>2&&(s|=t[n[0]+2]<<16),o>3&&(s|=t[n[0]+3]<<24),s>>>=0,s++,n[0]+=o}i.push(t.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var l=0,u=0;if(a==1?(u=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(u=(t[n[0]++]>>2)+1,a==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[x3(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=x3(i);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function cNe(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(uNe(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return x3(t)}function fNe(e,t,n,r){var i=h6(e),a=i.getUint32(4,!0),s=(r>1?12:8)+L$(a&(r>1?3470:398))*4,o=-1,l=-1,u=NaN,c=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=L$(a&(r>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(c.setTime(c.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var d;switch(e[2]){case 0:break;case 2:d={t:"n",v:u};break;case 3:d={t:"s",v:t[l]};break;case 5:d={t:"d",v:c};break;case 6:d={t:"b",v:u>0};break;case 7:d={t:"n",v:u/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:n[o]};else if(l>-1)d={t:"s",v:t[l]};else if(!isNaN(u))d={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return d}function dNe(e,t,n){var r=h6(e),i=r.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,u=NaN,c=new Date(2001,0,1);i&1&&(l=oNe(e,a),a+=16),i&2&&(u=r.getFloat64(a,!0),a+=8),i&4&&(c.setTime(c.getTime()+r.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=r.getUint32(a,!0),a+=4),i&16&&(s=r.getUint32(a,!0),a+=4);var d;switch(e[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t[o]};break;case 5:d={t:"d",v:c};break;case 6:d={t:"b",v:u>0};break;case 7:d={t:"n",v:u/86400};break;case 8:d={t:"e",v:0};break;case 9:if(s>-1)d={t:"s",v:n[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return d}function hNe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return fNe(e,t,n,e[0]);case 5:return dNe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Lu(e){var t=ni(e);return Tg(t[1][0].data)}function P$(e,t){var n=ni(t.data),r=sr(n[1][0].data),i=n[3],a=[];return(i||[]).forEach(function(s){var o=ni(s.data),l=sr(o[1][0].data)>>>0;switch(r){case 1:a[l]=m3(o[3][0].data);break;case 8:{var u=e[Lu(o[9][0].data)][0],c=ni(u.data),d=e[Lu(c[1][0].data)][0],p=sr(d.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var g=ni(d.data);a[l]=g[3].map(function(m){return m3(m.data)}).join("")}break}}),a}function pNe(e,t){var n,r,i,a,s,o,l,u,c,d,p,g,m,x,v=ni(e),_=sr(v[1][0].data)>>>0,E=sr(v[2][0].data)>>>0,k=((r=(n=v[8])==null?void 0:n[0])==null?void 0:r.data)&&sr(v[8][0].data)>0||!1,A,T;if((a=(i=v[7])==null?void 0:i[0])!=null&&a.data&&t!=0)A=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,T=(u=(l=v[6])==null?void 0:l[0])==null?void 0:u.data;else if((d=(c=v[4])==null?void 0:c[0])!=null&&d.data&&t!=1)A=(g=(p=v[4])==null?void 0:p[0])==null?void 0:g.data,T=(x=(m=v[3])==null?void 0:m[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var D=k?4:1,b=h6(A),F=[],C=0;C<A.length/2;++C){var N=b.getUint16(C*2,!0);N<65535&&F.push([C,N])}if(F.length!=E)throw"Expected ".concat(E," cells, found ").concat(F.length);var R=[];for(C=0;C<F.length-1;++C)R[F[C][0]]=T.subarray(F[C][1]*D,F[C+1][1]*D);return F.length>=1&&(R[F[F.length-1][0]]=T.subarray(F[F.length-1][1]*D)),{R:_,cells:R}}function gNe(e,t){var n,r=ni(t.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?sr(r[7][0].data)>>>0>0?1:0:-1,a=p6(r[5],function(s){return pNe(s,i)});return{nrows:sr(r[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=l}),s},[])}}function mNe(e,t,n){var r,i=ni(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(sr(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(sr(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=It(a);var s=ni(i[4][0].data),o=P$(e,e[Lu(s[4][0].data)][0]),l=(r=s[17])!=null&&r[0]?P$(e,e[Lu(s[17][0].data)][0]):[],u=ni(s[3][0].data),c=0;u[1].forEach(function(d){var p=ni(d.data),g=e[Lu(p[2][0].data)][0],m=sr(g.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var x=gNe(e,g);x.data.forEach(function(v,_){v.forEach(function(E,k){var A=yt({r:c+_,c:k}),T=hNe(E,o,l);T&&(n[A]=T)})}),c+=x.nrows})}function xNe(e,t){var n=ni(t.data),r={"!ref":"A1"},i=e[Lu(n[2][0].data)],a=sr(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return mNe(e,i[0],r),r}function yNe(e,t){var n,r=ni(t.data),i={name:(n=r[1])!=null&&n[0]?m3(r[1][0].data):"",sheets:[]},a=p6(r[2],Lu);return a.forEach(function(s){e[s].forEach(function(o){var l=sr(o.meta[1][0].data);l==6e3&&i.sheets.push(xNe(e,o))})}),i}function vNe(e,t){var n=x6(),r=ni(t.data),i=p6(r[1],Lu);if(i.forEach(function(a){e[a].forEach(function(s){var o=sr(s.meta[1][0].data);if(o==2){var l=yNe(e,s);l.sheets.forEach(function(u,c){y6(n,u,c==0?l.name:l.name+"_"+c,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function Yb(e){var t,n,r,i,a={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=cNe(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var c;try{c=lNe(u)}catch(d){return console.log("## "+(d.message||d))}c.forEach(function(d){a[d.id]=d.messages,s.push(d.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(r=(n=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&sr(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(u){var c=sr(u.meta[1][0].data)>>>0;if(c==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return vNe(a,o)}function _Ne(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function g6(e){_Ne([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function wNe(e){return cd.WS.indexOf(e)>-1?"sheet":e==cd.CS?"chart":e==cd.DS?"dialog":e==cd.MS?"macro":e&&e.length?e:"sheet"}function ENe(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,wNe(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function kNe(e,t,n,r,i,a,s,o,l,u,c,d){try{a[r]=P1(ha(e,n,!0),t);var p=Yn(e,t),g;switch(o){case"sheet":g=FDe(p,t,i,l,a[r],u,c,d);break;case"chart":if(g=ODe(p,t,i,l,a[r],u,c,d),!g||!g["!drawel"])break;var m=v1(g["!drawel"].Target,t),x=f3(m),v=T8e(ha(e,m,!0),P1(ha(e,x,!0),m)),_=v1(v,m),E=f3(_);g=dDe(ha(e,_,!0),_,l,P1(ha(e,E,!0),_),u,g);break;case"macro":g=DDe(p,t,i,l,a[r],u,c,d);break;case"dialog":g=NDe(p,t,i,l,a[r],u,c,d);break;default:throw new Error("Unrecognized sheet type "+o)}s[r]=g;var k=[];a&&a[r]&&Ao(a[r]).forEach(function(A){var T="";if(a[r][A].Type==cd.CMNT){T=v1(a[r][A].Target,t);var D=$De(Yn(e,T,!0),T,l);if(!D||!D.length)return;k$(g,D,!1)}a[r][A].Type==cd.TCMNT&&(T=v1(a[r][A].Target,t),k=k.concat(O8e(Yn(e,T,!0),l)))}),k&&k.length&&k$(g,k,!0,l.people||[])}catch(A){if(l.WTF)throw A}}function Ra(e){return e.charAt(0)=="/"?e.slice(1):e}function SNe(e,t){if(qq(),t=t||{},g6(t),$a(e,"META-INF/manifest.xml")||$a(e,"objectdata.xml"))return I$(e,t);if($a(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Yb<"u"){if(e.FileIndex)return Yb(e);var n=Rt.utils.cfb_new();return KI(e).forEach(function(q){bCe(n,q,SCe(e,q))}),Yb(n)}throw new Error("Unsupported NUMBERS file")}if(!$a(e,"[Content_Types].xml"))throw $a(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):$a(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=KI(e),i=_Te(ha(e,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Yn(e,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Yn(e,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(U1=[],i.sst)try{U1=IDe(Yn(e,Ra(i.sst)),i.sst,t)}catch(q){if(t.WTF)throw q}t.cellStyles&&i.themes.length&&(l=RDe(ha(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=MDe(Yn(e,Ra(i.style)),i.style,l,t))}i.links.map(function(q){try{var U=P1(ha(e,f3(Ra(q))),q);return PDe(Yn(e,Ra(q)),U,q,t)}catch{}});var c=TDe(Yn(e,Ra(i.workbooks[0])),i.workbooks[0],t),d={},p="";i.coreprops.length&&(p=Yn(e,Ra(i.coreprops[0]),!0),p&&(d=kX(p)),i.extprops.length!==0&&(p=Yn(e,Ra(i.extprops[0]),!0),p&&bTe(p,d,t)));var g={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(p=ha(e,Ra(i.custprops[0]),!0),p&&(g=CTe(p,t)));var m={};if((t.bookSheets||t.bookProps)&&(c.Sheets?s=c.Sheets.map(function(U){return U.name}):d.Worksheets&&d.SheetNames.length>0&&(s=d.SheetNames),t.bookProps&&(m.Props=d,m.Custprops=g),t.bookSheets&&typeof s<"u"&&(m.SheetNames=s),t.bookSheets?m.SheetNames:t.bookProps))return m;s={};var x={};t.bookDeps&&i.calcchain&&(x=LDe(Yn(e,Ra(i.calcchain)),i.calcchain));var v=0,_={},E,k;{var A=c.Sheets;d.Worksheets=A.length,d.SheetNames=[];for(var T=0;T!=A.length;++T)d.SheetNames[T]=A[T].name}var D=a?"bin":"xml",b=i.workbooks[0].lastIndexOf("/"),F=(i.workbooks[0].slice(0,b+1)+"_rels/"+i.workbooks[0].slice(b+1)+".rels").replace(/^\//,"");$a(e,F)||(F="xl/_rels/workbook."+D+".rels");var C=P1(ha(e,F,!0),F.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=BDe(Yn(e,Ra(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=D8e(Yn(e,Ra(i.people[0])),t)),C&&(C=ENe(C,c.Sheets));var N=Yn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=d.Worksheets;++v){var R="sheet";if(C&&C[v]?(E="xl/"+C[v][1].replace(/[\/]?xl\//,""),$a(e,E)||(E=C[v][1]),$a(e,E)||(E=F.replace(/_rels\/.*$/,"")+C[v][1]),R=C[v][2]):(E="xl/worksheets/sheet"+(v+1-N)+"."+D,E=E.replace(/sheet0\./,"sheet.")),k=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(d.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var L=!1,j=0;j!=t.sheets.length;++j)typeof t.sheets[j]=="number"&&t.sheets[j]==v&&(L=1),typeof t.sheets[j]=="string"&&t.sheets[j].toLowerCase()==d.SheetNames[v].toLowerCase()&&(L=1);if(!L)continue e}}kNe(e,E,k,d.SheetNames[v],v,_,s,R,t,c,l,u)}return m={Directory:i,Workbook:c,Props:d,Custprops:g,Deps:x,Sheets:s,SheetNames:d.SheetNames,Strings:U1,Styles:u,Themes:l,SSF:Lr(_t)},t&&t.bookFiles&&(e.files?(m.keys=r,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(q,U){q=q.replace(/^Root Entry[\/]/,""),m.keys.push(q),m.files[q]=e.FileIndex[U]}))),t&&t.bookVBA&&(i.vba.length>0?m.vbaraw=Yn(e,Ra(i.vba[0]),!0):i.defaults&&i.defaults.bin===I8e&&(m.vbaraw=Yn(e,"xl/vbaProject.bin",!0))),m}function bNe(e,t){var n=t||{},r="Workbook",i=Rt.find(e,r);try{if(r="/!DataSpaces/Version",i=Rt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(xFe(i.content),r="/!DataSpaces/DataSpaceMap",i=Rt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=vFe(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Rt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=_Fe(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Rt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);EFe(i.content)}catch{}if(r="/EncryptionInfo",i=Rt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=kFe(i.content);if(r="/EncryptedPackage",i=Rt.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function m6(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=ba(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function ANe(e,t){return Rt.find(e,"EncryptedPackage")?bNe(e,t):oK(e,t)}function CNe(e,t){var n,r=e,i=t||{};return i.type||(i.type=Ft&&Buffer.isBuffer(e)?"buffer":"base64"),n=eX(r,i),SNe(n,i)}function fK(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return p3(e.slice(n),t);default:break e}return bg.to_workbook(e,t)}function TNe(e,t){var n="",r=m6(e,t);switch(t.type){case"base64":n=ba(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Uf(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=ln(n)),t.type="binary",fK(n,t)}function FNe(e,t){var n=e;return t.type=="base64"&&(n=ba(n)),n=wg.utils.decode(1200,n.slice(2),"str"),t.type="binary",fK(n,t)}function ONe(e){return e.match(/[^\x00-\x7F]/)?_1(e):e}function Vb(e,t,n,r){return r?(n.type="string",bg.to_workbook(e,n)):bg.to_workbook(t,n)}function y3(e,t){$q();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return y3(new Uint8Array(e),(n=Lr(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],a=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),kd={},n.dateNF&&(kd.dateNF=n.dateNF),n.type||(n.type=Ft&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=Ft?"buffer":"binary",r=xCe(e),typeof Uint8Array<"u"&&!Ft&&(n.type="array")),n.type=="string"&&(a=!0,n.type="binary",n.codepage=65001,r=ONe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return n=Lr(n),n.type="array",y3(q8(r),n)}switch((i=m6(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return ANe(Rt.read(r,n),n);break;case 9:if(i[1]<=8)return oK(r,n);break;case 60:return p3(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return iFe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return nFe.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?CNe(r,n):Vb(e,r,n,a);case 239:return i[3]===60?p3(r,n):Vb(e,r,n,a);case 255:if(i[1]===254)return FNe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return z1.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return z1.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return E$.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return IFe.to_workbook(r,n);break;case 10:case 13:case 32:return TNe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return eFe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?E$.to_workbook(r,n):Vb(e,r,n,a)}function DNe(e,t,n,r,i,a,s,o){var l=Pr(n),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!s||e[n])for(var g=t.s.c;g<=t.e.c;++g){var m=s?e[n][g]:e[r[g]+l];if(m===void 0||m.t===void 0){if(u===void 0)continue;a[g]!=null&&(p[a[g]]=u);continue}var x=m.v;switch(m.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(a[g]!=null){if(x==null)if(m.t=="e"&&x===null)p[a[g]]=null;else if(u!==void 0)p[a[g]]=u;else if(c&&x===null)p[a[g]]=null;else continue;else p[a[g]]=c&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?x:Fl(m,x,o);x!=null&&(d=!1)}}return{row:p,isempty:d}}function v3(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=u.range!=null?u.range:e["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof c){case"string":l=Rn(c);break;case"number":l=Rn(e["!ref"]),l.s.r=c;break;default:l=c}r>0&&(i=0);var d=Pr(l.s.r),p=[],g=[],m=0,x=0,v=Array.isArray(e),_=l.s.r,E=0,k={};v&&!e[_]&&(e[_]=[]);var A=u.skipHidden&&e["!cols"]||[],T=u.skipHidden&&e["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(A[E]||{}).hidden)switch(p[E]=ir(E),n=v?e[_][E]:e[p[E]+d],r){case 1:a[E]=E-l.s.c;break;case 2:a[E]=p[E];break;case 3:a[E]=u.header[E-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=s=Fl(n,null,u),x=k[s]||0,!x)k[s]=1;else{do o=s+"_"+x++;while(k[o]);k[s]=x,k[o]=1}a[E]=o}for(_=l.s.r+i;_<=l.e.r;++_)if(!(T[_]||{}).hidden){var D=DNe(e,l,_,p,r,a,v,u);(D.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(g[m++]=D.row)}return g.length=m,g}var B$=/"/g;function NNe(e,t,n,r,i,a,s,o){for(var l=!0,u=[],c="",d=Pr(n),p=t.s.c;p<=t.e.c;++p)if(r[p]){var g=o.dense?(e[n]||[])[p]:e[r[p]+d];if(g==null)c="";else if(g.v!=null){l=!1,c=""+(o.rawNumbers&&g.t=="n"?g.v:Fl(g,null,o));for(var m=0,x=0;m!==c.length;++m)if((x=c.charCodeAt(m))===i||x===a||x===34||o.forceQuotes){c='"'+c.replace(B$,'""')+'"';break}c=="ID"&&(c='"ID"')}else g.f!=null&&!g.F?(l=!1,c="="+g.f,c.indexOf(",")>=0&&(c='"'+c.replace(B$,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(s)}function dK(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=Rn(e["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),c="",d=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],g=r.skipHidden&&e["!rows"]||[],m=i.s.c;m<=i.e.c;++m)(p[m]||{}).hidden||(d[m]=ir(m));for(var x=0,v=i.s.r;v<=i.e.r;++v)(g[v]||{}).hidden||(c=NNe(e,i,v,d,s,l,a,r),c!=null&&(r.strip&&(c=c.replace(u,"")),(c||r.blankrows!==!1)&&n.push((x++?o:"")+c)));return delete r.dense,n.join("")}function MNe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=dK(e,t);return n}function RNe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=Rn(e["!ref"]),a="",s=[],o,l=[],u=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=ir(o);for(var c=i.s.r;c<=i.e.r;++c)for(a=Pr(c),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,n=u?(e[c]||[])[o]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function hK(e,t,n){var r=n||{},i=+!r.skipHeader,a=e||{},s=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var l=typeof r.origin=="string"?Ai(r.origin):r.origin;s=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var d=Rn(a["!ref"]);c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),s==-1&&(s=d.e.r+1,c.e.r=s+t.length-1+i)}else s==-1&&(s=0,c.e.r=t.length-1+i);var p=r.header||[],g=0;t.forEach(function(x,v){Ao(x).forEach(function(_){(g=p.indexOf(_))==-1&&(p[g=p.length]=_);var E=x[_],k="z",A="",T=yt({c:o+g,r:s+v+i});u=Fg(a,T),E&&typeof E=="object"&&!(E instanceof Date)?a[T]=E:(typeof E=="number"?k="n":typeof E=="boolean"?k="b":typeof E=="string"?k="s":E instanceof Date?(k="d",r.cellDates||(k="n",E=Mi(E)),A=r.dateNF||_t[14]):E===null&&r.nullError&&(k="e",E=0),u?(u.t=k,u.v=E,delete u.w,delete u.R,A&&(u.z=A)):a[T]=u={t:k,v:E},A&&(u.z=A))})}),c.e.c=Math.max(c.e.c,o+p.length-1);var m=Pr(s);if(i)for(g=0;g<p.length;++g)a[ir(g+o)+m]={t:"s",v:p[g]};return a["!ref"]=It(c),a}function INe(e,t){return hK(null,e,t)}function Fg(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Ai(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Fg(e,yt(t)):Fg(e,yt({r:t,c:n||0}))}function $Ne(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function x6(){return{SheetNames:[],Sheets:{}}}function y6(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=s+i)!=-1;++i);}if(_De(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function LNe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=$Ne(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function PNe(e,t){return e.z=t,e}function pK(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function BNe(e,t,n){return pK(e,"#"+t,n)}function zNe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function UNe(e,t,n,r){for(var i=typeof t!="string"?t:Rn(t),a=typeof t=="string"?t:It(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=Fg(e,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return e}var WNe={encode_col:ir,encode_row:Pr,encode_cell:yt,encode_range:It,decode_col:r6,decode_row:n6,split_cell:ZCe,decode_cell:Ai,decode_range:$h,format_cell:Fl,sheet_add_aoa:yX,sheet_add_json:hK,sheet_add_dom:lK,aoa_to_sheet:Lh,json_to_sheet:INe,table_to_sheet:uK,table_to_book:iNe,sheet_to_csv:dK,sheet_to_txt:MNe,sheet_to_json:v3,sheet_to_html:rNe,sheet_to_formulae:RNe,sheet_to_row_object_array:v3,sheet_get_cell:Fg,book_new:x6,book_append_sheet:y6,book_set_sheet_visibility:LNe,cell_set_number_format:PNe,cell_set_hyperlink:pK,cell_set_internal_link:BNe,cell_add_comment:zNe,sheet_set_array_formula:UNe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const HNe=10*1024*1024,J2=1e5;function jNe(e){var n;const t=(n=e.name.split(".").pop())==null?void 0:n.toLowerCase();return t==="csv"?"csv":t==="json"?"json":t==="xlsx"?"xlsx":t==="xls"?"xls":null}async function GNe(e){if(e.size>HNe)return{type:"TOO_LARGE",message:"File too large",details:`Maximum file size is 10MB. Your file is ${(e.size/1024/1024).toFixed(1)}MB.`};const t=jNe(e);if(!t)return{type:"INVALID_FORMAT",message:"Unsupported file format",details:"Please upload a CSV, JSON, or Excel (.xlsx, .xls) file."};try{switch(t){case"csv":return await YNe(e);case"json":return await VNe(e);case"xlsx":case"xls":return await qNe(e)}}catch(n){return{type:"PARSE_ERROR",message:"Failed to parse file",details:n instanceof Error?n.message:"Unknown error occurred"}}}async function YNe(e){return new Promise(t=>{z3e.parse(e,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,preview:J2,complete:n=>{if(n.errors.length>0){t({type:"PARSE_ERROR",message:"CSV parsing error",details:n.errors[0].message});return}const r=n.data;if(r.length===0){t({type:"EMPTY_FILE",message:"File is empty",details:"The uploaded file contains no data rows."});return}t({data:r,fileName:e.name,rowCount:r.length,fieldCount:Object.keys(r[0]||{}).length})},error:n=>{t({type:"PARSE_ERROR",message:"CSV parsing failed",details:n.message})}})})}async function VNe(e){const t=await e.text();let n;try{n=JSON.parse(t)}catch{return{type:"PARSE_ERROR",message:"Invalid JSON",details:"The file contains malformed JSON."}}if(!Array.isArray(n))return{type:"INVALID_FORMAT",message:"Invalid data format",details:"JSON file must contain an array of objects."};if(n.length===0)return{type:"EMPTY_FILE",message:"File is empty",details:"The JSON array contains no objects."};if(typeof n[0]!="object"||n[0]===null)return{type:"INVALID_FORMAT",message:"Invalid data format",details:"JSON array must contain objects with named fields."};const r=n.slice(0,J2);return{data:r,fileName:e.name,rowCount:r.length,fieldCount:Object.keys(r[0]||{}).length}}async function qNe(e){const t=await e.arrayBuffer(),n=y3(t,{type:"array"}),r=n.SheetNames[0];if(!r)return{type:"EMPTY_FILE",message:"Empty workbook",details:"The Excel file contains no sheets."};const i=n.Sheets[r],a=WNe.sheet_to_json(i,{defval:null,raw:!1});return a.length===0?{type:"EMPTY_FILE",message:"Sheet is empty",details:"The first sheet contains no data."}:{data:a.slice(0,J2),fileName:e.name,rowCount:Math.min(a.length,J2),fieldCount:Object.keys(a[0]||{}).length}}function XNe(e){return"type"in e&&["PARSE_ERROR","INVALID_FORMAT","EMPTY_FILE","TOO_LARGE"].includes(e.type)}function KNe({isOpen:e,onClose:t}){const{loadData:n}=Hf(),[r,i]=qn.useState(!1),[a,s]=qn.useState(!1),[o,l]=qn.useState(null),[u,c]=qn.useState(null),d=qn.useRef(null);if(!e)return null;const p=A=>{A.preventDefault(),A.stopPropagation(),i(!0)},g=A=>{A.preventDefault(),A.stopPropagation(),i(!1)},m=async A=>{A.preventDefault(),A.stopPropagation(),i(!1);const T=A.dataTransfer.files;T.length>0&&await v(T[0])},x=async A=>{const T=A.target.files;T&&T.length>0&&await v(T[0])},v=async A=>{s(!0),l(null),c(null);const T=await GNe(A);s(!1),XNe(T)?l(T):c(T)},_=()=>{u&&(n(u.data),t())},E=()=>{l(null),c(null),s(!1),t()},k=()=>{l(null),c(null),d.current&&(d.current.value="")};return oe.jsxs("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.2s ease-out"},onClick:E,children:[oe.jsxs("div",{style:{backgroundColor:"var(--color-bg-secondary)",borderRadius:"16px",border:"1px solid var(--color-border)",padding:"32px",width:"480px",maxWidth:"90vw",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},onClick:A=>A.stopPropagation(),children:[oe.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[oe.jsxs("div",{children:[oe.jsx("h2",{style:{fontFamily:"var(--font-display)",fontSize:"20px",fontWeight:400,color:"var(--color-text-primary)",fontStyle:"italic",marginBottom:"4px"},children:"Upload Data"}),oe.jsx("p",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"CSV, JSON, or Excel files supported"})]}),oe.jsx("button",{onClick:E,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",backgroundColor:"transparent",border:"none",borderRadius:"8px",cursor:"pointer",color:"var(--color-text-muted)",transition:"all 0.15s ease"},onMouseOver:A=>{A.currentTarget.style.backgroundColor="var(--color-bg-tertiary)",A.currentTarget.style.color="var(--color-text-primary)"},onMouseOut:A=>{A.currentTarget.style.backgroundColor="transparent",A.currentTarget.style.color="var(--color-text-muted)"},children:oe.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[oe.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),a?oe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"48px",gap:"16px"},children:[oe.jsx("div",{style:{width:"40px",height:"40px",border:"2px solid var(--color-border)",borderTopColor:"var(--color-accent)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),oe.jsx("span",{style:{fontSize:"14px",color:"var(--color-text-secondary)"},children:"Processing file..."})]}):o?oe.jsxs("div",{style:{padding:"24px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px"},children:[oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[oe.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ef4444",fontSize:"16px",fontWeight:600},children:"!"}),oe.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#ef4444"},children:o.message})]}),o.details&&oe.jsx("p",{style:{fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"16px"},children:o.details}),oe.jsx("button",{onClick:k,style:{padding:"8px 16px",fontSize:"12px",fontWeight:500,backgroundColor:"var(--color-bg-tertiary)",color:"var(--color-text-primary)",border:"1px solid var(--color-border)",borderRadius:"6px",cursor:"pointer",transition:"all 0.15s ease"},onMouseOver:A=>{A.currentTarget.style.borderColor="var(--color-accent)"},onMouseOut:A=>{A.currentTarget.style.borderColor="var(--color-border)"},children:"Try Again"})]}):u?oe.jsxs("div",{style:{padding:"24px",backgroundColor:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"12px"},children:[oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[oe.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"rgba(34, 197, 94, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",color:"#22c55e"},children:oe.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:oe.jsx("polyline",{points:"20 6 9 17 4 12"})})}),oe.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#22c55e"},children:"File ready to load"})]}),oe.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"20px"},children:[oe.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"8px"},children:[oe.jsx("div",{style:{fontSize:"20px",fontWeight:600,color:"var(--color-text-primary)",marginBottom:"2px"},children:u.rowCount.toLocaleString()}),oe.jsx("div",{style:{fontSize:"11px",color:"var(--color-text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Rows"})]}),oe.jsxs("div",{style:{padding:"12px",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"8px"},children:[oe.jsx("div",{style:{fontSize:"20px",fontWeight:600,color:"var(--color-text-primary)",marginBottom:"2px"},children:u.fieldCount}),oe.jsx("div",{style:{fontSize:"11px",color:"var(--color-text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Fields"})]})]}),oe.jsx("p",{style:{fontSize:"12px",color:"var(--color-text-muted)",marginBottom:"16px"},children:u.fileName}),oe.jsxs("div",{style:{display:"flex",gap:"8px"},children:[oe.jsx("button",{onClick:_,style:{flex:1,padding:"10px 16px",fontSize:"13px",fontWeight:500,backgroundColor:"var(--color-accent)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.15s ease"},onMouseOver:A=>{A.currentTarget.style.opacity="0.9"},onMouseOut:A=>{A.currentTarget.style.opacity="1"},children:"Load Data"}),oe.jsx("button",{onClick:k,style:{padding:"10px 16px",fontSize:"13px",fontWeight:500,backgroundColor:"var(--color-bg-tertiary)",color:"var(--color-text-primary)",border:"1px solid var(--color-border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.15s ease"},onMouseOver:A=>{A.currentTarget.style.borderColor="var(--color-border-hover)"},onMouseOut:A=>{A.currentTarget.style.borderColor="var(--color-border)"},children:"Cancel"})]})]}):oe.jsxs("label",{onDragOver:p,onDragLeave:g,onDrop:m,style:{display:"block",padding:"48px 24px",border:`2px dashed ${r?"var(--color-accent)":"var(--color-border)"}`,borderRadius:"12px",backgroundColor:r?"var(--color-accent-glow)":"var(--color-bg-tertiary)",cursor:"pointer",textAlign:"center",transition:"all 0.2s ease"},children:[oe.jsx("input",{ref:d,type:"file",accept:".csv,.json,.xlsx,.xls",onChange:x,style:{display:"none"}}),oe.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 16px",borderRadius:"12px",backgroundColor:r?"var(--color-accent)":"var(--color-bg-elevated)",border:`1px solid ${r?"var(--color-accent)":"var(--color-border)"}`,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:oe.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:r?"white":"var(--color-text-muted)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[oe.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),oe.jsx("polyline",{points:"17 8 12 3 7 8"}),oe.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),oe.jsx("p",{style:{fontSize:"14px",color:r?"var(--color-accent)":"var(--color-text-primary)",fontWeight:500,marginBottom:"8px",transition:"color 0.2s ease"},children:r?"Drop file here":"Drag & drop or click to browse"}),oe.jsx("p",{style:{fontSize:"12px",color:"var(--color-text-muted)"},children:"Supports CSV, JSON, Excel (.xlsx, .xls)"}),oe.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"16px"},children:["CSV","JSON","XLS"].map(A=>oe.jsx("span",{style:{padding:"4px 8px",fontSize:"10px",fontWeight:500,backgroundColor:"var(--color-bg-elevated)",border:"1px solid var(--color-border)",borderRadius:"4px",color:"var(--color-text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:A},A))})]})]}),oe.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
      `})]})}function JNe(){const{state:e}=Hf(),[t,n]=qn.useState(!1);return e.isLoading?oe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"24px",background:"linear-gradient(135deg, var(--color-bg-primary) 0%, var(--color-bg-secondary) 100%)"},children:[oe.jsx("div",{style:{width:"48px",height:"48px",border:"2px solid var(--color-border)",borderTopColor:"var(--color-accent)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),oe.jsx("span",{style:{fontFamily:"var(--font-display)",fontSize:"18px",color:"var(--color-text-secondary)",fontStyle:"italic"},children:"Loading your data..."}),oe.jsx("style",{children:`
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]}):e.error?oe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"16px",background:"var(--color-bg-primary)"},children:[oe.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px"},children:"!"}),oe.jsx("span",{style:{fontFamily:"var(--font-display)",fontSize:"20px",color:"#ef4444"},children:e.error})]}):oe.jsxs("div",{style:{display:"grid",gridTemplateColumns:"240px 280px 1fr",gridTemplateRows:"64px 1fr",height:"100vh",overflow:"hidden",background:"var(--color-bg-primary)"},children:[oe.jsxs("header",{style:{gridColumn:"1 / -1",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 32px",borderBottom:"1px solid var(--color-border)",background:"var(--color-bg-secondary)"},children:[oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[oe.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(135deg, var(--color-accent) 0%, #ff8f75 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px var(--color-accent-glow)"},children:oe.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[oe.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),oe.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),oe.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}),oe.jsxs("h1",{style:{fontFamily:"var(--font-display)",fontSize:"22px",fontWeight:400,color:"var(--color-text-primary)",letterSpacing:"-0.02em"},children:["FinnViz ",oe.jsx("span",{style:{fontStyle:"italic",color:"var(--color-accent)"},children:"Studio"})]})]}),oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[oe.jsxs("button",{onClick:()=>n(!0),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:"var(--color-bg-tertiary)",border:"1px solid var(--color-border)",borderRadius:"6px",fontSize:"12px",fontWeight:500,color:"var(--color-text-secondary)",cursor:"pointer",transition:"all 0.15s ease"},onMouseOver:r=>{r.currentTarget.style.borderColor="var(--color-accent)",r.currentTarget.style.color="var(--color-accent)"},onMouseOut:r=>{r.currentTarget.style.borderColor="var(--color-border)",r.currentTarget.style.color="var(--color-text-secondary)"},children:[oe.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[oe.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),oe.jsx("polyline",{points:"17 8 12 3 7 8"}),oe.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Upload Data"]}),oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",backgroundColor:"var(--color-bg-tertiary)",borderRadius:"6px",fontSize:"12px",color:"var(--color-text-muted)"},children:[oe.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"var(--color-temporal)"}}),e.data.length," records loaded"]})]})]}),oe.jsx(kQ,{}),oe.jsx(TQ,{}),oe.jsx($3e,{}),oe.jsx("div",{className:"noise-overlay"}),oe.jsx(KNe,{isOpen:t,onClose:()=>n(!1)})]})}function QNe(){return oe.jsx(yQ,{children:oe.jsx(JNe,{})})}cQ.createRoot(document.getElementById("root")).render(oe.jsx(qn.StrictMode,{children:oe.jsx(QNe,{})}));
